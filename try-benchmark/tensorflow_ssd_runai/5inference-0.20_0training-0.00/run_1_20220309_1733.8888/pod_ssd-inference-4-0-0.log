+ test -f /etc/shinit_v2
+ source /etc/shinit_v2
+++ sed -n 's/^NVRM.*Kernel Module *\([^() ]*\).*$/\1/p' /proc/driver/nvidia/version
+++ sed 's/^$/unknown/'
++ NV_DRIVER_VERS=
++ export _CUDA_COMPAT_PATH=/usr/local/cuda/compat
++ _CUDA_COMPAT_PATH=/usr/local/cuda/compat
+++ hostname
++ _CUDA_COMPAT_CHECKFILE=/usr/local/cuda/compat/..ssd-inference-4-0-0.checked
++ _CUDA_COMPAT_REALLIB=/usr/local/cuda/compat/lib.real
++ _CUDA_COMPAT_SYMLINK=/usr/local/cuda/compat/lib
++ '[' -n '' -a -e /dev/nvidiactl -a '!' -e /usr/local/cuda/compat/..ssd-inference-4-0-0.checked ']'
++ unset _CUDA_COMPAT_CHECKFILE
++ unset _CUDA_COMPAT_REALLIB
++ unset _CUDA_COMPAT_SYMLINK
/etc/bash.bashrc: line 9: PS1: unbound variable
+ mkdir /tmp/cfg
+ cp -v /workdir/models/research/configs//ssd320_bench.config /workdir/models/research/configs//ssd320_full_1gpus.config /workdir/models/research/configs//ssd320_full_4gpus.config /workdir/models/research/configs//ssd320_full_8gpus.config /tmp/cfg
'/workdir/models/research/configs//ssd320_bench.config' -> '/tmp/cfg/ssd320_bench.config'
'/workdir/models/research/configs//ssd320_full_1gpus.config' -> '/tmp/cfg/ssd320_full_1gpus.config'
'/workdir/models/research/configs//ssd320_full_4gpus.config' -> '/tmp/cfg/ssd320_full_4gpus.config'
'/workdir/models/research/configs//ssd320_full_8gpus.config' -> '/tmp/cfg/ssd320_full_8gpus.config'
+ sed -i 's|/data/coco2017_tfrecords|/storage/coco2017_tfrecords|' /tmp/cfg/ssd320_bench.config /tmp/cfg/ssd320_full_1gpus.config /tmp/cfg/ssd320_full_4gpus.config /tmp/cfg/ssd320_full_8gpus.config
+ sed -i 's|/checkpoints|/storage/checkpoints|' /tmp/cfg/ssd320_bench.config /tmp/cfg/ssd320_full_1gpus.config /tmp/cfg/ssd320_full_4gpus.config /tmp/cfg/ssd320_full_8gpus.config
+ [[ inference == \i\n\f\e\r\e\n\c\e ]]
+ count=0
+ SECONDS=0
+ true
+ bash -x examples/SSD320_FP16_inference.sh /tmp/cfg --raport_file=/tmp/summary.json
+ test -f /etc/shinit_v2
+ source /etc/shinit_v2
+++ sed -n 's/^NVRM.*Kernel Module *\([^() ]*\).*$/\1/p' /proc/driver/nvidia/version
+++ sed 's/^$/unknown/'
++ NV_DRIVER_VERS=
++ export _CUDA_COMPAT_PATH=/usr/local/cuda/compat
++ _CUDA_COMPAT_PATH=/usr/local/cuda/compat
+++ hostname
++ _CUDA_COMPAT_CHECKFILE=/usr/local/cuda/compat/..ssd-inference-4-0-0.checked
++ _CUDA_COMPAT_REALLIB=/usr/local/cuda/compat/lib.real
++ _CUDA_COMPAT_SYMLINK=/usr/local/cuda/compat/lib
++ '[' -n '' -a -e /dev/nvidiactl -a '!' -e /usr/local/cuda/compat/..ssd-inference-4-0-0.checked ']'
++ unset _CUDA_COMPAT_CHECKFILE
++ unset _CUDA_COMPAT_REALLIB
++ unset _CUDA_COMPAT_SYMLINK
+ '[' -z '' ']'
+ return
+ PIPELINE_CONFIG_PATH=/tmp/cfg/ssd320_full_1gpus.config
+ export TF_ENABLE_AUTO_MIXED_PRECISION=1
+ TF_ENABLE_AUTO_MIXED_PRECISION=1
++ dirname examples/SSD320_FP16_inference.sh
+ SCRIPT_DIR=examples
++ realpath examples/../object_detection/
+ OBJECT_DETECTION=/workdir/models/research/object_detection
+ PYTHONPATH=/workdir/models/research/:/workdir/models/research/slim/::/workdir/models/research/object_detection
+ python examples/SSD320_inference.py --pipeline_config_path=/tmp/cfg/ssd320_full_1gpus.config --raport_file=/tmp/summary.json
2022-03-09 16:33:36.694544: I tensorflow/stream_executor/platform/default/dso_loader.cc:48] Successfully opened dynamic library libcudart.so.11.0
WARNING:tensorflow:Deprecation warnings have been disabled. Set TF_ENABLE_DEPRECATION_WARNINGS=1 to re-enable them.
WARNING:tensorflow:From /usr/local/lib/python3.6/dist-packages/horovod-0.19.1-py3.6-linux-x86_64.egg/horovod/tensorflow/__init__.py:152: The name tf.global_variables is deprecated. Please use tf.compat.v1.global_variables instead.

WARNING:tensorflow:From /usr/local/lib/python3.6/dist-packages/horovod-0.19.1-py3.6-linux-x86_64.egg/horovod/tensorflow/__init__.py:178: The name tf.get_default_graph is deprecated. Please use tf.compat.v1.get_default_graph instead.

WARNING:tensorflow:
The TensorFlow contrib module will not be included in TensorFlow 2.0.
For more information, please see:
  * https://github.com/tensorflow/community/blob/master/rfcs/20180907-contrib-sunset.md
  * https://github.com/tensorflow/addons
  * https://github.com/tensorflow/io (for I/O related ops)
If you depend on functionality not listed there, please file an issue.

WARNING:tensorflow:From /workdir/models/research/slim/nets/inception_resnet_v2.py:373: The name tf.GraphKeys is deprecated. Please use tf.compat.v1.GraphKeys instead.

WARNING:tensorflow:From /workdir/models/research/slim/nets/mobilenet/mobilenet.py:389: The name tf.nn.avg_pool is deprecated. Please use tf.nn.avg_pool2d instead.

WARNING:tensorflow:From examples/SSD320_inference.py:67: The name tf.train.SessionRunHook is deprecated. Please use tf.estimator.SessionRunHook instead.

WARNING:tensorflow:From examples/SSD320_inference.py:122: The name tf.app.run is deprecated. Please use tf.compat.v1.app.run instead.

WARNING:tensorflow:From examples/SSD320_inference.py:106: The name tf.logging.set_verbosity is deprecated. Please use tf.compat.v1.logging.set_verbosity instead.

W0309 16:33:40.825151 140317195199232 module_wrapper.py:139] From examples/SSD320_inference.py:106: The name tf.logging.set_verbosity is deprecated. Please use tf.compat.v1.logging.set_verbosity instead.

WARNING:tensorflow:From examples/SSD320_inference.py:106: The name tf.logging.INFO is deprecated. Please use tf.compat.v1.logging.INFO instead.

W0309 16:33:40.825569 140317195199232 module_wrapper.py:139] From examples/SSD320_inference.py:106: The name tf.logging.INFO is deprecated. Please use tf.compat.v1.logging.INFO instead.

WARNING:tensorflow:From examples/SSD320_inference.py:48: The name tf.ConfigProto is deprecated. Please use tf.compat.v1.ConfigProto instead.

W0309 16:33:40.825901 140317195199232 module_wrapper.py:139] From examples/SSD320_inference.py:48: The name tf.ConfigProto is deprecated. Please use tf.compat.v1.ConfigProto instead.

WARNING:tensorflow:From /workdir/models/research/object_detection/utils/config_util.py:94: The name tf.gfile.GFile is deprecated. Please use tf.io.gfile.GFile instead.

W0309 16:33:40.826771 140317195199232 module_wrapper.py:139] From /workdir/models/research/object_detection/utils/config_util.py:94: The name tf.gfile.GFile is deprecated. Please use tf.io.gfile.GFile instead.

WARNING:tensorflow:From /workdir/models/research/object_detection/model_lib.py:590: The name tf.logging.warning is deprecated. Please use tf.compat.v1.logging.warning instead.

W0309 16:33:40.833872 140317195199232 module_wrapper.py:139] From /workdir/models/research/object_detection/model_lib.py:590: The name tf.logging.warning is deprecated. Please use tf.compat.v1.logging.warning instead.

WARNING:tensorflow:Forced number of epochs for all eval validations to be 1.
W0309 16:33:40.834042 140317195199232 model_lib.py:591] Forced number of epochs for all eval validations to be 1.
WARNING:tensorflow:From /workdir/models/research/object_detection/utils/config_util.py:480: The name tf.logging.info is deprecated. Please use tf.compat.v1.logging.info instead.

W0309 16:33:40.834225 140317195199232 module_wrapper.py:139] From /workdir/models/research/object_detection/utils/config_util.py:480: The name tf.logging.info is deprecated. Please use tf.compat.v1.logging.info instead.

INFO:tensorflow:Maybe overwriting train_steps: None
I0309 16:33:40.834354 140317195199232 config_util.py:480] Maybe overwriting train_steps: None
INFO:tensorflow:Maybe overwriting sample_1_of_n_eval_examples: 1
I0309 16:33:40.834467 140317195199232 config_util.py:480] Maybe overwriting sample_1_of_n_eval_examples: 1
INFO:tensorflow:Maybe overwriting eval_num_epochs: 1
I0309 16:33:40.834572 140317195199232 config_util.py:480] Maybe overwriting eval_num_epochs: 1
INFO:tensorflow:Maybe overwriting load_pretrained: True
I0309 16:33:40.834733 140317195199232 config_util.py:480] Maybe overwriting load_pretrained: True
INFO:tensorflow:Ignoring config override key: load_pretrained
I0309 16:33:40.834872 140317195199232 config_util.py:490] Ignoring config override key: load_pretrained
WARNING:tensorflow:Expected number of evaluation epochs is 1, but instead encountered `eval_on_train_input_config.num_epochs` = 0. Overwriting `num_epochs` to 1.
W0309 16:33:40.835627 140317195199232 model_lib.py:607] Expected number of evaluation epochs is 1, but instead encountered `eval_on_train_input_config.num_epochs` = 0. Overwriting `num_epochs` to 1.
INFO:tensorflow:create_estimator_and_inputs: use_tpu False, export_to_tpu False
I0309 16:33:40.835808 140317195199232 model_lib.py:640] create_estimator_and_inputs: use_tpu False, export_to_tpu False
WARNING:tensorflow:Using temporary folder as model directory: /tmp/tmpcn80xj2m
W0309 16:33:40.836404 140317195199232 estimator.py:1821] Using temporary folder as model directory: /tmp/tmpcn80xj2m
INFO:tensorflow:Using config: {'_model_dir': '/tmp/tmpcn80xj2m', '_tf_random_seed': None, '_save_summary_steps': 100, '_save_checkpoints_steps': 100000, '_save_checkpoints_secs': None, '_session_config': , '_keep_checkpoint_max': 5, '_keep_checkpoint_every_n_hours': 10000, '_log_step_count_steps': 100, '_train_distribute': None, '_device_fn': None, '_protocol': None, '_eval_distribute': None, '_experimental_distribute': None, '_experimental_max_worker_delay_secs': None, '_session_creation_timeout_secs': 7200, '_service': None, '_cluster_spec': <tensorflow.python.training.server_lib.ClusterSpec object at 0x7f9d8526c7b8>, '_task_type': 'worker', '_task_id': 0, '_global_id_in_cluster': 0, '_master': '', '_evaluation_master': '', '_is_chief': True, '_num_ps_replicas': 0, '_num_worker_replicas': 1}
I0309 16:33:40.836838 140317195199232 estimator.py:212] Using config: {'_model_dir': '/tmp/tmpcn80xj2m', '_tf_random_seed': None, '_save_summary_steps': 100, '_save_checkpoints_steps': 100000, '_save_checkpoints_secs': None, '_session_config': , '_keep_checkpoint_max': 5, '_keep_checkpoint_every_n_hours': 10000, '_log_step_count_steps': 100, '_train_distribute': None, '_device_fn': None, '_protocol': None, '_eval_distribute': None, '_experimental_distribute': None, '_experimental_max_worker_delay_secs': None, '_session_creation_timeout_secs': 7200, '_service': None, '_cluster_spec': <tensorflow.python.training.server_lib.ClusterSpec object at 0x7f9d8526c7b8>, '_task_type': 'worker', '_task_id': 0, '_global_id_in_cluster': 0, '_master': '', '_evaluation_master': '', '_is_chief': True, '_num_ps_replicas': 0, '_num_worker_replicas': 1}
WARNING:tensorflow:Estimator's model_fn (<function create_model_fn.<locals>.model_fn at 0x7f9d8526fd90>) includes params argument, but params are not passed to Estimator.
W0309 16:33:40.837109 140317195199232 model_fn.py:630] Estimator's model_fn (<function create_model_fn.<locals>.model_fn at 0x7f9d8526fd90>) includes params argument, but params are not passed to Estimator.
INFO:tensorflow:Could not find trained model in model_dir: /tmp/tmpcn80xj2m, running initialization to predict.
I0309 16:33:40.838254 140317195199232 estimator.py:615] Could not find trained model in model_dir: /tmp/tmpcn80xj2m, running initialization to predict.
WARNING:tensorflow:From /workdir/models/research/object_detection/data_decoders/tf_example_decoder.py:167: The name tf.FixedLenFeature is deprecated. Please use tf.io.FixedLenFeature instead.

W0309 16:33:40.844903 140317195199232 module_wrapper.py:139] From /workdir/models/research/object_detection/data_decoders/tf_example_decoder.py:167: The name tf.FixedLenFeature is deprecated. Please use tf.io.FixedLenFeature instead.

WARNING:tensorflow:From /workdir/models/research/object_detection/data_decoders/tf_example_decoder.py:182: The name tf.VarLenFeature is deprecated. Please use tf.io.VarLenFeature instead.

W0309 16:33:40.845174 140317195199232 module_wrapper.py:139] From /workdir/models/research/object_detection/data_decoders/tf_example_decoder.py:182: The name tf.VarLenFeature is deprecated. Please use tf.io.VarLenFeature instead.

WARNING:tensorflow:From /workdir/models/research/object_detection/builders/dataset_builder.py:76: The name tf.gfile.Glob is deprecated. Please use tf.io.gfile.glob instead.

W0309 16:33:40.897655 140317195199232 module_wrapper.py:139] From /workdir/models/research/object_detection/builders/dataset_builder.py:76: The name tf.gfile.Glob is deprecated. Please use tf.io.gfile.glob instead.

2022-03-09 16:33:41.553453: I tensorflow/stream_executor/platform/default/dso_loader.cc:48] Successfully opened dynamic library libcuda.so.1
2022-03-09 16:33:41.575066: I tensorflow/stream_executor/cuda/cuda_gpu_executor.cc:983] successful NUMA node read from SysFS had negative value (-1), but there must be at least one NUMA node, so returning NUMA node zero
2022-03-09 16:33:41.578091: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1639] Found device 0 with properties: 
name: Tesla V100-SXM2-16GB major: 7 minor: 0 memoryClockRate(GHz): 1.53
pciBusID: 0000:00:1e.0
2022-03-09 16:33:41.578137: I tensorflow/stream_executor/platform/default/dso_loader.cc:48] Successfully opened dynamic library libcudart.so.11.0
2022-03-09 16:33:41.580995: I tensorflow/stream_executor/platform/default/dso_loader.cc:48] Successfully opened dynamic library libcublas.so.11
2022-03-09 16:33:41.582402: I tensorflow/stream_executor/platform/default/dso_loader.cc:48] Successfully opened dynamic library libcufft.so.10
2022-03-09 16:33:41.582768: I tensorflow/stream_executor/platform/default/dso_loader.cc:48] Successfully opened dynamic library libcurand.so.10
2022-03-09 16:33:41.585816: I tensorflow/stream_executor/platform/default/dso_loader.cc:48] Successfully opened dynamic library libcusolver.so.10
2022-03-09 16:33:41.586553: I tensorflow/stream_executor/platform/default/dso_loader.cc:48] Successfully opened dynamic library libcusparse.so.11
2022-03-09 16:33:41.586793: I tensorflow/stream_executor/platform/default/dso_loader.cc:48] Successfully opened dynamic library libcudnn.so.8
2022-03-09 16:33:41.586944: I tensorflow/stream_executor/cuda/cuda_gpu_executor.cc:983] successful NUMA node read from SysFS had negative value (-1), but there must be at least one NUMA node, so returning NUMA node zero
2022-03-09 16:33:41.588219: I tensorflow/stream_executor/cuda/cuda_gpu_executor.cc:983] successful NUMA node read from SysFS had negative value (-1), but there must be at least one NUMA node, so returning NUMA node zero
2022-03-09 16:33:41.589346: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1767] Adding visible gpu devices: 0
WARNING:tensorflow:The operation `tf.image.convert_image_dtype` will be skipped since the input and output dtypes are identical.
W0309 16:33:41.607570 140317195199232 image_ops_impl.py:1776] The operation `tf.image.convert_image_dtype` will be skipped since the input and output dtypes are identical.
WARNING:tensorflow:The operation `tf.image.convert_image_dtype` will be skipped since the input and output dtypes are identical.
W0309 16:33:41.613387 140317195199232 image_ops_impl.py:1776] The operation `tf.image.convert_image_dtype` will be skipped since the input and output dtypes are identical.
WARNING:tensorflow:The operation `tf.image.convert_image_dtype` will be skipped since the input and output dtypes are identical.
W0309 16:33:41.622057 140317195199232 image_ops_impl.py:1776] The operation `tf.image.convert_image_dtype` will be skipped since the input and output dtypes are identical.
WARNING:tensorflow:The operation `tf.image.convert_image_dtype` will be skipped since the input and output dtypes are identical.
W0309 16:33:41.631274 140317195199232 image_ops_impl.py:1776] The operation `tf.image.convert_image_dtype` will be skipped since the input and output dtypes are identical.
WARNING:tensorflow:From /usr/local/lib/python3.6/dist-packages/tensorflow_core/python/autograph/converters/directives.py:119: The name tf.is_nan is deprecated. Please use tf.math.is_nan instead.

W0309 16:33:49.650264 140317195199232 module_wrapper.py:139] From /usr/local/lib/python3.6/dist-packages/tensorflow_core/python/autograph/converters/directives.py:119: The name tf.is_nan is deprecated. Please use tf.math.is_nan instead.

WARNING:tensorflow:From /usr/local/lib/python3.6/dist-packages/tensorflow_core/python/autograph/converters/directives.py:119: The name tf.image.resize_images is deprecated. Please use tf.image.resize instead.

W0309 16:33:50.281096 140317195199232 module_wrapper.py:139] From /usr/local/lib/python3.6/dist-packages/tensorflow_core/python/autograph/converters/directives.py:119: The name tf.image.resize_images is deprecated. Please use tf.image.resize instead.

WARNING:tensorflow:From /usr/local/lib/python3.6/dist-packages/tensorflow_core/python/autograph/converters/directives.py:119: The name tf.image.resize_nearest_neighbor is deprecated. Please use tf.compat.v1.image.resize_nearest_neighbor instead.

W0309 16:33:50.282291 140317195199232 module_wrapper.py:139] From /usr/local/lib/python3.6/dist-packages/tensorflow_core/python/autograph/converters/directives.py:119: The name tf.image.resize_nearest_neighbor is deprecated. Please use tf.compat.v1.image.resize_nearest_neighbor instead.

WARNING:tensorflow:From /usr/local/lib/python3.6/dist-packages/tensorflow_core/python/autograph/converters/directives.py:119: The name tf.string_to_hash_bucket_fast is deprecated. Please use tf.strings.to_hash_bucket_fast instead.

W0309 16:33:53.554536 140317195199232 module_wrapper.py:139] From /usr/local/lib/python3.6/dist-packages/tensorflow_core/python/autograph/converters/directives.py:119: The name tf.string_to_hash_bucket_fast is deprecated. Please use tf.strings.to_hash_bucket_fast instead.

WARNING:tensorflow:From /usr/local/lib/python3.6/dist-packages/tensorflow_core/python/autograph/converters/directives.py:119: The name tf.random_uniform is deprecated. Please use tf.random.uniform instead.

W0309 16:33:53.702503 140317195199232 module_wrapper.py:139] From /usr/local/lib/python3.6/dist-packages/tensorflow_core/python/autograph/converters/directives.py:119: The name tf.random_uniform is deprecated. Please use tf.random.uniform instead.

INFO:tensorflow:Calling model_fn.
I0309 16:33:54.105385 140317195199232 estimator.py:1148] Calling model_fn.
WARNING:tensorflow:From /workdir/models/research/object_detection/meta_architectures/ssd_meta_arch.py:564: The name tf.variable_scope is deprecated. Please use tf.compat.v1.variable_scope instead.

W0309 16:33:54.106739 140317195199232 module_wrapper.py:139] From /workdir/models/research/object_detection/meta_architectures/ssd_meta_arch.py:564: The name tf.variable_scope is deprecated. Please use tf.compat.v1.variable_scope instead.

WARNING:tensorflow:From /workdir/models/research/object_detection/core/anchor_generator.py:149: The name tf.assert_equal is deprecated. Please use tf.compat.v1.assert_equal instead.

W0309 16:33:56.125128 140317195199232 module_wrapper.py:139] From /workdir/models/research/object_detection/core/anchor_generator.py:149: The name tf.assert_equal is deprecated. Please use tf.compat.v1.assert_equal instead.

WARNING:tensorflow:From /workdir/models/research/object_detection/predictors/convolutional_box_predictor.py:383: The name tf.AUTO_REUSE is deprecated. Please use tf.compat.v1.AUTO_REUSE instead.

W0309 16:33:56.797823 140317195199232 module_wrapper.py:139] From /workdir/models/research/object_detection/predictors/convolutional_box_predictor.py:383: The name tf.AUTO_REUSE is deprecated. Please use tf.compat.v1.AUTO_REUSE instead.

WARNING:tensorflow:From /workdir/models/research/object_detection/exporter.py:231: The name tf.add_to_collection is deprecated. Please use tf.compat.v1.add_to_collection instead.

W0309 16:34:00.927834 140317195199232 module_wrapper.py:139] From /workdir/models/research/object_detection/exporter.py:231: The name tf.add_to_collection is deprecated. Please use tf.compat.v1.add_to_collection instead.

WARNING:tensorflow:From /workdir/models/research/object_detection/model_lib.py:402: The name tf.saved_model.signature_constants.PREDICT_METHOD_NAME is deprecated. Please use tf.saved_model.PREDICT_METHOD_NAME instead.

W0309 16:34:00.928229 140317195199232 module_wrapper.py:139] From /workdir/models/research/object_detection/model_lib.py:402: The name tf.saved_model.signature_constants.PREDICT_METHOD_NAME is deprecated. Please use tf.saved_model.PREDICT_METHOD_NAME instead.

WARNING:tensorflow:From /workdir/models/research/object_detection/model_lib.py:487: The name tf.train.Saver is deprecated. Please use tf.compat.v1.train.Saver instead.

W0309 16:34:00.928510 140317195199232 module_wrapper.py:139] From /workdir/models/research/object_detection/model_lib.py:487: The name tf.train.Saver is deprecated. Please use tf.compat.v1.train.Saver instead.

WARNING:tensorflow:From /workdir/models/research/object_detection/model_lib.py:492: The name tf.train.Scaffold is deprecated. Please use tf.compat.v1.train.Scaffold instead.

W0309 16:34:01.339234 140317195199232 module_wrapper.py:139] From /workdir/models/research/object_detection/model_lib.py:492: The name tf.train.Scaffold is deprecated. Please use tf.compat.v1.train.Scaffold instead.

INFO:tensorflow:Done calling model_fn.
I0309 16:34:01.339646 140317195199232 estimator.py:1150] Done calling model_fn.
INFO:tensorflow:Graph was finalized.
I0309 16:34:02.026340 140317195199232 monitored_session.py:240] Graph was finalized.
2022-03-09 16:34:02.045927: I tensorflow/core/platform/profile_utils/cpu_utils.cc:94] CPU Frequency: 2300010000 Hz
2022-03-09 16:34:02.047259: I tensorflow/compiler/xla/service/service.cc:168] XLA service 0x7235710 initialized for platform Host (this does not guarantee that XLA will be used). Devices:
2022-03-09 16:34:02.047308: I tensorflow/compiler/xla/service/service.cc:176]   StreamExecutor device (0): Host, Default Version
2022-03-09 16:34:02.235072: I tensorflow/stream_executor/cuda/cuda_gpu_executor.cc:983] successful NUMA node read from SysFS had negative value (-1), but there must be at least one NUMA node, so returning NUMA node zero
2022-03-09 16:34:02.236536: I tensorflow/compiler/xla/service/service.cc:168] XLA service 0x720f2c0 initialized for platform CUDA (this does not guarantee that XLA will be used). Devices:
2022-03-09 16:34:02.236570: I tensorflow/compiler/xla/service/service.cc:176]   StreamExecutor device (0): Tesla V100-SXM2-16GB, Compute Capability 7.0
2022-03-09 16:34:02.236809: I tensorflow/stream_executor/cuda/cuda_gpu_executor.cc:983] successful NUMA node read from SysFS had negative value (-1), but there must be at least one NUMA node, so returning NUMA node zero
2022-03-09 16:34:02.237953: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1639] Found device 0 with properties: 
name: Tesla V100-SXM2-16GB major: 7 minor: 0 memoryClockRate(GHz): 1.53
pciBusID: 0000:00:1e.0
2022-03-09 16:34:02.238011: I tensorflow/stream_executor/platform/default/dso_loader.cc:48] Successfully opened dynamic library libcudart.so.11.0
2022-03-09 16:34:02.238067: I tensorflow/stream_executor/platform/default/dso_loader.cc:48] Successfully opened dynamic library libcublas.so.11
2022-03-09 16:34:02.238104: I tensorflow/stream_executor/platform/default/dso_loader.cc:48] Successfully opened dynamic library libcufft.so.10
2022-03-09 16:34:02.238128: I tensorflow/stream_executor/platform/default/dso_loader.cc:48] Successfully opened dynamic library libcurand.so.10
2022-03-09 16:34:02.238151: I tensorflow/stream_executor/platform/default/dso_loader.cc:48] Successfully opened dynamic library libcusolver.so.10
2022-03-09 16:34:02.238173: I tensorflow/stream_executor/platform/default/dso_loader.cc:48] Successfully opened dynamic library libcusparse.so.11
2022-03-09 16:34:02.238201: I tensorflow/stream_executor/platform/default/dso_loader.cc:48] Successfully opened dynamic library libcudnn.so.8
2022-03-09 16:34:02.238313: I tensorflow/stream_executor/cuda/cuda_gpu_executor.cc:983] successful NUMA node read from SysFS had negative value (-1), but there must be at least one NUMA node, so returning NUMA node zero
2022-03-09 16:34:02.239518: I tensorflow/stream_executor/cuda/cuda_gpu_executor.cc:983] successful NUMA node read from SysFS had negative value (-1), but there must be at least one NUMA node, so returning NUMA node zero
2022-03-09 16:34:02.240761: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1767] Adding visible gpu devices: 0
2022-03-09 16:34:02.240872: I tensorflow/stream_executor/platform/default/dso_loader.cc:48] Successfully opened dynamic library libcudart.so.11.0
2022-03-09 16:34:02.666090: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1180] Device interconnect StreamExecutor with strength 1 edge matrix:
2022-03-09 16:34:02.666150: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1186]      0 
2022-03-09 16:34:02.666163: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1199] 0:   N 
2022-03-09 16:34:02.667345: I tensorflow/stream_executor/cuda/cuda_gpu_executor.cc:983] successful NUMA node read from SysFS had negative value (-1), but there must be at least one NUMA node, so returning NUMA node zero
2022-03-09 16:34:02.668612: I tensorflow/stream_executor/cuda/cuda_gpu_executor.cc:983] successful NUMA node read from SysFS had negative value (-1), but there must be at least one NUMA node, so returning NUMA node zero
2022-03-09 16:34:02.669806: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1325] Created TensorFlow device (/job:localhost/replica:0/task:0/device:GPU:0 with 2044 MB memory) -> physical GPU (device: 0, name: Tesla V100-SXM2-16GB, pci bus id: 0000:00:1e.0, compute capability: 7.0)
2022-03-09 16:34:03.879302: I tensorflow/core/grappler/optimizers/auto_mixed_precision.cc:1987] Running auto_mixed_precision graph optimizer
2022-03-09 16:34:03.886933: I tensorflow/core/grappler/optimizers/auto_mixed_precision.cc:1343] No whitelist ops found, nothing to do
2022-03-09 16:34:05.568410: I tensorflow/core/grappler/optimizers/auto_mixed_precision.cc:1987] Running auto_mixed_precision graph optimizer
2022-03-09 16:34:05.573518: I tensorflow/core/grappler/optimizers/auto_mixed_precision.cc:1343] No whitelist ops found, nothing to do
INFO:tensorflow:Running local_init_op.
I0309 16:34:06.177094 140317195199232 session_manager.py:500] Running local_init_op.
2022-03-09 16:34:06.366155: I tensorflow/core/grappler/optimizers/auto_mixed_precision.cc:1987] Running auto_mixed_precision graph optimizer
2022-03-09 16:34:06.366511: I tensorflow/core/grappler/optimizers/auto_mixed_precision.cc:1343] No whitelist ops found, nothing to do
INFO:tensorflow:Done running local_init_op.
I0309 16:34:06.419044 140317195199232 session_manager.py:502] Done running local_init_op.
2022-03-09 16:34:06.715215: I tensorflow/core/grappler/optimizers/auto_mixed_precision.cc:1987] Running auto_mixed_precision graph optimizer
2022-03-09 16:34:06.721087: I tensorflow/core/grappler/optimizers/auto_mixed_precision.cc:1343] No whitelist ops found, nothing to do
2022-03-09 16:34:07.604549: I tensorflow/core/grappler/optimizers/auto_mixed_precision.cc:1987] Running auto_mixed_precision graph optimizer
2022-03-09 16:34:07.605428: I tensorflow/core/grappler/optimizers/auto_mixed_precision.cc:1343] No whitelist ops found, nothing to do
2022-03-09 16:34:07.662218: I tensorflow/core/grappler/optimizers/auto_mixed_precision.cc:1343] No whitelist ops found, nothing to do
2022-03-09 16:34:07.695085: I tensorflow/core/grappler/optimizers/auto_mixed_precision.cc:1343] No whitelist ops found, nothing to do
2022-03-09 16:34:07.714930: I tensorflow/core/grappler/optimizers/auto_mixed_precision.cc:1343] No whitelist ops found, nothing to do
2022-03-09 16:34:07.718597: I tensorflow/core/grappler/optimizers/auto_mixed_precision.cc:1343] No whitelist ops found, nothing to do
2022-03-09 16:34:07.722288: I tensorflow/core/grappler/optimizers/auto_mixed_precision.cc:1343] No whitelist ops found, nothing to do
2022-03-09 16:34:07.726154: I tensorflow/core/grappler/optimizers/auto_mixed_precision.cc:1343] No whitelist ops found, nothing to do
2022-03-09 16:34:07.729189: I tensorflow/core/grappler/optimizers/auto_mixed_precision.cc:1343] No whitelist ops found, nothing to do
2022-03-09 16:34:07.754577: I tensorflow/core/grappler/optimizers/auto_mixed_precision.cc:1343] No whitelist ops found, nothing to do
2022-03-09 16:34:07.777267: I tensorflow/core/grappler/optimizers/auto_mixed_precision.cc:1343] No whitelist ops found, nothing to do
2022-03-09 16:34:07.970113: I tensorflow/core/grappler/optimizers/auto_mixed_precision.cc:1343] No whitelist ops found, nothing to do
2022-03-09 16:34:08.059454: I tensorflow/core/grappler/optimizers/auto_mixed_precision.cc:1343] No whitelist ops found, nothing to do
2022-03-09 16:34:08.062920: I tensorflow/core/grappler/optimizers/auto_mixed_precision.cc:1343] No whitelist ops found, nothing to do
2022-03-09 16:34:08.066128: I tensorflow/core/grappler/optimizers/auto_mixed_precision.cc:1343] No whitelist ops found, nothing to do
2022-03-09 16:34:08.069345: I tensorflow/core/grappler/optimizers/auto_mixed_precision.cc:1343] No whitelist ops found, nothing to do
2022-03-09 16:34:08.071223: I tensorflow/core/grappler/optimizers/auto_mixed_precision.cc:1343] No whitelist ops found, nothing to do
2022-03-09 16:34:08.074413: I tensorflow/core/grappler/optimizers/auto_mixed_precision.cc:1343] No whitelist ops found, nothing to do
2022-03-09 16:34:08.077029: I tensorflow/core/grappler/optimizers/auto_mixed_precision.cc:1343] No whitelist ops found, nothing to do
2022-03-09 16:34:08.087496: I tensorflow/core/grappler/optimizers/auto_mixed_precision.cc:1343] No whitelist ops found, nothing to do
2022-03-09 16:34:08.096191: I tensorflow/core/grappler/optimizers/auto_mixed_precision.cc:1343] No whitelist ops found, nothing to do
2022-03-09 16:34:08.098353: I tensorflow/core/grappler/optimizers/auto_mixed_precision.cc:1343] No whitelist ops found, nothing to do
2022-03-09 16:34:08.100419: I tensorflow/core/grappler/optimizers/auto_mixed_precision.cc:1343] No whitelist ops found, nothing to do
2022-03-09 16:34:08.102861: I tensorflow/core/grappler/optimizers/auto_mixed_precision.cc:1343] No whitelist ops found, nothing to do
2022-03-09 16:34:08.105248: I tensorflow/core/grappler/optimizers/auto_mixed_precision.cc:1343] No whitelist ops found, nothing to do
2022-03-09 16:34:09.815835: I tensorflow/core/grappler/optimizers/auto_mixed_precision.cc:1987] Running auto_mixed_precision graph optimizer
2022-03-09 16:34:09.856964: I tensorflow/core/grappler/optimizers/auto_mixed_precision.cc:1035] Automatic Mixed Precision Grappler Pass Summary:

Total processable nodes: 3870
Recognized nodes available for conversion: 3198
Total nodes converted: 300
Total FP16 Cast ops used (excluding Const and Variable casts): 1
Whitelisted nodes converted: 110
Blacklisted nodes blocking conversion: 4
Nodes blocked from conversion by blacklisted nodes: 8

For more information regarding mixed precision training, including how to make automatic mixed precision aware of a custom op type, please see the documentation available here:
https://docs.nvidia.com/deeplearning/frameworks/tensorflow-user-guide/index.html#tfamp


2022-03-09 16:34:12.054299: I tensorflow/stream_executor/platform/default/dso_loader.cc:48] Successfully opened dynamic library libcudnn.so.8
2022-03-09 16:34:13.481902: I tensorflow/stream_executor/platform/default/dso_loader.cc:48] Successfully opened dynamic library libcublas.so.11
INFO:tensorflow:Latency 90%: 163.09 ms
I0309 16:35:09.108766 140317195199232 SSD320_inference.py:100] Latency 90%: 163.09 ms
INFO:tensorflow:Latency 95%: 172.89 ms
I0309 16:35:09.109768 140317195199232 SSD320_inference.py:100] Latency 95%: 172.89 ms
INFO:tensorflow:Latency 99%: 187.34 ms
I0309 16:35:09.110454 140317195199232 SSD320_inference.py:100] Latency 99%: 187.34 ms

Benchmark result: 7.294643763794873 img/s
+ count=1
+ echo INFERENCE_LOOP_COUNT=1
INFERENCE_LOOP_COUNT=1
+ [[ -n 20 ]]
+ minutes=1
+ [[ 1 -ge 20 ]]
+ true
+ bash -x examples/SSD320_FP16_inference.sh /tmp/cfg --raport_file=/tmp/summary.json
+ test -f /etc/shinit_v2
+ source /etc/shinit_v2
+++ sed 's/^$/unknown/'
+++ sed -n 's/^NVRM.*Kernel Module *\([^() ]*\).*$/\1/p' /proc/driver/nvidia/version
++ NV_DRIVER_VERS=
++ export _CUDA_COMPAT_PATH=/usr/local/cuda/compat
++ _CUDA_COMPAT_PATH=/usr/local/cuda/compat
+++ hostname
++ _CUDA_COMPAT_CHECKFILE=/usr/local/cuda/compat/..ssd-inference-4-0-0.checked
++ _CUDA_COMPAT_REALLIB=/usr/local/cuda/compat/lib.real
++ _CUDA_COMPAT_SYMLINK=/usr/local/cuda/compat/lib
++ '[' -n '' -a -e /dev/nvidiactl -a '!' -e /usr/local/cuda/compat/..ssd-inference-4-0-0.checked ']'
++ unset _CUDA_COMPAT_CHECKFILE
++ unset _CUDA_COMPAT_REALLIB
++ unset _CUDA_COMPAT_SYMLINK
+ '[' -z '' ']'
+ return
+ PIPELINE_CONFIG_PATH=/tmp/cfg/ssd320_full_1gpus.config
+ export TF_ENABLE_AUTO_MIXED_PRECISION=1
+ TF_ENABLE_AUTO_MIXED_PRECISION=1
++ dirname examples/SSD320_FP16_inference.sh
+ SCRIPT_DIR=examples
++ realpath examples/../object_detection/
+ OBJECT_DETECTION=/workdir/models/research/object_detection
+ PYTHONPATH=/workdir/models/research/:/workdir/models/research/slim/::/workdir/models/research/object_detection
+ python examples/SSD320_inference.py --pipeline_config_path=/tmp/cfg/ssd320_full_1gpus.config --raport_file=/tmp/summary.json
2022-03-09 16:35:11.409427: I tensorflow/stream_executor/platform/default/dso_loader.cc:48] Successfully opened dynamic library libcudart.so.11.0
WARNING:tensorflow:Deprecation warnings have been disabled. Set TF_ENABLE_DEPRECATION_WARNINGS=1 to re-enable them.
WARNING:tensorflow:From /usr/local/lib/python3.6/dist-packages/horovod-0.19.1-py3.6-linux-x86_64.egg/horovod/tensorflow/__init__.py:152: The name tf.global_variables is deprecated. Please use tf.compat.v1.global_variables instead.

WARNING:tensorflow:From /usr/local/lib/python3.6/dist-packages/horovod-0.19.1-py3.6-linux-x86_64.egg/horovod/tensorflow/__init__.py:178: The name tf.get_default_graph is deprecated. Please use tf.compat.v1.get_default_graph instead.

WARNING:tensorflow:
The TensorFlow contrib module will not be included in TensorFlow 2.0.
For more information, please see:
  * https://github.com/tensorflow/community/blob/master/rfcs/20180907-contrib-sunset.md
  * https://github.com/tensorflow/addons
  * https://github.com/tensorflow/io (for I/O related ops)
If you depend on functionality not listed there, please file an issue.

WARNING:tensorflow:From /workdir/models/research/slim/nets/inception_resnet_v2.py:373: The name tf.GraphKeys is deprecated. Please use tf.compat.v1.GraphKeys instead.

WARNING:tensorflow:From /workdir/models/research/slim/nets/mobilenet/mobilenet.py:389: The name tf.nn.avg_pool is deprecated. Please use tf.nn.avg_pool2d instead.

WARNING:tensorflow:From examples/SSD320_inference.py:67: The name tf.train.SessionRunHook is deprecated. Please use tf.estimator.SessionRunHook instead.

WARNING:tensorflow:From examples/SSD320_inference.py:122: The name tf.app.run is deprecated. Please use tf.compat.v1.app.run instead.

WARNING:tensorflow:From examples/SSD320_inference.py:106: The name tf.logging.set_verbosity is deprecated. Please use tf.compat.v1.logging.set_verbosity instead.

W0309 16:35:16.288979 139955223831296 module_wrapper.py:139] From examples/SSD320_inference.py:106: The name tf.logging.set_verbosity is deprecated. Please use tf.compat.v1.logging.set_verbosity instead.

WARNING:tensorflow:From examples/SSD320_inference.py:106: The name tf.logging.INFO is deprecated. Please use tf.compat.v1.logging.INFO instead.

W0309 16:35:16.289301 139955223831296 module_wrapper.py:139] From examples/SSD320_inference.py:106: The name tf.logging.INFO is deprecated. Please use tf.compat.v1.logging.INFO instead.

WARNING:tensorflow:From examples/SSD320_inference.py:48: The name tf.ConfigProto is deprecated. Please use tf.compat.v1.ConfigProto instead.

W0309 16:35:16.289579 139955223831296 module_wrapper.py:139] From examples/SSD320_inference.py:48: The name tf.ConfigProto is deprecated. Please use tf.compat.v1.ConfigProto instead.

WARNING:tensorflow:From /workdir/models/research/object_detection/utils/config_util.py:94: The name tf.gfile.GFile is deprecated. Please use tf.io.gfile.GFile instead.

W0309 16:35:16.290366 139955223831296 module_wrapper.py:139] From /workdir/models/research/object_detection/utils/config_util.py:94: The name tf.gfile.GFile is deprecated. Please use tf.io.gfile.GFile instead.

WARNING:tensorflow:From /workdir/models/research/object_detection/model_lib.py:590: The name tf.logging.warning is deprecated. Please use tf.compat.v1.logging.warning instead.

W0309 16:35:16.298092 139955223831296 module_wrapper.py:139] From /workdir/models/research/object_detection/model_lib.py:590: The name tf.logging.warning is deprecated. Please use tf.compat.v1.logging.warning instead.

WARNING:tensorflow:Forced number of epochs for all eval validations to be 1.
W0309 16:35:16.298356 139955223831296 model_lib.py:591] Forced number of epochs for all eval validations to be 1.
WARNING:tensorflow:From /workdir/models/research/object_detection/utils/config_util.py:480: The name tf.logging.info is deprecated. Please use tf.compat.v1.logging.info instead.

W0309 16:35:16.298621 139955223831296 module_wrapper.py:139] From /workdir/models/research/object_detection/utils/config_util.py:480: The name tf.logging.info is deprecated. Please use tf.compat.v1.logging.info instead.

INFO:tensorflow:Maybe overwriting train_steps: None
I0309 16:35:16.298881 139955223831296 config_util.py:480] Maybe overwriting train_steps: None
INFO:tensorflow:Maybe overwriting sample_1_of_n_eval_examples: 1
I0309 16:35:16.299105 139955223831296 config_util.py:480] Maybe overwriting sample_1_of_n_eval_examples: 1
INFO:tensorflow:Maybe overwriting eval_num_epochs: 1
I0309 16:35:16.299336 139955223831296 config_util.py:480] Maybe overwriting eval_num_epochs: 1
INFO:tensorflow:Maybe overwriting load_pretrained: True
I0309 16:35:16.299558 139955223831296 config_util.py:480] Maybe overwriting load_pretrained: True
INFO:tensorflow:Ignoring config override key: load_pretrained
I0309 16:35:16.299822 139955223831296 config_util.py:490] Ignoring config override key: load_pretrained
WARNING:tensorflow:Expected number of evaluation epochs is 1, but instead encountered `eval_on_train_input_config.num_epochs` = 0. Overwriting `num_epochs` to 1.
W0309 16:35:16.300781 139955223831296 model_lib.py:607] Expected number of evaluation epochs is 1, but instead encountered `eval_on_train_input_config.num_epochs` = 0. Overwriting `num_epochs` to 1.
INFO:tensorflow:create_estimator_and_inputs: use_tpu False, export_to_tpu False
I0309 16:35:16.301033 139955223831296 model_lib.py:640] create_estimator_and_inputs: use_tpu False, export_to_tpu False
WARNING:tensorflow:Using temporary folder as model directory: /tmp/tmpja5y5hck
W0309 16:35:16.301809 139955223831296 estimator.py:1821] Using temporary folder as model directory: /tmp/tmpja5y5hck
INFO:tensorflow:Using config: {'_model_dir': '/tmp/tmpja5y5hck', '_tf_random_seed': None, '_save_summary_steps': 100, '_save_checkpoints_steps': 100000, '_save_checkpoints_secs': None, '_session_config': , '_keep_checkpoint_max': 5, '_keep_checkpoint_every_n_hours': 10000, '_log_step_count_steps': 100, '_train_distribute': None, '_device_fn': None, '_protocol': None, '_eval_distribute': None, '_experimental_distribute': None, '_experimental_max_worker_delay_secs': None, '_session_creation_timeout_secs': 7200, '_service': None, '_cluster_spec': <tensorflow.python.training.server_lib.ClusterSpec object at 0x7f493dd937b8>, '_task_type': 'worker', '_task_id': 0, '_global_id_in_cluster': 0, '_master': '', '_evaluation_master': '', '_is_chief': True, '_num_ps_replicas': 0, '_num_worker_replicas': 1}
I0309 16:35:16.302326 139955223831296 estimator.py:212] Using config: {'_model_dir': '/tmp/tmpja5y5hck', '_tf_random_seed': None, '_save_summary_steps': 100, '_save_checkpoints_steps': 100000, '_save_checkpoints_secs': None, '_session_config': , '_keep_checkpoint_max': 5, '_keep_checkpoint_every_n_hours': 10000, '_log_step_count_steps': 100, '_train_distribute': None, '_device_fn': None, '_protocol': None, '_eval_distribute': None, '_experimental_distribute': None, '_experimental_max_worker_delay_secs': None, '_session_creation_timeout_secs': 7200, '_service': None, '_cluster_spec': <tensorflow.python.training.server_lib.ClusterSpec object at 0x7f493dd937b8>, '_task_type': 'worker', '_task_id': 0, '_global_id_in_cluster': 0, '_master': '', '_evaluation_master': '', '_is_chief': True, '_num_ps_replicas': 0, '_num_worker_replicas': 1}
WARNING:tensorflow:Estimator's model_fn (<function create_model_fn.<locals>.model_fn at 0x7f493dd6cd90>) includes params argument, but params are not passed to Estimator.
W0309 16:35:16.302746 139955223831296 model_fn.py:630] Estimator's model_fn (<function create_model_fn.<locals>.model_fn at 0x7f493dd6cd90>) includes params argument, but params are not passed to Estimator.
INFO:tensorflow:Could not find trained model in model_dir: /tmp/tmpja5y5hck, running initialization to predict.
I0309 16:35:16.308363 139955223831296 estimator.py:615] Could not find trained model in model_dir: /tmp/tmpja5y5hck, running initialization to predict.
WARNING:tensorflow:From /workdir/models/research/object_detection/data_decoders/tf_example_decoder.py:167: The name tf.FixedLenFeature is deprecated. Please use tf.io.FixedLenFeature instead.

W0309 16:35:16.316514 139955223831296 module_wrapper.py:139] From /workdir/models/research/object_detection/data_decoders/tf_example_decoder.py:167: The name tf.FixedLenFeature is deprecated. Please use tf.io.FixedLenFeature instead.

WARNING:tensorflow:From /workdir/models/research/object_detection/data_decoders/tf_example_decoder.py:182: The name tf.VarLenFeature is deprecated. Please use tf.io.VarLenFeature instead.

W0309 16:35:16.316976 139955223831296 module_wrapper.py:139] From /workdir/models/research/object_detection/data_decoders/tf_example_decoder.py:182: The name tf.VarLenFeature is deprecated. Please use tf.io.VarLenFeature instead.

WARNING:tensorflow:From /workdir/models/research/object_detection/builders/dataset_builder.py:76: The name tf.gfile.Glob is deprecated. Please use tf.io.gfile.glob instead.

W0309 16:35:16.393083 139955223831296 module_wrapper.py:139] From /workdir/models/research/object_detection/builders/dataset_builder.py:76: The name tf.gfile.Glob is deprecated. Please use tf.io.gfile.glob instead.

2022-03-09 16:35:17.405588: I tensorflow/stream_executor/platform/default/dso_loader.cc:48] Successfully opened dynamic library libcuda.so.1
2022-03-09 16:35:17.425565: I tensorflow/stream_executor/cuda/cuda_gpu_executor.cc:983] successful NUMA node read from SysFS had negative value (-1), but there must be at least one NUMA node, so returning NUMA node zero
2022-03-09 16:35:17.428159: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1639] Found device 0 with properties: 
name: Tesla V100-SXM2-16GB major: 7 minor: 0 memoryClockRate(GHz): 1.53
pciBusID: 0000:00:1e.0
2022-03-09 16:35:17.428219: I tensorflow/stream_executor/platform/default/dso_loader.cc:48] Successfully opened dynamic library libcudart.so.11.0
2022-03-09 16:35:17.432334: I tensorflow/stream_executor/platform/default/dso_loader.cc:48] Successfully opened dynamic library libcublas.so.11
2022-03-09 16:35:17.438473: I tensorflow/stream_executor/platform/default/dso_loader.cc:48] Successfully opened dynamic library libcufft.so.10
2022-03-09 16:35:17.439019: I tensorflow/stream_executor/platform/default/dso_loader.cc:48] Successfully opened dynamic library libcurand.so.10
2022-03-09 16:35:17.443539: I tensorflow/stream_executor/platform/default/dso_loader.cc:48] Successfully opened dynamic library libcusolver.so.10
2022-03-09 16:35:17.444798: I tensorflow/stream_executor/platform/default/dso_loader.cc:48] Successfully opened dynamic library libcusparse.so.11
2022-03-09 16:35:17.445140: I tensorflow/stream_executor/platform/default/dso_loader.cc:48] Successfully opened dynamic library libcudnn.so.8
2022-03-09 16:35:17.445382: I tensorflow/stream_executor/cuda/cuda_gpu_executor.cc:983] successful NUMA node read from SysFS had negative value (-1), but there must be at least one NUMA node, so returning NUMA node zero
2022-03-09 16:35:17.446781: I tensorflow/stream_executor/cuda/cuda_gpu_executor.cc:983] successful NUMA node read from SysFS had negative value (-1), but there must be at least one NUMA node, so returning NUMA node zero
2022-03-09 16:35:17.447930: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1767] Adding visible gpu devices: 0
WARNING:tensorflow:The operation `tf.image.convert_image_dtype` will be skipped since the input and output dtypes are identical.
W0309 16:35:17.474087 139955223831296 image_ops_impl.py:1776] The operation `tf.image.convert_image_dtype` will be skipped since the input and output dtypes are identical.
WARNING:tensorflow:The operation `tf.image.convert_image_dtype` will be skipped since the input and output dtypes are identical.
W0309 16:35:17.482165 139955223831296 image_ops_impl.py:1776] The operation `tf.image.convert_image_dtype` will be skipped since the input and output dtypes are identical.
WARNING:tensorflow:The operation `tf.image.convert_image_dtype` will be skipped since the input and output dtypes are identical.
W0309 16:35:17.496200 139955223831296 image_ops_impl.py:1776] The operation `tf.image.convert_image_dtype` will be skipped since the input and output dtypes are identical.
WARNING:tensorflow:The operation `tf.image.convert_image_dtype` will be skipped since the input and output dtypes are identical.
W0309 16:35:17.510291 139955223831296 image_ops_impl.py:1776] The operation `tf.image.convert_image_dtype` will be skipped since the input and output dtypes are identical.
WARNING:tensorflow:From /usr/local/lib/python3.6/dist-packages/tensorflow_core/python/autograph/converters/directives.py:119: The name tf.is_nan is deprecated. Please use tf.math.is_nan instead.

W0309 16:35:30.084101 139955223831296 module_wrapper.py:139] From /usr/local/lib/python3.6/dist-packages/tensorflow_core/python/autograph/converters/directives.py:119: The name tf.is_nan is deprecated. Please use tf.math.is_nan instead.

WARNING:tensorflow:From /usr/local/lib/python3.6/dist-packages/tensorflow_core/python/autograph/converters/directives.py:119: The name tf.image.resize_images is deprecated. Please use tf.image.resize instead.

W0309 16:35:31.247665 139955223831296 module_wrapper.py:139] From /usr/local/lib/python3.6/dist-packages/tensorflow_core/python/autograph/converters/directives.py:119: The name tf.image.resize_images is deprecated. Please use tf.image.resize instead.

WARNING:tensorflow:From /usr/local/lib/python3.6/dist-packages/tensorflow_core/python/autograph/converters/directives.py:119: The name tf.image.resize_nearest_neighbor is deprecated. Please use tf.compat.v1.image.resize_nearest_neighbor instead.

W0309 16:35:31.249885 139955223831296 module_wrapper.py:139] From /usr/local/lib/python3.6/dist-packages/tensorflow_core/python/autograph/converters/directives.py:119: The name tf.image.resize_nearest_neighbor is deprecated. Please use tf.compat.v1.image.resize_nearest_neighbor instead.

WARNING:tensorflow:From /usr/local/lib/python3.6/dist-packages/tensorflow_core/python/autograph/converters/directives.py:119: The name tf.string_to_hash_bucket_fast is deprecated. Please use tf.strings.to_hash_bucket_fast instead.

W0309 16:35:35.647395 139955223831296 module_wrapper.py:139] From /usr/local/lib/python3.6/dist-packages/tensorflow_core/python/autograph/converters/directives.py:119: The name tf.string_to_hash_bucket_fast is deprecated. Please use tf.strings.to_hash_bucket_fast instead.

WARNING:tensorflow:From /usr/local/lib/python3.6/dist-packages/tensorflow_core/python/autograph/converters/directives.py:119: The name tf.random_uniform is deprecated. Please use tf.random.uniform instead.

W0309 16:35:35.795398 139955223831296 module_wrapper.py:139] From /usr/local/lib/python3.6/dist-packages/tensorflow_core/python/autograph/converters/directives.py:119: The name tf.random_uniform is deprecated. Please use tf.random.uniform instead.

INFO:tensorflow:Calling model_fn.
I0309 16:35:36.194288 139955223831296 estimator.py:1148] Calling model_fn.
WARNING:tensorflow:From /workdir/models/research/object_detection/meta_architectures/ssd_meta_arch.py:564: The name tf.variable_scope is deprecated. Please use tf.compat.v1.variable_scope instead.

W0309 16:35:36.196295 139955223831296 module_wrapper.py:139] From /workdir/models/research/object_detection/meta_architectures/ssd_meta_arch.py:564: The name tf.variable_scope is deprecated. Please use tf.compat.v1.variable_scope instead.

WARNING:tensorflow:From /workdir/models/research/object_detection/core/anchor_generator.py:149: The name tf.assert_equal is deprecated. Please use tf.compat.v1.assert_equal instead.

W0309 16:35:38.153323 139955223831296 module_wrapper.py:139] From /workdir/models/research/object_detection/core/anchor_generator.py:149: The name tf.assert_equal is deprecated. Please use tf.compat.v1.assert_equal instead.

WARNING:tensorflow:From /workdir/models/research/object_detection/predictors/convolutional_box_predictor.py:383: The name tf.AUTO_REUSE is deprecated. Please use tf.compat.v1.AUTO_REUSE instead.

W0309 16:35:38.876306 139955223831296 module_wrapper.py:139] From /workdir/models/research/object_detection/predictors/convolutional_box_predictor.py:383: The name tf.AUTO_REUSE is deprecated. Please use tf.compat.v1.AUTO_REUSE instead.

WARNING:tensorflow:From /workdir/models/research/object_detection/exporter.py:231: The name tf.add_to_collection is deprecated. Please use tf.compat.v1.add_to_collection instead.

W0309 16:35:42.997242 139955223831296 module_wrapper.py:139] From /workdir/models/research/object_detection/exporter.py:231: The name tf.add_to_collection is deprecated. Please use tf.compat.v1.add_to_collection instead.

WARNING:tensorflow:From /workdir/models/research/object_detection/model_lib.py:402: The name tf.saved_model.signature_constants.PREDICT_METHOD_NAME is deprecated. Please use tf.saved_model.PREDICT_METHOD_NAME instead.

W0309 16:35:42.997573 139955223831296 module_wrapper.py:139] From /workdir/models/research/object_detection/model_lib.py:402: The name tf.saved_model.signature_constants.PREDICT_METHOD_NAME is deprecated. Please use tf.saved_model.PREDICT_METHOD_NAME instead.

WARNING:tensorflow:From /workdir/models/research/object_detection/model_lib.py:487: The name tf.train.Saver is deprecated. Please use tf.compat.v1.train.Saver instead.

W0309 16:35:42.997829 139955223831296 module_wrapper.py:139] From /workdir/models/research/object_detection/model_lib.py:487: The name tf.train.Saver is deprecated. Please use tf.compat.v1.train.Saver instead.

WARNING:tensorflow:From /workdir/models/research/object_detection/model_lib.py:492: The name tf.train.Scaffold is deprecated. Please use tf.compat.v1.train.Scaffold instead.

W0309 16:35:43.383039 139955223831296 module_wrapper.py:139] From /workdir/models/research/object_detection/model_lib.py:492: The name tf.train.Scaffold is deprecated. Please use tf.compat.v1.train.Scaffold instead.

INFO:tensorflow:Done calling model_fn.
I0309 16:35:43.383403 139955223831296 estimator.py:1150] Done calling model_fn.
INFO:tensorflow:Graph was finalized.
I0309 16:35:43.993879 139955223831296 monitored_session.py:240] Graph was finalized.
2022-03-09 16:35:44.013968: I tensorflow/core/platform/profile_utils/cpu_utils.cc:94] CPU Frequency: 2300010000 Hz
2022-03-09 16:35:44.015280: I tensorflow/compiler/xla/service/service.cc:168] XLA service 0x6d402a0 initialized for platform Host (this does not guarantee that XLA will be used). Devices:
2022-03-09 16:35:44.015327: I tensorflow/compiler/xla/service/service.cc:176]   StreamExecutor device (0): Host, Default Version
2022-03-09 16:35:44.208913: I tensorflow/stream_executor/cuda/cuda_gpu_executor.cc:983] successful NUMA node read from SysFS had negative value (-1), but there must be at least one NUMA node, so returning NUMA node zero
2022-03-09 16:35:44.210119: I tensorflow/compiler/xla/service/service.cc:168] XLA service 0x6d5dd00 initialized for platform CUDA (this does not guarantee that XLA will be used). Devices:
2022-03-09 16:35:44.210172: I tensorflow/compiler/xla/service/service.cc:176]   StreamExecutor device (0): Tesla V100-SXM2-16GB, Compute Capability 7.0
2022-03-09 16:35:44.210487: I tensorflow/stream_executor/cuda/cuda_gpu_executor.cc:983] successful NUMA node read from SysFS had negative value (-1), but there must be at least one NUMA node, so returning NUMA node zero
2022-03-09 16:35:44.211631: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1639] Found device 0 with properties: 
name: Tesla V100-SXM2-16GB major: 7 minor: 0 memoryClockRate(GHz): 1.53
pciBusID: 0000:00:1e.0
2022-03-09 16:35:44.211735: I tensorflow/stream_executor/platform/default/dso_loader.cc:48] Successfully opened dynamic library libcudart.so.11.0
2022-03-09 16:35:44.211829: I tensorflow/stream_executor/platform/default/dso_loader.cc:48] Successfully opened dynamic library libcublas.so.11
2022-03-09 16:35:44.211891: I tensorflow/stream_executor/platform/default/dso_loader.cc:48] Successfully opened dynamic library libcufft.so.10
2022-03-09 16:35:44.211944: I tensorflow/stream_executor/platform/default/dso_loader.cc:48] Successfully opened dynamic library libcurand.so.10
2022-03-09 16:35:44.211999: I tensorflow/stream_executor/platform/default/dso_loader.cc:48] Successfully opened dynamic library libcusolver.so.10
2022-03-09 16:35:44.212054: I tensorflow/stream_executor/platform/default/dso_loader.cc:48] Successfully opened dynamic library libcusparse.so.11
2022-03-09 16:35:44.212108: I tensorflow/stream_executor/platform/default/dso_loader.cc:48] Successfully opened dynamic library libcudnn.so.8
2022-03-09 16:35:44.212252: I tensorflow/stream_executor/cuda/cuda_gpu_executor.cc:983] successful NUMA node read from SysFS had negative value (-1), but there must be at least one NUMA node, so returning NUMA node zero
2022-03-09 16:35:44.213539: I tensorflow/stream_executor/cuda/cuda_gpu_executor.cc:983] successful NUMA node read from SysFS had negative value (-1), but there must be at least one NUMA node, so returning NUMA node zero
2022-03-09 16:35:44.214775: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1767] Adding visible gpu devices: 0
2022-03-09 16:35:44.214894: I tensorflow/stream_executor/platform/default/dso_loader.cc:48] Successfully opened dynamic library libcudart.so.11.0
2022-03-09 16:35:44.665356: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1180] Device interconnect StreamExecutor with strength 1 edge matrix:
2022-03-09 16:35:44.665411: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1186]      0 
2022-03-09 16:35:44.665423: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1199] 0:   N 
2022-03-09 16:35:44.666478: I tensorflow/stream_executor/cuda/cuda_gpu_executor.cc:983] successful NUMA node read from SysFS had negative value (-1), but there must be at least one NUMA node, so returning NUMA node zero
2022-03-09 16:35:44.667787: I tensorflow/stream_executor/cuda/cuda_gpu_executor.cc:983] successful NUMA node read from SysFS had negative value (-1), but there must be at least one NUMA node, so returning NUMA node zero
2022-03-09 16:35:44.668907: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1325] Created TensorFlow device (/job:localhost/replica:0/task:0/device:GPU:0 with 2044 MB memory) -> physical GPU (device: 0, name: Tesla V100-SXM2-16GB, pci bus id: 0000:00:1e.0, compute capability: 7.0)
2022-03-09 16:35:45.422378: I tensorflow/core/grappler/optimizers/auto_mixed_precision.cc:1987] Running auto_mixed_precision graph optimizer
2022-03-09 16:35:45.430490: I tensorflow/core/grappler/optimizers/auto_mixed_precision.cc:1343] No whitelist ops found, nothing to do
2022-03-09 16:35:47.021293: I tensorflow/core/grappler/optimizers/auto_mixed_precision.cc:1987] Running auto_mixed_precision graph optimizer
2022-03-09 16:35:47.030681: I tensorflow/core/grappler/optimizers/auto_mixed_precision.cc:1343] No whitelist ops found, nothing to do
INFO:tensorflow:Running local_init_op.
I0309 16:35:47.787728 139955223831296 session_manager.py:500] Running local_init_op.
2022-03-09 16:35:47.997046: I tensorflow/core/grappler/optimizers/auto_mixed_precision.cc:1987] Running auto_mixed_precision graph optimizer
2022-03-09 16:35:47.997508: I tensorflow/core/grappler/optimizers/auto_mixed_precision.cc:1343] No whitelist ops found, nothing to do
INFO:tensorflow:Done running local_init_op.
I0309 16:35:48.055566 139955223831296 session_manager.py:502] Done running local_init_op.
2022-03-09 16:35:48.460797: I tensorflow/core/grappler/optimizers/auto_mixed_precision.cc:1987] Running auto_mixed_precision graph optimizer
2022-03-09 16:35:48.466971: I tensorflow/core/grappler/optimizers/auto_mixed_precision.cc:1343] No whitelist ops found, nothing to do
2022-03-09 16:35:49.509101: I tensorflow/core/grappler/optimizers/auto_mixed_precision.cc:1987] Running auto_mixed_precision graph optimizer
2022-03-09 16:35:49.510033: I tensorflow/core/grappler/optimizers/auto_mixed_precision.cc:1343] No whitelist ops found, nothing to do
2022-03-09 16:35:49.562076: I tensorflow/core/grappler/optimizers/auto_mixed_precision.cc:1343] No whitelist ops found, nothing to do
2022-03-09 16:35:49.591087: I tensorflow/core/grappler/optimizers/auto_mixed_precision.cc:1343] No whitelist ops found, nothing to do
2022-03-09 16:35:49.605429: I tensorflow/core/grappler/optimizers/auto_mixed_precision.cc:1343] No whitelist ops found, nothing to do
2022-03-09 16:35:49.608027: I tensorflow/core/grappler/optimizers/auto_mixed_precision.cc:1343] No whitelist ops found, nothing to do
2022-03-09 16:35:49.610356: I tensorflow/core/grappler/optimizers/auto_mixed_precision.cc:1343] No whitelist ops found, nothing to do
2022-03-09 16:35:49.613020: I tensorflow/core/grappler/optimizers/auto_mixed_precision.cc:1343] No whitelist ops found, nothing to do
2022-03-09 16:35:49.614890: I tensorflow/core/grappler/optimizers/auto_mixed_precision.cc:1343] No whitelist ops found, nothing to do
2022-03-09 16:35:49.636072: I tensorflow/core/grappler/optimizers/auto_mixed_precision.cc:1343] No whitelist ops found, nothing to do
2022-03-09 16:35:49.656211: I tensorflow/core/grappler/optimizers/auto_mixed_precision.cc:1343] No whitelist ops found, nothing to do
2022-03-09 16:35:49.856456: I tensorflow/core/grappler/optimizers/auto_mixed_precision.cc:1343] No whitelist ops found, nothing to do
2022-03-09 16:35:49.962448: I tensorflow/core/grappler/optimizers/auto_mixed_precision.cc:1343] No whitelist ops found, nothing to do
2022-03-09 16:35:49.967863: I tensorflow/core/grappler/optimizers/auto_mixed_precision.cc:1343] No whitelist ops found, nothing to do
2022-03-09 16:35:49.972623: I tensorflow/core/grappler/optimizers/auto_mixed_precision.cc:1343] No whitelist ops found, nothing to do
2022-03-09 16:35:49.976221: I tensorflow/core/grappler/optimizers/auto_mixed_precision.cc:1343] No whitelist ops found, nothing to do
2022-03-09 16:35:49.977989: I tensorflow/core/grappler/optimizers/auto_mixed_precision.cc:1343] No whitelist ops found, nothing to do
2022-03-09 16:35:49.981110: I tensorflow/core/grappler/optimizers/auto_mixed_precision.cc:1343] No whitelist ops found, nothing to do
2022-03-09 16:35:49.983603: I tensorflow/core/grappler/optimizers/auto_mixed_precision.cc:1343] No whitelist ops found, nothing to do
2022-03-09 16:35:49.994060: I tensorflow/core/grappler/optimizers/auto_mixed_precision.cc:1343] No whitelist ops found, nothing to do
2022-03-09 16:35:50.003187: I tensorflow/core/grappler/optimizers/auto_mixed_precision.cc:1343] No whitelist ops found, nothing to do
2022-03-09 16:35:50.006060: I tensorflow/core/grappler/optimizers/auto_mixed_precision.cc:1343] No whitelist ops found, nothing to do
2022-03-09 16:35:50.008827: I tensorflow/core/grappler/optimizers/auto_mixed_precision.cc:1343] No whitelist ops found, nothing to do
2022-03-09 16:35:50.011876: I tensorflow/core/grappler/optimizers/auto_mixed_precision.cc:1343] No whitelist ops found, nothing to do
2022-03-09 16:35:50.015235: I tensorflow/core/grappler/optimizers/auto_mixed_precision.cc:1343] No whitelist ops found, nothing to do
2022-03-09 16:35:52.175614: I tensorflow/core/grappler/optimizers/auto_mixed_precision.cc:1987] Running auto_mixed_precision graph optimizer
2022-03-09 16:35:52.226156: I tensorflow/core/grappler/optimizers/auto_mixed_precision.cc:1035] Automatic Mixed Precision Grappler Pass Summary:

Total processable nodes: 3870
Recognized nodes available for conversion: 3198
Total nodes converted: 300
Total FP16 Cast ops used (excluding Const and Variable casts): 1
Whitelisted nodes converted: 110
Blacklisted nodes blocking conversion: 4
Nodes blocked from conversion by blacklisted nodes: 8

For more information regarding mixed precision training, including how to make automatic mixed precision aware of a custom op type, please see the documentation available here:
https://docs.nvidia.com/deeplearning/frameworks/tensorflow-user-guide/index.html#tfamp


2022-03-09 16:35:54.313100: I tensorflow/stream_executor/platform/default/dso_loader.cc:48] Successfully opened dynamic library libcudnn.so.8
2022-03-09 16:35:55.815974: I tensorflow/stream_executor/platform/default/dso_loader.cc:48] Successfully opened dynamic library libcublas.so.11
INFO:tensorflow:Latency 90%: 163.35 ms
I0309 16:36:52.122591 139955223831296 SSD320_inference.py:100] Latency 90%: 163.35 ms
INFO:tensorflow:Latency 95%: 169.97 ms
I0309 16:36:52.123503 139955223831296 SSD320_inference.py:100] Latency 95%: 169.97 ms
INFO:tensorflow:Latency 99%: 182.59 ms
I0309 16:36:52.124216 139955223831296 SSD320_inference.py:100] Latency 99%: 182.59 ms

Benchmark result: 7.272701773411026 img/s
INFERENCE_LOOP_COUNT=2
+ count=2
+ echo INFERENCE_LOOP_COUNT=2
+ [[ -n 20 ]]
+ minutes=3
+ [[ 3 -ge 20 ]]
+ true
+ bash -x examples/SSD320_FP16_inference.sh /tmp/cfg --raport_file=/tmp/summary.json
+ test -f /etc/shinit_v2
+ source /etc/shinit_v2
+++ sed -n 's/^NVRM.*Kernel Module *\([^() ]*\).*$/\1/p' /proc/driver/nvidia/version
+++ sed 's/^$/unknown/'
++ NV_DRIVER_VERS=
++ export _CUDA_COMPAT_PATH=/usr/local/cuda/compat
++ _CUDA_COMPAT_PATH=/usr/local/cuda/compat
+++ hostname
++ _CUDA_COMPAT_CHECKFILE=/usr/local/cuda/compat/..ssd-inference-4-0-0.checked
++ _CUDA_COMPAT_REALLIB=/usr/local/cuda/compat/lib.real
++ _CUDA_COMPAT_SYMLINK=/usr/local/cuda/compat/lib
++ '[' -n '' -a -e /dev/nvidiactl -a '!' -e /usr/local/cuda/compat/..ssd-inference-4-0-0.checked ']'
++ unset _CUDA_COMPAT_CHECKFILE
++ unset _CUDA_COMPAT_REALLIB
++ unset _CUDA_COMPAT_SYMLINK
+ '[' -z '' ']'
+ return
+ PIPELINE_CONFIG_PATH=/tmp/cfg/ssd320_full_1gpus.config
+ export TF_ENABLE_AUTO_MIXED_PRECISION=1
+ TF_ENABLE_AUTO_MIXED_PRECISION=1
++ dirname examples/SSD320_FP16_inference.sh
+ SCRIPT_DIR=examples
++ realpath examples/../object_detection/
+ OBJECT_DETECTION=/workdir/models/research/object_detection
+ PYTHONPATH=/workdir/models/research/:/workdir/models/research/slim/::/workdir/models/research/object_detection
+ python examples/SSD320_inference.py --pipeline_config_path=/tmp/cfg/ssd320_full_1gpus.config --raport_file=/tmp/summary.json
2022-03-09 16:36:54.373999: I tensorflow/stream_executor/platform/default/dso_loader.cc:48] Successfully opened dynamic library libcudart.so.11.0
WARNING:tensorflow:Deprecation warnings have been disabled. Set TF_ENABLE_DEPRECATION_WARNINGS=1 to re-enable them.
WARNING:tensorflow:From /usr/local/lib/python3.6/dist-packages/horovod-0.19.1-py3.6-linux-x86_64.egg/horovod/tensorflow/__init__.py:152: The name tf.global_variables is deprecated. Please use tf.compat.v1.global_variables instead.

WARNING:tensorflow:From /usr/local/lib/python3.6/dist-packages/horovod-0.19.1-py3.6-linux-x86_64.egg/horovod/tensorflow/__init__.py:178: The name tf.get_default_graph is deprecated. Please use tf.compat.v1.get_default_graph instead.

WARNING:tensorflow:
The TensorFlow contrib module will not be included in TensorFlow 2.0.
For more information, please see:
  * https://github.com/tensorflow/community/blob/master/rfcs/20180907-contrib-sunset.md
  * https://github.com/tensorflow/addons
  * https://github.com/tensorflow/io (for I/O related ops)
If you depend on functionality not listed there, please file an issue.

WARNING:tensorflow:From /workdir/models/research/slim/nets/inception_resnet_v2.py:373: The name tf.GraphKeys is deprecated. Please use tf.compat.v1.GraphKeys instead.

WARNING:tensorflow:From /workdir/models/research/slim/nets/mobilenet/mobilenet.py:389: The name tf.nn.avg_pool is deprecated. Please use tf.nn.avg_pool2d instead.

WARNING:tensorflow:From examples/SSD320_inference.py:67: The name tf.train.SessionRunHook is deprecated. Please use tf.estimator.SessionRunHook instead.

WARNING:tensorflow:From examples/SSD320_inference.py:122: The name tf.app.run is deprecated. Please use tf.compat.v1.app.run instead.

WARNING:tensorflow:From examples/SSD320_inference.py:106: The name tf.logging.set_verbosity is deprecated. Please use tf.compat.v1.logging.set_verbosity instead.

W0309 16:36:59.031954 139875355644672 module_wrapper.py:139] From examples/SSD320_inference.py:106: The name tf.logging.set_verbosity is deprecated. Please use tf.compat.v1.logging.set_verbosity instead.

WARNING:tensorflow:From examples/SSD320_inference.py:106: The name tf.logging.INFO is deprecated. Please use tf.compat.v1.logging.INFO instead.

W0309 16:36:59.032283 139875355644672 module_wrapper.py:139] From examples/SSD320_inference.py:106: The name tf.logging.INFO is deprecated. Please use tf.compat.v1.logging.INFO instead.

WARNING:tensorflow:From examples/SSD320_inference.py:48: The name tf.ConfigProto is deprecated. Please use tf.compat.v1.ConfigProto instead.

W0309 16:36:59.032588 139875355644672 module_wrapper.py:139] From examples/SSD320_inference.py:48: The name tf.ConfigProto is deprecated. Please use tf.compat.v1.ConfigProto instead.

WARNING:tensorflow:From /workdir/models/research/object_detection/utils/config_util.py:94: The name tf.gfile.GFile is deprecated. Please use tf.io.gfile.GFile instead.

W0309 16:36:59.033399 139875355644672 module_wrapper.py:139] From /workdir/models/research/object_detection/utils/config_util.py:94: The name tf.gfile.GFile is deprecated. Please use tf.io.gfile.GFile instead.

WARNING:tensorflow:From /workdir/models/research/object_detection/model_lib.py:590: The name tf.logging.warning is deprecated. Please use tf.compat.v1.logging.warning instead.

W0309 16:36:59.040345 139875355644672 module_wrapper.py:139] From /workdir/models/research/object_detection/model_lib.py:590: The name tf.logging.warning is deprecated. Please use tf.compat.v1.logging.warning instead.

WARNING:tensorflow:Forced number of epochs for all eval validations to be 1.
W0309 16:36:59.040513 139875355644672 model_lib.py:591] Forced number of epochs for all eval validations to be 1.
WARNING:tensorflow:From /workdir/models/research/object_detection/utils/config_util.py:480: The name tf.logging.info is deprecated. Please use tf.compat.v1.logging.info instead.

W0309 16:36:59.040859 139875355644672 module_wrapper.py:139] From /workdir/models/research/object_detection/utils/config_util.py:480: The name tf.logging.info is deprecated. Please use tf.compat.v1.logging.info instead.

INFO:tensorflow:Maybe overwriting train_steps: None
I0309 16:36:59.041054 139875355644672 config_util.py:480] Maybe overwriting train_steps: None
INFO:tensorflow:Maybe overwriting sample_1_of_n_eval_examples: 1
I0309 16:36:59.041203 139875355644672 config_util.py:480] Maybe overwriting sample_1_of_n_eval_examples: 1
INFO:tensorflow:Maybe overwriting eval_num_epochs: 1
I0309 16:36:59.041348 139875355644672 config_util.py:480] Maybe overwriting eval_num_epochs: 1
INFO:tensorflow:Maybe overwriting load_pretrained: True
I0309 16:36:59.041486 139875355644672 config_util.py:480] Maybe overwriting load_pretrained: True
INFO:tensorflow:Ignoring config override key: load_pretrained
I0309 16:36:59.041619 139875355644672 config_util.py:490] Ignoring config override key: load_pretrained
WARNING:tensorflow:Expected number of evaluation epochs is 1, but instead encountered `eval_on_train_input_config.num_epochs` = 0. Overwriting `num_epochs` to 1.
W0309 16:36:59.042604 139875355644672 model_lib.py:607] Expected number of evaluation epochs is 1, but instead encountered `eval_on_train_input_config.num_epochs` = 0. Overwriting `num_epochs` to 1.
INFO:tensorflow:create_estimator_and_inputs: use_tpu False, export_to_tpu False
I0309 16:36:59.042803 139875355644672 model_lib.py:640] create_estimator_and_inputs: use_tpu False, export_to_tpu False
WARNING:tensorflow:Using temporary folder as model directory: /tmp/tmpsiq9v2es
W0309 16:36:59.043445 139875355644672 estimator.py:1821] Using temporary folder as model directory: /tmp/tmpsiq9v2es
INFO:tensorflow:Using config: {'_model_dir': '/tmp/tmpsiq9v2es', '_tf_random_seed': None, '_save_summary_steps': 100, '_save_checkpoints_steps': 100000, '_save_checkpoints_secs': None, '_session_config': , '_keep_checkpoint_max': 5, '_keep_checkpoint_every_n_hours': 10000, '_log_step_count_steps': 100, '_train_distribute': None, '_device_fn': None, '_protocol': None, '_eval_distribute': None, '_experimental_distribute': None, '_experimental_max_worker_delay_secs': None, '_session_creation_timeout_secs': 7200, '_service': None, '_cluster_spec': <tensorflow.python.training.server_lib.ClusterSpec object at 0x7f36a573a898>, '_task_type': 'worker', '_task_id': 0, '_global_id_in_cluster': 0, '_master': '', '_evaluation_master': '', '_is_chief': True, '_num_ps_replicas': 0, '_num_worker_replicas': 1}
I0309 16:36:59.043906 139875355644672 estimator.py:212] Using config: {'_model_dir': '/tmp/tmpsiq9v2es', '_tf_random_seed': None, '_save_summary_steps': 100, '_save_checkpoints_steps': 100000, '_save_checkpoints_secs': None, '_session_config': , '_keep_checkpoint_max': 5, '_keep_checkpoint_every_n_hours': 10000, '_log_step_count_steps': 100, '_train_distribute': None, '_device_fn': None, '_protocol': None, '_eval_distribute': None, '_experimental_distribute': None, '_experimental_max_worker_delay_secs': None, '_session_creation_timeout_secs': 7200, '_service': None, '_cluster_spec': <tensorflow.python.training.server_lib.ClusterSpec object at 0x7f36a573a898>, '_task_type': 'worker', '_task_id': 0, '_global_id_in_cluster': 0, '_master': '', '_evaluation_master': '', '_is_chief': True, '_num_ps_replicas': 0, '_num_worker_replicas': 1}
WARNING:tensorflow:Estimator's model_fn (<function create_model_fn.<locals>.model_fn at 0x7f36a571dd90>) includes params argument, but params are not passed to Estimator.
W0309 16:36:59.044220 139875355644672 model_fn.py:630] Estimator's model_fn (<function create_model_fn.<locals>.model_fn at 0x7f36a571dd90>) includes params argument, but params are not passed to Estimator.
INFO:tensorflow:Could not find trained model in model_dir: /tmp/tmpsiq9v2es, running initialization to predict.
I0309 16:36:59.046443 139875355644672 estimator.py:615] Could not find trained model in model_dir: /tmp/tmpsiq9v2es, running initialization to predict.
WARNING:tensorflow:From /workdir/models/research/object_detection/data_decoders/tf_example_decoder.py:167: The name tf.FixedLenFeature is deprecated. Please use tf.io.FixedLenFeature instead.

W0309 16:36:59.054084 139875355644672 module_wrapper.py:139] From /workdir/models/research/object_detection/data_decoders/tf_example_decoder.py:167: The name tf.FixedLenFeature is deprecated. Please use tf.io.FixedLenFeature instead.

WARNING:tensorflow:From /workdir/models/research/object_detection/data_decoders/tf_example_decoder.py:182: The name tf.VarLenFeature is deprecated. Please use tf.io.VarLenFeature instead.

W0309 16:36:59.054395 139875355644672 module_wrapper.py:139] From /workdir/models/research/object_detection/data_decoders/tf_example_decoder.py:182: The name tf.VarLenFeature is deprecated. Please use tf.io.VarLenFeature instead.

WARNING:tensorflow:From /workdir/models/research/object_detection/builders/dataset_builder.py:76: The name tf.gfile.Glob is deprecated. Please use tf.io.gfile.glob instead.

W0309 16:36:59.132154 139875355644672 module_wrapper.py:139] From /workdir/models/research/object_detection/builders/dataset_builder.py:76: The name tf.gfile.Glob is deprecated. Please use tf.io.gfile.glob instead.

2022-03-09 16:37:00.289656: I tensorflow/stream_executor/platform/default/dso_loader.cc:48] Successfully opened dynamic library libcuda.so.1
2022-03-09 16:37:00.312136: I tensorflow/stream_executor/cuda/cuda_gpu_executor.cc:983] successful NUMA node read from SysFS had negative value (-1), but there must be at least one NUMA node, so returning NUMA node zero
2022-03-09 16:37:00.315907: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1639] Found device 0 with properties: 
name: Tesla V100-SXM2-16GB major: 7 minor: 0 memoryClockRate(GHz): 1.53
pciBusID: 0000:00:1e.0
2022-03-09 16:37:00.316021: I tensorflow/stream_executor/platform/default/dso_loader.cc:48] Successfully opened dynamic library libcudart.so.11.0
2022-03-09 16:37:00.320385: I tensorflow/stream_executor/platform/default/dso_loader.cc:48] Successfully opened dynamic library libcublas.so.11
2022-03-09 16:37:00.322570: I tensorflow/stream_executor/platform/default/dso_loader.cc:48] Successfully opened dynamic library libcufft.so.10
2022-03-09 16:37:00.323114: I tensorflow/stream_executor/platform/default/dso_loader.cc:48] Successfully opened dynamic library libcurand.so.10
2022-03-09 16:37:00.327743: I tensorflow/stream_executor/platform/default/dso_loader.cc:48] Successfully opened dynamic library libcusolver.so.10
2022-03-09 16:37:00.328948: I tensorflow/stream_executor/platform/default/dso_loader.cc:48] Successfully opened dynamic library libcusparse.so.11
2022-03-09 16:37:00.329239: I tensorflow/stream_executor/platform/default/dso_loader.cc:48] Successfully opened dynamic library libcudnn.so.8
2022-03-09 16:37:00.329461: I tensorflow/stream_executor/cuda/cuda_gpu_executor.cc:983] successful NUMA node read from SysFS had negative value (-1), but there must be at least one NUMA node, so returning NUMA node zero
2022-03-09 16:37:00.331028: I tensorflow/stream_executor/cuda/cuda_gpu_executor.cc:983] successful NUMA node read from SysFS had negative value (-1), but there must be at least one NUMA node, so returning NUMA node zero
2022-03-09 16:37:00.332361: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1767] Adding visible gpu devices: 0
WARNING:tensorflow:The operation `tf.image.convert_image_dtype` will be skipped since the input and output dtypes are identical.
W0309 16:37:00.362620 139875355644672 image_ops_impl.py:1776] The operation `tf.image.convert_image_dtype` will be skipped since the input and output dtypes are identical.
WARNING:tensorflow:The operation `tf.image.convert_image_dtype` will be skipped since the input and output dtypes are identical.
W0309 16:37:00.371993 139875355644672 image_ops_impl.py:1776] The operation `tf.image.convert_image_dtype` will be skipped since the input and output dtypes are identical.
WARNING:tensorflow:The operation `tf.image.convert_image_dtype` will be skipped since the input and output dtypes are identical.
W0309 16:37:00.385665 139875355644672 image_ops_impl.py:1776] The operation `tf.image.convert_image_dtype` will be skipped since the input and output dtypes are identical.
WARNING:tensorflow:The operation `tf.image.convert_image_dtype` will be skipped since the input and output dtypes are identical.
W0309 16:37:00.400252 139875355644672 image_ops_impl.py:1776] The operation `tf.image.convert_image_dtype` will be skipped since the input and output dtypes are identical.
WARNING:tensorflow:From /usr/local/lib/python3.6/dist-packages/tensorflow_core/python/autograph/converters/directives.py:119: The name tf.is_nan is deprecated. Please use tf.math.is_nan instead.

W0309 16:37:09.241476 139875355644672 module_wrapper.py:139] From /usr/local/lib/python3.6/dist-packages/tensorflow_core/python/autograph/converters/directives.py:119: The name tf.is_nan is deprecated. Please use tf.math.is_nan instead.

WARNING:tensorflow:From /usr/local/lib/python3.6/dist-packages/tensorflow_core/python/autograph/converters/directives.py:119: The name tf.image.resize_images is deprecated. Please use tf.image.resize instead.

W0309 16:37:09.904900 139875355644672 module_wrapper.py:139] From /usr/local/lib/python3.6/dist-packages/tensorflow_core/python/autograph/converters/directives.py:119: The name tf.image.resize_images is deprecated. Please use tf.image.resize instead.

WARNING:tensorflow:From /usr/local/lib/python3.6/dist-packages/tensorflow_core/python/autograph/converters/directives.py:119: The name tf.image.resize_nearest_neighbor is deprecated. Please use tf.compat.v1.image.resize_nearest_neighbor instead.

W0309 16:37:09.906195 139875355644672 module_wrapper.py:139] From /usr/local/lib/python3.6/dist-packages/tensorflow_core/python/autograph/converters/directives.py:119: The name tf.image.resize_nearest_neighbor is deprecated. Please use tf.compat.v1.image.resize_nearest_neighbor instead.

WARNING:tensorflow:From /usr/local/lib/python3.6/dist-packages/tensorflow_core/python/autograph/converters/directives.py:119: The name tf.string_to_hash_bucket_fast is deprecated. Please use tf.strings.to_hash_bucket_fast instead.

W0309 16:37:13.340888 139875355644672 module_wrapper.py:139] From /usr/local/lib/python3.6/dist-packages/tensorflow_core/python/autograph/converters/directives.py:119: The name tf.string_to_hash_bucket_fast is deprecated. Please use tf.strings.to_hash_bucket_fast instead.

WARNING:tensorflow:From /usr/local/lib/python3.6/dist-packages/tensorflow_core/python/autograph/converters/directives.py:119: The name tf.random_uniform is deprecated. Please use tf.random.uniform instead.

W0309 16:37:13.506896 139875355644672 module_wrapper.py:139] From /usr/local/lib/python3.6/dist-packages/tensorflow_core/python/autograph/converters/directives.py:119: The name tf.random_uniform is deprecated. Please use tf.random.uniform instead.

INFO:tensorflow:Calling model_fn.
I0309 16:37:13.939679 139875355644672 estimator.py:1148] Calling model_fn.
WARNING:tensorflow:From /workdir/models/research/object_detection/meta_architectures/ssd_meta_arch.py:564: The name tf.variable_scope is deprecated. Please use tf.compat.v1.variable_scope instead.

W0309 16:37:13.941092 139875355644672 module_wrapper.py:139] From /workdir/models/research/object_detection/meta_architectures/ssd_meta_arch.py:564: The name tf.variable_scope is deprecated. Please use tf.compat.v1.variable_scope instead.

WARNING:tensorflow:From /workdir/models/research/object_detection/core/anchor_generator.py:149: The name tf.assert_equal is deprecated. Please use tf.compat.v1.assert_equal instead.

W0309 16:37:16.083627 139875355644672 module_wrapper.py:139] From /workdir/models/research/object_detection/core/anchor_generator.py:149: The name tf.assert_equal is deprecated. Please use tf.compat.v1.assert_equal instead.

WARNING:tensorflow:From /workdir/models/research/object_detection/predictors/convolutional_box_predictor.py:383: The name tf.AUTO_REUSE is deprecated. Please use tf.compat.v1.AUTO_REUSE instead.

W0309 16:37:17.016518 139875355644672 module_wrapper.py:139] From /workdir/models/research/object_detection/predictors/convolutional_box_predictor.py:383: The name tf.AUTO_REUSE is deprecated. Please use tf.compat.v1.AUTO_REUSE instead.

WARNING:tensorflow:From /workdir/models/research/object_detection/exporter.py:231: The name tf.add_to_collection is deprecated. Please use tf.compat.v1.add_to_collection instead.

W0309 16:37:21.293598 139875355644672 module_wrapper.py:139] From /workdir/models/research/object_detection/exporter.py:231: The name tf.add_to_collection is deprecated. Please use tf.compat.v1.add_to_collection instead.

WARNING:tensorflow:From /workdir/models/research/object_detection/model_lib.py:402: The name tf.saved_model.signature_constants.PREDICT_METHOD_NAME is deprecated. Please use tf.saved_model.PREDICT_METHOD_NAME instead.

W0309 16:37:21.294096 139875355644672 module_wrapper.py:139] From /workdir/models/research/object_detection/model_lib.py:402: The name tf.saved_model.signature_constants.PREDICT_METHOD_NAME is deprecated. Please use tf.saved_model.PREDICT_METHOD_NAME instead.

WARNING:tensorflow:From /workdir/models/research/object_detection/model_lib.py:487: The name tf.train.Saver is deprecated. Please use tf.compat.v1.train.Saver instead.

W0309 16:37:21.294369 139875355644672 module_wrapper.py:139] From /workdir/models/research/object_detection/model_lib.py:487: The name tf.train.Saver is deprecated. Please use tf.compat.v1.train.Saver instead.

WARNING:tensorflow:From /workdir/models/research/object_detection/model_lib.py:492: The name tf.train.Scaffold is deprecated. Please use tf.compat.v1.train.Scaffold instead.

W0309 16:37:21.710668 139875355644672 module_wrapper.py:139] From /workdir/models/research/object_detection/model_lib.py:492: The name tf.train.Scaffold is deprecated. Please use tf.compat.v1.train.Scaffold instead.

INFO:tensorflow:Done calling model_fn.
I0309 16:37:21.711106 139875355644672 estimator.py:1150] Done calling model_fn.
INFO:tensorflow:Graph was finalized.
I0309 16:37:22.395739 139875355644672 monitored_session.py:240] Graph was finalized.
2022-03-09 16:37:22.404270: I tensorflow/core/platform/profile_utils/cpu_utils.cc:94] CPU Frequency: 2300010000 Hz
2022-03-09 16:37:22.405581: I tensorflow/compiler/xla/service/service.cc:168] XLA service 0x5b10370 initialized for platform Host (this does not guarantee that XLA will be used). Devices:
2022-03-09 16:37:22.405624: I tensorflow/compiler/xla/service/service.cc:176]   StreamExecutor device (0): Host, Default Version
2022-03-09 16:37:22.607101: I tensorflow/stream_executor/cuda/cuda_gpu_executor.cc:983] successful NUMA node read from SysFS had negative value (-1), but there must be at least one NUMA node, so returning NUMA node zero
2022-03-09 16:37:22.608489: I tensorflow/compiler/xla/service/service.cc:168] XLA service 0x5b1a350 initialized for platform CUDA (this does not guarantee that XLA will be used). Devices:
2022-03-09 16:37:22.608582: I tensorflow/compiler/xla/service/service.cc:176]   StreamExecutor device (0): Tesla V100-SXM2-16GB, Compute Capability 7.0
2022-03-09 16:37:22.608946: I tensorflow/stream_executor/cuda/cuda_gpu_executor.cc:983] successful NUMA node read from SysFS had negative value (-1), but there must be at least one NUMA node, so returning NUMA node zero
2022-03-09 16:37:22.610319: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1639] Found device 0 with properties: 
name: Tesla V100-SXM2-16GB major: 7 minor: 0 memoryClockRate(GHz): 1.53
pciBusID: 0000:00:1e.0
2022-03-09 16:37:22.610410: I tensorflow/stream_executor/platform/default/dso_loader.cc:48] Successfully opened dynamic library libcudart.so.11.0
2022-03-09 16:37:22.610511: I tensorflow/stream_executor/platform/default/dso_loader.cc:48] Successfully opened dynamic library libcublas.so.11
2022-03-09 16:37:22.610581: I tensorflow/stream_executor/platform/default/dso_loader.cc:48] Successfully opened dynamic library libcufft.so.10
2022-03-09 16:37:22.610633: I tensorflow/stream_executor/platform/default/dso_loader.cc:48] Successfully opened dynamic library libcurand.so.10
2022-03-09 16:37:22.610745: I tensorflow/stream_executor/platform/default/dso_loader.cc:48] Successfully opened dynamic library libcusolver.so.10
2022-03-09 16:37:22.610814: I tensorflow/stream_executor/platform/default/dso_loader.cc:48] Successfully opened dynamic library libcusparse.so.11
2022-03-09 16:37:22.610873: I tensorflow/stream_executor/platform/default/dso_loader.cc:48] Successfully opened dynamic library libcudnn.so.8
2022-03-09 16:37:22.611065: I tensorflow/stream_executor/cuda/cuda_gpu_executor.cc:983] successful NUMA node read from SysFS had negative value (-1), but there must be at least one NUMA node, so returning NUMA node zero
2022-03-09 16:37:22.612425: I tensorflow/stream_executor/cuda/cuda_gpu_executor.cc:983] successful NUMA node read from SysFS had negative value (-1), but there must be at least one NUMA node, so returning NUMA node zero
2022-03-09 16:37:22.613667: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1767] Adding visible gpu devices: 0
2022-03-09 16:37:22.613787: I tensorflow/stream_executor/platform/default/dso_loader.cc:48] Successfully opened dynamic library libcudart.so.11.0
2022-03-09 16:37:23.311394: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1180] Device interconnect StreamExecutor with strength 1 edge matrix:
2022-03-09 16:37:23.311467: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1186]      0 
2022-03-09 16:37:23.311483: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1199] 0:   N 
2022-03-09 16:37:23.313004: I tensorflow/stream_executor/cuda/cuda_gpu_executor.cc:983] successful NUMA node read from SysFS had negative value (-1), but there must be at least one NUMA node, so returning NUMA node zero
2022-03-09 16:37:23.314593: I tensorflow/stream_executor/cuda/cuda_gpu_executor.cc:983] successful NUMA node read from SysFS had negative value (-1), but there must be at least one NUMA node, so returning NUMA node zero
2022-03-09 16:37:23.315789: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1325] Created TensorFlow device (/job:localhost/replica:0/task:0/device:GPU:0 with 2044 MB memory) -> physical GPU (device: 0, name: Tesla V100-SXM2-16GB, pci bus id: 0000:00:1e.0, compute capability: 7.0)
2022-03-09 16:37:24.590314: I tensorflow/core/grappler/optimizers/auto_mixed_precision.cc:1987] Running auto_mixed_precision graph optimizer
2022-03-09 16:37:24.604711: I tensorflow/core/grappler/optimizers/auto_mixed_precision.cc:1343] No whitelist ops found, nothing to do
2022-03-09 16:37:26.368637: I tensorflow/core/grappler/optimizers/auto_mixed_precision.cc:1987] Running auto_mixed_precision graph optimizer
2022-03-09 16:37:26.376584: I tensorflow/core/grappler/optimizers/auto_mixed_precision.cc:1343] No whitelist ops found, nothing to do
INFO:tensorflow:Running local_init_op.
I0309 16:37:27.018856 139875355644672 session_manager.py:500] Running local_init_op.
2022-03-09 16:37:27.207792: I tensorflow/core/grappler/optimizers/auto_mixed_precision.cc:1987] Running auto_mixed_precision graph optimizer
2022-03-09 16:37:27.208126: I tensorflow/core/grappler/optimizers/auto_mixed_precision.cc:1343] No whitelist ops found, nothing to do
INFO:tensorflow:Done running local_init_op.
I0309 16:37:27.258249 139875355644672 session_manager.py:502] Done running local_init_op.
2022-03-09 16:37:27.595220: I tensorflow/core/grappler/optimizers/auto_mixed_precision.cc:1987] Running auto_mixed_precision graph optimizer
2022-03-09 16:37:27.600996: I tensorflow/core/grappler/optimizers/auto_mixed_precision.cc:1343] No whitelist ops found, nothing to do
2022-03-09 16:37:28.399382: I tensorflow/core/grappler/optimizers/auto_mixed_precision.cc:1987] Running auto_mixed_precision graph optimizer
2022-03-09 16:37:28.399929: I tensorflow/core/grappler/optimizers/auto_mixed_precision.cc:1343] No whitelist ops found, nothing to do
2022-03-09 16:37:28.431037: I tensorflow/core/grappler/optimizers/auto_mixed_precision.cc:1343] No whitelist ops found, nothing to do
2022-03-09 16:37:28.449322: I tensorflow/core/grappler/optimizers/auto_mixed_precision.cc:1343] No whitelist ops found, nothing to do
2022-03-09 16:37:28.461028: I tensorflow/core/grappler/optimizers/auto_mixed_precision.cc:1343] No whitelist ops found, nothing to do
2022-03-09 16:37:28.463288: I tensorflow/core/grappler/optimizers/auto_mixed_precision.cc:1343] No whitelist ops found, nothing to do
2022-03-09 16:37:28.465500: I tensorflow/core/grappler/optimizers/auto_mixed_precision.cc:1343] No whitelist ops found, nothing to do
2022-03-09 16:37:28.467957: I tensorflow/core/grappler/optimizers/auto_mixed_precision.cc:1343] No whitelist ops found, nothing to do
2022-03-09 16:37:28.469763: I tensorflow/core/grappler/optimizers/auto_mixed_precision.cc:1343] No whitelist ops found, nothing to do
2022-03-09 16:37:28.484266: I tensorflow/core/grappler/optimizers/auto_mixed_precision.cc:1343] No whitelist ops found, nothing to do
2022-03-09 16:37:28.497470: I tensorflow/core/grappler/optimizers/auto_mixed_precision.cc:1343] No whitelist ops found, nothing to do
2022-03-09 16:37:28.666569: I tensorflow/core/grappler/optimizers/auto_mixed_precision.cc:1343] No whitelist ops found, nothing to do
2022-03-09 16:37:28.774785: I tensorflow/core/grappler/optimizers/auto_mixed_precision.cc:1343] No whitelist ops found, nothing to do
2022-03-09 16:37:28.779390: I tensorflow/core/grappler/optimizers/auto_mixed_precision.cc:1343] No whitelist ops found, nothing to do
2022-03-09 16:37:28.783515: I tensorflow/core/grappler/optimizers/auto_mixed_precision.cc:1343] No whitelist ops found, nothing to do
2022-03-09 16:37:28.787531: I tensorflow/core/grappler/optimizers/auto_mixed_precision.cc:1343] No whitelist ops found, nothing to do
2022-03-09 16:37:28.789872: I tensorflow/core/grappler/optimizers/auto_mixed_precision.cc:1343] No whitelist ops found, nothing to do
2022-03-09 16:37:28.794343: I tensorflow/core/grappler/optimizers/auto_mixed_precision.cc:1343] No whitelist ops found, nothing to do
2022-03-09 16:37:28.798160: I tensorflow/core/grappler/optimizers/auto_mixed_precision.cc:1343] No whitelist ops found, nothing to do
2022-03-09 16:37:28.814223: I tensorflow/core/grappler/optimizers/auto_mixed_precision.cc:1343] No whitelist ops found, nothing to do
2022-03-09 16:37:28.826933: I tensorflow/core/grappler/optimizers/auto_mixed_precision.cc:1343] No whitelist ops found, nothing to do
2022-03-09 16:37:28.830014: I tensorflow/core/grappler/optimizers/auto_mixed_precision.cc:1343] No whitelist ops found, nothing to do
2022-03-09 16:37:28.832817: I tensorflow/core/grappler/optimizers/auto_mixed_precision.cc:1343] No whitelist ops found, nothing to do
2022-03-09 16:37:28.836154: I tensorflow/core/grappler/optimizers/auto_mixed_precision.cc:1343] No whitelist ops found, nothing to do
2022-03-09 16:37:28.838929: I tensorflow/core/grappler/optimizers/auto_mixed_precision.cc:1343] No whitelist ops found, nothing to do
2022-03-09 16:37:30.686578: I tensorflow/core/grappler/optimizers/auto_mixed_precision.cc:1987] Running auto_mixed_precision graph optimizer
2022-03-09 16:37:30.728436: I tensorflow/core/grappler/optimizers/auto_mixed_precision.cc:1035] Automatic Mixed Precision Grappler Pass Summary:

Total processable nodes: 3870
Recognized nodes available for conversion: 3198
Total nodes converted: 300
Total FP16 Cast ops used (excluding Const and Variable casts): 1
Whitelisted nodes converted: 110
Blacklisted nodes blocking conversion: 4
Nodes blocked from conversion by blacklisted nodes: 8

For more information regarding mixed precision training, including how to make automatic mixed precision aware of a custom op type, please see the documentation available here:
https://docs.nvidia.com/deeplearning/frameworks/tensorflow-user-guide/index.html#tfamp


2022-03-09 16:37:32.788783: I tensorflow/stream_executor/platform/default/dso_loader.cc:48] Successfully opened dynamic library libcudnn.so.8
2022-03-09 16:37:34.420551: I tensorflow/stream_executor/platform/default/dso_loader.cc:48] Successfully opened dynamic library libcublas.so.11
INFO:tensorflow:Latency 90%: 166.64 ms
I0309 16:38:31.460263 139875355644672 SSD320_inference.py:100] Latency 90%: 166.64 ms
INFO:tensorflow:Latency 95%: 179.11 ms
I0309 16:38:31.460965 139875355644672 SSD320_inference.py:100] Latency 95%: 179.11 ms
INFO:tensorflow:Latency 99%: 198.17 ms
I0309 16:38:31.461396 139875355644672 SSD320_inference.py:100] Latency 99%: 198.17 ms

Benchmark result: 7.324931437842986 img/s
+ count=3
+ echo INFERENCE_LOOP_COUNT=3
INFERENCE_LOOP_COUNT=3
+ [[ -n 20 ]]
+ minutes=4
+ [[ 4 -ge 20 ]]
+ true
+ bash -x examples/SSD320_FP16_inference.sh /tmp/cfg --raport_file=/tmp/summary.json
+ test -f /etc/shinit_v2
+ source /etc/shinit_v2
+++ sed -n 's/^NVRM.*Kernel Module *\([^() ]*\).*$/\1/p' /proc/driver/nvidia/version
+++ sed 's/^$/unknown/'
++ NV_DRIVER_VERS=
++ export _CUDA_COMPAT_PATH=/usr/local/cuda/compat
++ _CUDA_COMPAT_PATH=/usr/local/cuda/compat
+++ hostname
++ _CUDA_COMPAT_CHECKFILE=/usr/local/cuda/compat/..ssd-inference-4-0-0.checked
++ _CUDA_COMPAT_REALLIB=/usr/local/cuda/compat/lib.real
++ _CUDA_COMPAT_SYMLINK=/usr/local/cuda/compat/lib
++ '[' -n '' -a -e /dev/nvidiactl -a '!' -e /usr/local/cuda/compat/..ssd-inference-4-0-0.checked ']'
++ unset _CUDA_COMPAT_CHECKFILE
++ unset _CUDA_COMPAT_REALLIB
++ unset _CUDA_COMPAT_SYMLINK
+ '[' -z '' ']'
+ return
+ PIPELINE_CONFIG_PATH=/tmp/cfg/ssd320_full_1gpus.config
+ export TF_ENABLE_AUTO_MIXED_PRECISION=1
+ TF_ENABLE_AUTO_MIXED_PRECISION=1
++ dirname examples/SSD320_FP16_inference.sh
+ SCRIPT_DIR=examples
++ realpath examples/../object_detection/
+ OBJECT_DETECTION=/workdir/models/research/object_detection
+ PYTHONPATH=/workdir/models/research/:/workdir/models/research/slim/::/workdir/models/research/object_detection
+ python examples/SSD320_inference.py --pipeline_config_path=/tmp/cfg/ssd320_full_1gpus.config --raport_file=/tmp/summary.json
2022-03-09 16:38:33.509895: I tensorflow/stream_executor/platform/default/dso_loader.cc:48] Successfully opened dynamic library libcudart.so.11.0
WARNING:tensorflow:Deprecation warnings have been disabled. Set TF_ENABLE_DEPRECATION_WARNINGS=1 to re-enable them.
WARNING:tensorflow:From /usr/local/lib/python3.6/dist-packages/horovod-0.19.1-py3.6-linux-x86_64.egg/horovod/tensorflow/__init__.py:152: The name tf.global_variables is deprecated. Please use tf.compat.v1.global_variables instead.

WARNING:tensorflow:From /usr/local/lib/python3.6/dist-packages/horovod-0.19.1-py3.6-linux-x86_64.egg/horovod/tensorflow/__init__.py:178: The name tf.get_default_graph is deprecated. Please use tf.compat.v1.get_default_graph instead.

WARNING:tensorflow:
The TensorFlow contrib module will not be included in TensorFlow 2.0.
For more information, please see:
  * https://github.com/tensorflow/community/blob/master/rfcs/20180907-contrib-sunset.md
  * https://github.com/tensorflow/addons
  * https://github.com/tensorflow/io (for I/O related ops)
If you depend on functionality not listed there, please file an issue.

WARNING:tensorflow:From /workdir/models/research/slim/nets/inception_resnet_v2.py:373: The name tf.GraphKeys is deprecated. Please use tf.compat.v1.GraphKeys instead.

WARNING:tensorflow:From /workdir/models/research/slim/nets/mobilenet/mobilenet.py:389: The name tf.nn.avg_pool is deprecated. Please use tf.nn.avg_pool2d instead.

WARNING:tensorflow:From examples/SSD320_inference.py:67: The name tf.train.SessionRunHook is deprecated. Please use tf.estimator.SessionRunHook instead.

WARNING:tensorflow:From examples/SSD320_inference.py:122: The name tf.app.run is deprecated. Please use tf.compat.v1.app.run instead.

WARNING:tensorflow:From examples/SSD320_inference.py:106: The name tf.logging.set_verbosity is deprecated. Please use tf.compat.v1.logging.set_verbosity instead.

W0309 16:38:38.649815 139941072061184 module_wrapper.py:139] From examples/SSD320_inference.py:106: The name tf.logging.set_verbosity is deprecated. Please use tf.compat.v1.logging.set_verbosity instead.

WARNING:tensorflow:From examples/SSD320_inference.py:106: The name tf.logging.INFO is deprecated. Please use tf.compat.v1.logging.INFO instead.

W0309 16:38:38.650102 139941072061184 module_wrapper.py:139] From examples/SSD320_inference.py:106: The name tf.logging.INFO is deprecated. Please use tf.compat.v1.logging.INFO instead.

WARNING:tensorflow:From examples/SSD320_inference.py:48: The name tf.ConfigProto is deprecated. Please use tf.compat.v1.ConfigProto instead.

W0309 16:38:38.650341 139941072061184 module_wrapper.py:139] From examples/SSD320_inference.py:48: The name tf.ConfigProto is deprecated. Please use tf.compat.v1.ConfigProto instead.

WARNING:tensorflow:From /workdir/models/research/object_detection/utils/config_util.py:94: The name tf.gfile.GFile is deprecated. Please use tf.io.gfile.GFile instead.

W0309 16:38:38.651090 139941072061184 module_wrapper.py:139] From /workdir/models/research/object_detection/utils/config_util.py:94: The name tf.gfile.GFile is deprecated. Please use tf.io.gfile.GFile instead.

WARNING:tensorflow:From /workdir/models/research/object_detection/model_lib.py:590: The name tf.logging.warning is deprecated. Please use tf.compat.v1.logging.warning instead.

W0309 16:38:38.658427 139941072061184 module_wrapper.py:139] From /workdir/models/research/object_detection/model_lib.py:590: The name tf.logging.warning is deprecated. Please use tf.compat.v1.logging.warning instead.

WARNING:tensorflow:Forced number of epochs for all eval validations to be 1.
W0309 16:38:38.658716 139941072061184 model_lib.py:591] Forced number of epochs for all eval validations to be 1.
WARNING:tensorflow:From /workdir/models/research/object_detection/utils/config_util.py:480: The name tf.logging.info is deprecated. Please use tf.compat.v1.logging.info instead.

W0309 16:38:38.658948 139941072061184 module_wrapper.py:139] From /workdir/models/research/object_detection/utils/config_util.py:480: The name tf.logging.info is deprecated. Please use tf.compat.v1.logging.info instead.

INFO:tensorflow:Maybe overwriting train_steps: None
I0309 16:38:38.659111 139941072061184 config_util.py:480] Maybe overwriting train_steps: None
INFO:tensorflow:Maybe overwriting sample_1_of_n_eval_examples: 1
I0309 16:38:38.659269 139941072061184 config_util.py:480] Maybe overwriting sample_1_of_n_eval_examples: 1
INFO:tensorflow:Maybe overwriting eval_num_epochs: 1
I0309 16:38:38.659433 139941072061184 config_util.py:480] Maybe overwriting eval_num_epochs: 1
INFO:tensorflow:Maybe overwriting load_pretrained: True
I0309 16:38:38.659636 139941072061184 config_util.py:480] Maybe overwriting load_pretrained: True
INFO:tensorflow:Ignoring config override key: load_pretrained
I0309 16:38:38.659880 139941072061184 config_util.py:490] Ignoring config override key: load_pretrained
WARNING:tensorflow:Expected number of evaluation epochs is 1, but instead encountered `eval_on_train_input_config.num_epochs` = 0. Overwriting `num_epochs` to 1.
W0309 16:38:38.660802 139941072061184 model_lib.py:607] Expected number of evaluation epochs is 1, but instead encountered `eval_on_train_input_config.num_epochs` = 0. Overwriting `num_epochs` to 1.
INFO:tensorflow:create_estimator_and_inputs: use_tpu False, export_to_tpu False
I0309 16:38:38.660989 139941072061184 model_lib.py:640] create_estimator_and_inputs: use_tpu False, export_to_tpu False
WARNING:tensorflow:Using temporary folder as model directory: /tmp/tmpj20xq97u
W0309 16:38:38.661661 139941072061184 estimator.py:1821] Using temporary folder as model directory: /tmp/tmpj20xq97u
INFO:tensorflow:Using config: {'_model_dir': '/tmp/tmpj20xq97u', '_tf_random_seed': None, '_save_summary_steps': 100, '_save_checkpoints_steps': 100000, '_save_checkpoints_secs': None, '_session_config': , '_keep_checkpoint_max': 5, '_keep_checkpoint_every_n_hours': 10000, '_log_step_count_steps': 100, '_train_distribute': None, '_device_fn': None, '_protocol': None, '_eval_distribute': None, '_experimental_distribute': None, '_experimental_max_worker_delay_secs': None, '_session_creation_timeout_secs': 7200, '_service': None, '_cluster_spec': <tensorflow.python.training.server_lib.ClusterSpec object at 0x7f45f3984828>, '_task_type': 'worker', '_task_id': 0, '_global_id_in_cluster': 0, '_master': '', '_evaluation_master': '', '_is_chief': True, '_num_ps_replicas': 0, '_num_worker_replicas': 1}
I0309 16:38:38.662139 139941072061184 estimator.py:212] Using config: {'_model_dir': '/tmp/tmpj20xq97u', '_tf_random_seed': None, '_save_summary_steps': 100, '_save_checkpoints_steps': 100000, '_save_checkpoints_secs': None, '_session_config': , '_keep_checkpoint_max': 5, '_keep_checkpoint_every_n_hours': 10000, '_log_step_count_steps': 100, '_train_distribute': None, '_device_fn': None, '_protocol': None, '_eval_distribute': None, '_experimental_distribute': None, '_experimental_max_worker_delay_secs': None, '_session_creation_timeout_secs': 7200, '_service': None, '_cluster_spec': <tensorflow.python.training.server_lib.ClusterSpec object at 0x7f45f3984828>, '_task_type': 'worker', '_task_id': 0, '_global_id_in_cluster': 0, '_master': '', '_evaluation_master': '', '_is_chief': True, '_num_ps_replicas': 0, '_num_worker_replicas': 1}
WARNING:tensorflow:Estimator's model_fn (<function create_model_fn.<locals>.model_fn at 0x7f45f395cd90>) includes params argument, but params are not passed to Estimator.
W0309 16:38:38.662462 139941072061184 model_fn.py:630] Estimator's model_fn (<function create_model_fn.<locals>.model_fn at 0x7f45f395cd90>) includes params argument, but params are not passed to Estimator.
INFO:tensorflow:Could not find trained model in model_dir: /tmp/tmpj20xq97u, running initialization to predict.
I0309 16:38:38.665044 139941072061184 estimator.py:615] Could not find trained model in model_dir: /tmp/tmpj20xq97u, running initialization to predict.
WARNING:tensorflow:From /workdir/models/research/object_detection/data_decoders/tf_example_decoder.py:167: The name tf.FixedLenFeature is deprecated. Please use tf.io.FixedLenFeature instead.

W0309 16:38:38.672918 139941072061184 module_wrapper.py:139] From /workdir/models/research/object_detection/data_decoders/tf_example_decoder.py:167: The name tf.FixedLenFeature is deprecated. Please use tf.io.FixedLenFeature instead.

WARNING:tensorflow:From /workdir/models/research/object_detection/data_decoders/tf_example_decoder.py:182: The name tf.VarLenFeature is deprecated. Please use tf.io.VarLenFeature instead.

W0309 16:38:38.673359 139941072061184 module_wrapper.py:139] From /workdir/models/research/object_detection/data_decoders/tf_example_decoder.py:182: The name tf.VarLenFeature is deprecated. Please use tf.io.VarLenFeature instead.

WARNING:tensorflow:From /workdir/models/research/object_detection/builders/dataset_builder.py:76: The name tf.gfile.Glob is deprecated. Please use tf.io.gfile.glob instead.

W0309 16:38:38.757773 139941072061184 module_wrapper.py:139] From /workdir/models/research/object_detection/builders/dataset_builder.py:76: The name tf.gfile.Glob is deprecated. Please use tf.io.gfile.glob instead.

2022-03-09 16:38:39.864615: I tensorflow/stream_executor/platform/default/dso_loader.cc:48] Successfully opened dynamic library libcuda.so.1
2022-03-09 16:38:39.875328: I tensorflow/stream_executor/cuda/cuda_gpu_executor.cc:983] successful NUMA node read from SysFS had negative value (-1), but there must be at least one NUMA node, so returning NUMA node zero
2022-03-09 16:38:39.878993: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1639] Found device 0 with properties: 
name: Tesla V100-SXM2-16GB major: 7 minor: 0 memoryClockRate(GHz): 1.53
pciBusID: 0000:00:1e.0
2022-03-09 16:38:39.879062: I tensorflow/stream_executor/platform/default/dso_loader.cc:48] Successfully opened dynamic library libcudart.so.11.0
2022-03-09 16:38:39.883485: I tensorflow/stream_executor/platform/default/dso_loader.cc:48] Successfully opened dynamic library libcublas.so.11
2022-03-09 16:38:39.885591: I tensorflow/stream_executor/platform/default/dso_loader.cc:48] Successfully opened dynamic library libcufft.so.10
2022-03-09 16:38:39.886105: I tensorflow/stream_executor/platform/default/dso_loader.cc:48] Successfully opened dynamic library libcurand.so.10
2022-03-09 16:38:39.890775: I tensorflow/stream_executor/platform/default/dso_loader.cc:48] Successfully opened dynamic library libcusolver.so.10
2022-03-09 16:38:39.892006: I tensorflow/stream_executor/platform/default/dso_loader.cc:48] Successfully opened dynamic library libcusparse.so.11
2022-03-09 16:38:39.892296: I tensorflow/stream_executor/platform/default/dso_loader.cc:48] Successfully opened dynamic library libcudnn.so.8
2022-03-09 16:38:39.892479: I tensorflow/stream_executor/cuda/cuda_gpu_executor.cc:983] successful NUMA node read from SysFS had negative value (-1), but there must be at least one NUMA node, so returning NUMA node zero
2022-03-09 16:38:39.893903: I tensorflow/stream_executor/cuda/cuda_gpu_executor.cc:983] successful NUMA node read from SysFS had negative value (-1), but there must be at least one NUMA node, so returning NUMA node zero
2022-03-09 16:38:39.895024: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1767] Adding visible gpu devices: 0
WARNING:tensorflow:The operation `tf.image.convert_image_dtype` will be skipped since the input and output dtypes are identical.
W0309 16:38:39.914557 139941072061184 image_ops_impl.py:1776] The operation `tf.image.convert_image_dtype` will be skipped since the input and output dtypes are identical.
WARNING:tensorflow:The operation `tf.image.convert_image_dtype` will be skipped since the input and output dtypes are identical.
W0309 16:38:39.920900 139941072061184 image_ops_impl.py:1776] The operation `tf.image.convert_image_dtype` will be skipped since the input and output dtypes are identical.
WARNING:tensorflow:The operation `tf.image.convert_image_dtype` will be skipped since the input and output dtypes are identical.
W0309 16:38:39.930869 139941072061184 image_ops_impl.py:1776] The operation `tf.image.convert_image_dtype` will be skipped since the input and output dtypes are identical.
WARNING:tensorflow:The operation `tf.image.convert_image_dtype` will be skipped since the input and output dtypes are identical.
W0309 16:38:39.940510 139941072061184 image_ops_impl.py:1776] The operation `tf.image.convert_image_dtype` will be skipped since the input and output dtypes are identical.
WARNING:tensorflow:From /usr/local/lib/python3.6/dist-packages/tensorflow_core/python/autograph/converters/directives.py:119: The name tf.is_nan is deprecated. Please use tf.math.is_nan instead.

W0309 16:38:48.442046 139941072061184 module_wrapper.py:139] From /usr/local/lib/python3.6/dist-packages/tensorflow_core/python/autograph/converters/directives.py:119: The name tf.is_nan is deprecated. Please use tf.math.is_nan instead.

WARNING:tensorflow:From /usr/local/lib/python3.6/dist-packages/tensorflow_core/python/autograph/converters/directives.py:119: The name tf.image.resize_images is deprecated. Please use tf.image.resize instead.

W0309 16:38:49.193797 139941072061184 module_wrapper.py:139] From /usr/local/lib/python3.6/dist-packages/tensorflow_core/python/autograph/converters/directives.py:119: The name tf.image.resize_images is deprecated. Please use tf.image.resize instead.

WARNING:tensorflow:From /usr/local/lib/python3.6/dist-packages/tensorflow_core/python/autograph/converters/directives.py:119: The name tf.image.resize_nearest_neighbor is deprecated. Please use tf.compat.v1.image.resize_nearest_neighbor instead.

W0309 16:38:49.200367 139941072061184 module_wrapper.py:139] From /usr/local/lib/python3.6/dist-packages/tensorflow_core/python/autograph/converters/directives.py:119: The name tf.image.resize_nearest_neighbor is deprecated. Please use tf.compat.v1.image.resize_nearest_neighbor instead.

WARNING:tensorflow:From /usr/local/lib/python3.6/dist-packages/tensorflow_core/python/autograph/converters/directives.py:119: The name tf.string_to_hash_bucket_fast is deprecated. Please use tf.strings.to_hash_bucket_fast instead.

W0309 16:38:53.226510 139941072061184 module_wrapper.py:139] From /usr/local/lib/python3.6/dist-packages/tensorflow_core/python/autograph/converters/directives.py:119: The name tf.string_to_hash_bucket_fast is deprecated. Please use tf.strings.to_hash_bucket_fast instead.

WARNING:tensorflow:From /usr/local/lib/python3.6/dist-packages/tensorflow_core/python/autograph/converters/directives.py:119: The name tf.random_uniform is deprecated. Please use tf.random.uniform instead.

W0309 16:38:53.380085 139941072061184 module_wrapper.py:139] From /usr/local/lib/python3.6/dist-packages/tensorflow_core/python/autograph/converters/directives.py:119: The name tf.random_uniform is deprecated. Please use tf.random.uniform instead.

INFO:tensorflow:Calling model_fn.
I0309 16:38:53.790983 139941072061184 estimator.py:1148] Calling model_fn.
WARNING:tensorflow:From /workdir/models/research/object_detection/meta_architectures/ssd_meta_arch.py:564: The name tf.variable_scope is deprecated. Please use tf.compat.v1.variable_scope instead.

W0309 16:38:53.792379 139941072061184 module_wrapper.py:139] From /workdir/models/research/object_detection/meta_architectures/ssd_meta_arch.py:564: The name tf.variable_scope is deprecated. Please use tf.compat.v1.variable_scope instead.

WARNING:tensorflow:From /workdir/models/research/object_detection/core/anchor_generator.py:149: The name tf.assert_equal is deprecated. Please use tf.compat.v1.assert_equal instead.

W0309 16:38:55.975347 139941072061184 module_wrapper.py:139] From /workdir/models/research/object_detection/core/anchor_generator.py:149: The name tf.assert_equal is deprecated. Please use tf.compat.v1.assert_equal instead.

WARNING:tensorflow:From /workdir/models/research/object_detection/predictors/convolutional_box_predictor.py:383: The name tf.AUTO_REUSE is deprecated. Please use tf.compat.v1.AUTO_REUSE instead.

W0309 16:38:56.724794 139941072061184 module_wrapper.py:139] From /workdir/models/research/object_detection/predictors/convolutional_box_predictor.py:383: The name tf.AUTO_REUSE is deprecated. Please use tf.compat.v1.AUTO_REUSE instead.

WARNING:tensorflow:From /workdir/models/research/object_detection/exporter.py:231: The name tf.add_to_collection is deprecated. Please use tf.compat.v1.add_to_collection instead.

W0309 16:39:00.947642 139941072061184 module_wrapper.py:139] From /workdir/models/research/object_detection/exporter.py:231: The name tf.add_to_collection is deprecated. Please use tf.compat.v1.add_to_collection instead.

WARNING:tensorflow:From /workdir/models/research/object_detection/model_lib.py:402: The name tf.saved_model.signature_constants.PREDICT_METHOD_NAME is deprecated. Please use tf.saved_model.PREDICT_METHOD_NAME instead.

W0309 16:39:00.948060 139941072061184 module_wrapper.py:139] From /workdir/models/research/object_detection/model_lib.py:402: The name tf.saved_model.signature_constants.PREDICT_METHOD_NAME is deprecated. Please use tf.saved_model.PREDICT_METHOD_NAME instead.

WARNING:tensorflow:From /workdir/models/research/object_detection/model_lib.py:487: The name tf.train.Saver is deprecated. Please use tf.compat.v1.train.Saver instead.

W0309 16:39:00.948333 139941072061184 module_wrapper.py:139] From /workdir/models/research/object_detection/model_lib.py:487: The name tf.train.Saver is deprecated. Please use tf.compat.v1.train.Saver instead.

WARNING:tensorflow:From /workdir/models/research/object_detection/model_lib.py:492: The name tf.train.Scaffold is deprecated. Please use tf.compat.v1.train.Scaffold instead.

W0309 16:39:01.363826 139941072061184 module_wrapper.py:139] From /workdir/models/research/object_detection/model_lib.py:492: The name tf.train.Scaffold is deprecated. Please use tf.compat.v1.train.Scaffold instead.

INFO:tensorflow:Done calling model_fn.
I0309 16:39:01.364246 139941072061184 estimator.py:1150] Done calling model_fn.
INFO:tensorflow:Graph was finalized.
I0309 16:39:02.022017 139941072061184 monitored_session.py:240] Graph was finalized.
2022-03-09 16:39:02.041902: I tensorflow/core/platform/profile_utils/cpu_utils.cc:94] CPU Frequency: 2300010000 Hz
2022-03-09 16:39:02.042780: I tensorflow/compiler/xla/service/service.cc:168] XLA service 0x6d491b0 initialized for platform Host (this does not guarantee that XLA will be used). Devices:
2022-03-09 16:39:02.042822: I tensorflow/compiler/xla/service/service.cc:176]   StreamExecutor device (0): Host, Default Version
2022-03-09 16:39:02.239970: I tensorflow/stream_executor/cuda/cuda_gpu_executor.cc:983] successful NUMA node read from SysFS had negative value (-1), but there must be at least one NUMA node, so returning NUMA node zero
2022-03-09 16:39:02.241390: I tensorflow/compiler/xla/service/service.cc:168] XLA service 0x6d23450 initialized for platform CUDA (this does not guarantee that XLA will be used). Devices:
2022-03-09 16:39:02.241443: I tensorflow/compiler/xla/service/service.cc:176]   StreamExecutor device (0): Tesla V100-SXM2-16GB, Compute Capability 7.0
2022-03-09 16:39:02.241782: I tensorflow/stream_executor/cuda/cuda_gpu_executor.cc:983] successful NUMA node read from SysFS had negative value (-1), but there must be at least one NUMA node, so returning NUMA node zero
2022-03-09 16:39:02.242970: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1639] Found device 0 with properties: 
name: Tesla V100-SXM2-16GB major: 7 minor: 0 memoryClockRate(GHz): 1.53
pciBusID: 0000:00:1e.0
2022-03-09 16:39:02.243091: I tensorflow/stream_executor/platform/default/dso_loader.cc:48] Successfully opened dynamic library libcudart.so.11.0
2022-03-09 16:39:02.243179: I tensorflow/stream_executor/platform/default/dso_loader.cc:48] Successfully opened dynamic library libcublas.so.11
2022-03-09 16:39:02.243220: I tensorflow/stream_executor/platform/default/dso_loader.cc:48] Successfully opened dynamic library libcufft.so.10
2022-03-09 16:39:02.243309: I tensorflow/stream_executor/platform/default/dso_loader.cc:48] Successfully opened dynamic library libcurand.so.10
2022-03-09 16:39:02.243367: I tensorflow/stream_executor/platform/default/dso_loader.cc:48] Successfully opened dynamic library libcusolver.so.10
2022-03-09 16:39:02.243404: I tensorflow/stream_executor/platform/default/dso_loader.cc:48] Successfully opened dynamic library libcusparse.so.11
2022-03-09 16:39:02.243453: I tensorflow/stream_executor/platform/default/dso_loader.cc:48] Successfully opened dynamic library libcudnn.so.8
2022-03-09 16:39:02.243582: I tensorflow/stream_executor/cuda/cuda_gpu_executor.cc:983] successful NUMA node read from SysFS had negative value (-1), but there must be at least one NUMA node, so returning NUMA node zero
2022-03-09 16:39:02.244830: I tensorflow/stream_executor/cuda/cuda_gpu_executor.cc:983] successful NUMA node read from SysFS had negative value (-1), but there must be at least one NUMA node, so returning NUMA node zero
2022-03-09 16:39:02.245893: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1767] Adding visible gpu devices: 0
2022-03-09 16:39:02.245965: I tensorflow/stream_executor/platform/default/dso_loader.cc:48] Successfully opened dynamic library libcudart.so.11.0
2022-03-09 16:39:02.794024: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1180] Device interconnect StreamExecutor with strength 1 edge matrix:
2022-03-09 16:39:02.794162: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1186]      0 
2022-03-09 16:39:02.794197: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1199] 0:   N 
2022-03-09 16:39:02.796828: I tensorflow/stream_executor/cuda/cuda_gpu_executor.cc:983] successful NUMA node read from SysFS had negative value (-1), but there must be at least one NUMA node, so returning NUMA node zero
2022-03-09 16:39:02.798250: I tensorflow/stream_executor/cuda/cuda_gpu_executor.cc:983] successful NUMA node read from SysFS had negative value (-1), but there must be at least one NUMA node, so returning NUMA node zero
2022-03-09 16:39:02.799428: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1325] Created TensorFlow device (/job:localhost/replica:0/task:0/device:GPU:0 with 2044 MB memory) -> physical GPU (device: 0, name: Tesla V100-SXM2-16GB, pci bus id: 0000:00:1e.0, compute capability: 7.0)
2022-03-09 16:39:03.666532: I tensorflow/core/grappler/optimizers/auto_mixed_precision.cc:1987] Running auto_mixed_precision graph optimizer
2022-03-09 16:39:03.674758: I tensorflow/core/grappler/optimizers/auto_mixed_precision.cc:1343] No whitelist ops found, nothing to do
2022-03-09 16:39:04.953118: I tensorflow/core/grappler/optimizers/auto_mixed_precision.cc:1987] Running auto_mixed_precision graph optimizer
2022-03-09 16:39:04.959368: I tensorflow/core/grappler/optimizers/auto_mixed_precision.cc:1343] No whitelist ops found, nothing to do
INFO:tensorflow:Running local_init_op.
I0309 16:39:05.586526 139941072061184 session_manager.py:500] Running local_init_op.
2022-03-09 16:39:05.825948: I tensorflow/core/grappler/optimizers/auto_mixed_precision.cc:1987] Running auto_mixed_precision graph optimizer
2022-03-09 16:39:05.826340: I tensorflow/core/grappler/optimizers/auto_mixed_precision.cc:1343] No whitelist ops found, nothing to do
INFO:tensorflow:Done running local_init_op.
I0309 16:39:05.875546 139941072061184 session_manager.py:502] Done running local_init_op.
2022-03-09 16:39:06.180021: I tensorflow/core/grappler/optimizers/auto_mixed_precision.cc:1987] Running auto_mixed_precision graph optimizer
2022-03-09 16:39:06.185321: I tensorflow/core/grappler/optimizers/auto_mixed_precision.cc:1343] No whitelist ops found, nothing to do
2022-03-09 16:39:07.009750: I tensorflow/core/grappler/optimizers/auto_mixed_precision.cc:1987] Running auto_mixed_precision graph optimizer
2022-03-09 16:39:07.010541: I tensorflow/core/grappler/optimizers/auto_mixed_precision.cc:1343] No whitelist ops found, nothing to do
2022-03-09 16:39:07.056110: I tensorflow/core/grappler/optimizers/auto_mixed_precision.cc:1343] No whitelist ops found, nothing to do
2022-03-09 16:39:07.075236: I tensorflow/core/grappler/optimizers/auto_mixed_precision.cc:1343] No whitelist ops found, nothing to do
2022-03-09 16:39:07.087772: I tensorflow/core/grappler/optimizers/auto_mixed_precision.cc:1343] No whitelist ops found, nothing to do
2022-03-09 16:39:07.090257: I tensorflow/core/grappler/optimizers/auto_mixed_precision.cc:1343] No whitelist ops found, nothing to do
2022-03-09 16:39:07.092501: I tensorflow/core/grappler/optimizers/auto_mixed_precision.cc:1343] No whitelist ops found, nothing to do
2022-03-09 16:39:07.095444: I tensorflow/core/grappler/optimizers/auto_mixed_precision.cc:1343] No whitelist ops found, nothing to do
2022-03-09 16:39:07.098037: I tensorflow/core/grappler/optimizers/auto_mixed_precision.cc:1343] No whitelist ops found, nothing to do
2022-03-09 16:39:07.112649: I tensorflow/core/grappler/optimizers/auto_mixed_precision.cc:1343] No whitelist ops found, nothing to do
2022-03-09 16:39:07.125890: I tensorflow/core/grappler/optimizers/auto_mixed_precision.cc:1343] No whitelist ops found, nothing to do
2022-03-09 16:39:07.348073: I tensorflow/core/grappler/optimizers/auto_mixed_precision.cc:1343] No whitelist ops found, nothing to do
2022-03-09 16:39:07.471544: I tensorflow/core/grappler/optimizers/auto_mixed_precision.cc:1343] No whitelist ops found, nothing to do
2022-03-09 16:39:07.476897: I tensorflow/core/grappler/optimizers/auto_mixed_precision.cc:1343] No whitelist ops found, nothing to do
2022-03-09 16:39:07.481489: I tensorflow/core/grappler/optimizers/auto_mixed_precision.cc:1343] No whitelist ops found, nothing to do
2022-03-09 16:39:07.486094: I tensorflow/core/grappler/optimizers/auto_mixed_precision.cc:1343] No whitelist ops found, nothing to do
2022-03-09 16:39:07.488665: I tensorflow/core/grappler/optimizers/auto_mixed_precision.cc:1343] No whitelist ops found, nothing to do
2022-03-09 16:39:07.493287: I tensorflow/core/grappler/optimizers/auto_mixed_precision.cc:1343] No whitelist ops found, nothing to do
2022-03-09 16:39:07.497180: I tensorflow/core/grappler/optimizers/auto_mixed_precision.cc:1343] No whitelist ops found, nothing to do
2022-03-09 16:39:07.513550: I tensorflow/core/grappler/optimizers/auto_mixed_precision.cc:1343] No whitelist ops found, nothing to do
2022-03-09 16:39:07.526260: I tensorflow/core/grappler/optimizers/auto_mixed_precision.cc:1343] No whitelist ops found, nothing to do
2022-03-09 16:39:07.529539: I tensorflow/core/grappler/optimizers/auto_mixed_precision.cc:1343] No whitelist ops found, nothing to do
2022-03-09 16:39:07.532373: I tensorflow/core/grappler/optimizers/auto_mixed_precision.cc:1343] No whitelist ops found, nothing to do
2022-03-09 16:39:07.535934: I tensorflow/core/grappler/optimizers/auto_mixed_precision.cc:1343] No whitelist ops found, nothing to do
2022-03-09 16:39:07.539650: I tensorflow/core/grappler/optimizers/auto_mixed_precision.cc:1343] No whitelist ops found, nothing to do
2022-03-09 16:39:09.617296: I tensorflow/core/grappler/optimizers/auto_mixed_precision.cc:1987] Running auto_mixed_precision graph optimizer
2022-03-09 16:39:09.665504: I tensorflow/core/grappler/optimizers/auto_mixed_precision.cc:1035] Automatic Mixed Precision Grappler Pass Summary:

Total processable nodes: 3870
Recognized nodes available for conversion: 3198
Total nodes converted: 300
Total FP16 Cast ops used (excluding Const and Variable casts): 1
Whitelisted nodes converted: 110
Blacklisted nodes blocking conversion: 4
Nodes blocked from conversion by blacklisted nodes: 8

For more information regarding mixed precision training, including how to make automatic mixed precision aware of a custom op type, please see the documentation available here:
https://docs.nvidia.com/deeplearning/frameworks/tensorflow-user-guide/index.html#tfamp


2022-03-09 16:39:11.810341: I tensorflow/stream_executor/platform/default/dso_loader.cc:48] Successfully opened dynamic library libcudnn.so.8
2022-03-09 16:39:13.248263: I tensorflow/stream_executor/platform/default/dso_loader.cc:48] Successfully opened dynamic library libcublas.so.11
INFO:tensorflow:Latency 90%: 163.41 ms
I0309 16:40:07.786377 139941072061184 SSD320_inference.py:100] Latency 90%: 163.41 ms
INFO:tensorflow:Latency 95%: 169.55 ms
I0309 16:40:07.787159 139941072061184 SSD320_inference.py:100] Latency 95%: 169.55 ms
INFO:tensorflow:Latency 99%: 187.94 ms
I0309 16:40:07.787640 139941072061184 SSD320_inference.py:100] Latency 99%: 187.94 ms

Benchmark result: 7.439439992401288 img/s
+ count=4
+ echo INFERENCE_LOOP_COUNT=4
INFERENCE_LOOP_COUNT=4
+ [[ -n 20 ]]
+ minutes=6
+ [[ 6 -ge 20 ]]
+ true
+ bash -x examples/SSD320_FP16_inference.sh /tmp/cfg --raport_file=/tmp/summary.json
+ test -f /etc/shinit_v2
+ source /etc/shinit_v2
+++ sed -n 's/^NVRM.*Kernel Module *\([^() ]*\).*$/\1/p' /proc/driver/nvidia/version
+++ sed 's/^$/unknown/'
++ NV_DRIVER_VERS=
++ export _CUDA_COMPAT_PATH=/usr/local/cuda/compat
++ _CUDA_COMPAT_PATH=/usr/local/cuda/compat
+++ hostname
++ _CUDA_COMPAT_CHECKFILE=/usr/local/cuda/compat/..ssd-inference-4-0-0.checked
++ _CUDA_COMPAT_REALLIB=/usr/local/cuda/compat/lib.real
++ _CUDA_COMPAT_SYMLINK=/usr/local/cuda/compat/lib
++ '[' -n '' -a -e /dev/nvidiactl -a '!' -e /usr/local/cuda/compat/..ssd-inference-4-0-0.checked ']'
++ unset _CUDA_COMPAT_CHECKFILE
++ unset _CUDA_COMPAT_REALLIB
++ unset _CUDA_COMPAT_SYMLINK
+ '[' -z '' ']'
+ return
+ PIPELINE_CONFIG_PATH=/tmp/cfg/ssd320_full_1gpus.config
+ export TF_ENABLE_AUTO_MIXED_PRECISION=1
+ TF_ENABLE_AUTO_MIXED_PRECISION=1
++ dirname examples/SSD320_FP16_inference.sh
+ SCRIPT_DIR=examples
++ realpath examples/../object_detection/
+ OBJECT_DETECTION=/workdir/models/research/object_detection
+ PYTHONPATH=/workdir/models/research/:/workdir/models/research/slim/::/workdir/models/research/object_detection
+ python examples/SSD320_inference.py --pipeline_config_path=/tmp/cfg/ssd320_full_1gpus.config --raport_file=/tmp/summary.json
2022-03-09 16:40:09.958907: I tensorflow/stream_executor/platform/default/dso_loader.cc:48] Successfully opened dynamic library libcudart.so.11.0
WARNING:tensorflow:Deprecation warnings have been disabled. Set TF_ENABLE_DEPRECATION_WARNINGS=1 to re-enable them.
WARNING:tensorflow:From /usr/local/lib/python3.6/dist-packages/horovod-0.19.1-py3.6-linux-x86_64.egg/horovod/tensorflow/__init__.py:152: The name tf.global_variables is deprecated. Please use tf.compat.v1.global_variables instead.

WARNING:tensorflow:From /usr/local/lib/python3.6/dist-packages/horovod-0.19.1-py3.6-linux-x86_64.egg/horovod/tensorflow/__init__.py:178: The name tf.get_default_graph is deprecated. Please use tf.compat.v1.get_default_graph instead.

WARNING:tensorflow:
The TensorFlow contrib module will not be included in TensorFlow 2.0.
For more information, please see:
  * https://github.com/tensorflow/community/blob/master/rfcs/20180907-contrib-sunset.md
  * https://github.com/tensorflow/addons
  * https://github.com/tensorflow/io (for I/O related ops)
If you depend on functionality not listed there, please file an issue.

WARNING:tensorflow:From /workdir/models/research/slim/nets/inception_resnet_v2.py:373: The name tf.GraphKeys is deprecated. Please use tf.compat.v1.GraphKeys instead.

WARNING:tensorflow:From /workdir/models/research/slim/nets/mobilenet/mobilenet.py:389: The name tf.nn.avg_pool is deprecated. Please use tf.nn.avg_pool2d instead.

WARNING:tensorflow:From examples/SSD320_inference.py:67: The name tf.train.SessionRunHook is deprecated. Please use tf.estimator.SessionRunHook instead.

WARNING:tensorflow:From examples/SSD320_inference.py:122: The name tf.app.run is deprecated. Please use tf.compat.v1.app.run instead.

WARNING:tensorflow:From examples/SSD320_inference.py:106: The name tf.logging.set_verbosity is deprecated. Please use tf.compat.v1.logging.set_verbosity instead.

W0309 16:40:15.175055 139840612987648 module_wrapper.py:139] From examples/SSD320_inference.py:106: The name tf.logging.set_verbosity is deprecated. Please use tf.compat.v1.logging.set_verbosity instead.

WARNING:tensorflow:From examples/SSD320_inference.py:106: The name tf.logging.INFO is deprecated. Please use tf.compat.v1.logging.INFO instead.

W0309 16:40:15.175433 139840612987648 module_wrapper.py:139] From examples/SSD320_inference.py:106: The name tf.logging.INFO is deprecated. Please use tf.compat.v1.logging.INFO instead.

WARNING:tensorflow:From examples/SSD320_inference.py:48: The name tf.ConfigProto is deprecated. Please use tf.compat.v1.ConfigProto instead.

W0309 16:40:15.175808 139840612987648 module_wrapper.py:139] From examples/SSD320_inference.py:48: The name tf.ConfigProto is deprecated. Please use tf.compat.v1.ConfigProto instead.

WARNING:tensorflow:From /workdir/models/research/object_detection/utils/config_util.py:94: The name tf.gfile.GFile is deprecated. Please use tf.io.gfile.GFile instead.

W0309 16:40:15.176525 139840612987648 module_wrapper.py:139] From /workdir/models/research/object_detection/utils/config_util.py:94: The name tf.gfile.GFile is deprecated. Please use tf.io.gfile.GFile instead.

WARNING:tensorflow:From /workdir/models/research/object_detection/model_lib.py:590: The name tf.logging.warning is deprecated. Please use tf.compat.v1.logging.warning instead.

W0309 16:40:15.182972 139840612987648 module_wrapper.py:139] From /workdir/models/research/object_detection/model_lib.py:590: The name tf.logging.warning is deprecated. Please use tf.compat.v1.logging.warning instead.

WARNING:tensorflow:Forced number of epochs for all eval validations to be 1.
W0309 16:40:15.183213 139840612987648 model_lib.py:591] Forced number of epochs for all eval validations to be 1.
WARNING:tensorflow:From /workdir/models/research/object_detection/utils/config_util.py:480: The name tf.logging.info is deprecated. Please use tf.compat.v1.logging.info instead.

W0309 16:40:15.183462 139840612987648 module_wrapper.py:139] From /workdir/models/research/object_detection/utils/config_util.py:480: The name tf.logging.info is deprecated. Please use tf.compat.v1.logging.info instead.

INFO:tensorflow:Maybe overwriting train_steps: None
I0309 16:40:15.183663 139840612987648 config_util.py:480] Maybe overwriting train_steps: None
INFO:tensorflow:Maybe overwriting sample_1_of_n_eval_examples: 1
I0309 16:40:15.183929 139840612987648 config_util.py:480] Maybe overwriting sample_1_of_n_eval_examples: 1
INFO:tensorflow:Maybe overwriting eval_num_epochs: 1
I0309 16:40:15.184128 139840612987648 config_util.py:480] Maybe overwriting eval_num_epochs: 1
INFO:tensorflow:Maybe overwriting load_pretrained: True
I0309 16:40:15.184346 139840612987648 config_util.py:480] Maybe overwriting load_pretrained: True
INFO:tensorflow:Ignoring config override key: load_pretrained
I0309 16:40:15.184579 139840612987648 config_util.py:490] Ignoring config override key: load_pretrained
WARNING:tensorflow:Expected number of evaluation epochs is 1, but instead encountered `eval_on_train_input_config.num_epochs` = 0. Overwriting `num_epochs` to 1.
W0309 16:40:15.185583 139840612987648 model_lib.py:607] Expected number of evaluation epochs is 1, but instead encountered `eval_on_train_input_config.num_epochs` = 0. Overwriting `num_epochs` to 1.
INFO:tensorflow:create_estimator_and_inputs: use_tpu False, export_to_tpu False
I0309 16:40:15.185861 139840612987648 model_lib.py:640] create_estimator_and_inputs: use_tpu False, export_to_tpu False
WARNING:tensorflow:Using temporary folder as model directory: /tmp/tmpbf_glsv9
W0309 16:40:15.186546 139840612987648 estimator.py:1821] Using temporary folder as model directory: /tmp/tmpbf_glsv9
INFO:tensorflow:Using config: {'_model_dir': '/tmp/tmpbf_glsv9', '_tf_random_seed': None, '_save_summary_steps': 100, '_save_checkpoints_steps': 100000, '_save_checkpoints_secs': None, '_session_config': , '_keep_checkpoint_max': 5, '_keep_checkpoint_every_n_hours': 10000, '_log_step_count_steps': 100, '_train_distribute': None, '_device_fn': None, '_protocol': None, '_eval_distribute': None, '_experimental_distribute': None, '_experimental_max_worker_delay_secs': None, '_session_creation_timeout_secs': 7200, '_service': None, '_cluster_spec': <tensorflow.python.training.server_lib.ClusterSpec object at 0x7f2e8ea627b8>, '_task_type': 'worker', '_task_id': 0, '_global_id_in_cluster': 0, '_master': '', '_evaluation_master': '', '_is_chief': True, '_num_ps_replicas': 0, '_num_worker_replicas': 1}
I0309 16:40:15.187069 139840612987648 estimator.py:212] Using config: {'_model_dir': '/tmp/tmpbf_glsv9', '_tf_random_seed': None, '_save_summary_steps': 100, '_save_checkpoints_steps': 100000, '_save_checkpoints_secs': None, '_session_config': , '_keep_checkpoint_max': 5, '_keep_checkpoint_every_n_hours': 10000, '_log_step_count_steps': 100, '_train_distribute': None, '_device_fn': None, '_protocol': None, '_eval_distribute': None, '_experimental_distribute': None, '_experimental_max_worker_delay_secs': None, '_session_creation_timeout_secs': 7200, '_service': None, '_cluster_spec': <tensorflow.python.training.server_lib.ClusterSpec object at 0x7f2e8ea627b8>, '_task_type': 'worker', '_task_id': 0, '_global_id_in_cluster': 0, '_master': '', '_evaluation_master': '', '_is_chief': True, '_num_ps_replicas': 0, '_num_worker_replicas': 1}
WARNING:tensorflow:Estimator's model_fn (<function create_model_fn.<locals>.model_fn at 0x7f2e8ea44d90>) includes params argument, but params are not passed to Estimator.
W0309 16:40:15.187443 139840612987648 model_fn.py:630] Estimator's model_fn (<function create_model_fn.<locals>.model_fn at 0x7f2e8ea44d90>) includes params argument, but params are not passed to Estimator.
INFO:tensorflow:Could not find trained model in model_dir: /tmp/tmpbf_glsv9, running initialization to predict.
I0309 16:40:15.189616 139840612987648 estimator.py:615] Could not find trained model in model_dir: /tmp/tmpbf_glsv9, running initialization to predict.
WARNING:tensorflow:From /workdir/models/research/object_detection/data_decoders/tf_example_decoder.py:167: The name tf.FixedLenFeature is deprecated. Please use tf.io.FixedLenFeature instead.

W0309 16:40:15.197839 139840612987648 module_wrapper.py:139] From /workdir/models/research/object_detection/data_decoders/tf_example_decoder.py:167: The name tf.FixedLenFeature is deprecated. Please use tf.io.FixedLenFeature instead.

WARNING:tensorflow:From /workdir/models/research/object_detection/data_decoders/tf_example_decoder.py:182: The name tf.VarLenFeature is deprecated. Please use tf.io.VarLenFeature instead.

W0309 16:40:15.198122 139840612987648 module_wrapper.py:139] From /workdir/models/research/object_detection/data_decoders/tf_example_decoder.py:182: The name tf.VarLenFeature is deprecated. Please use tf.io.VarLenFeature instead.

WARNING:tensorflow:From /workdir/models/research/object_detection/builders/dataset_builder.py:76: The name tf.gfile.Glob is deprecated. Please use tf.io.gfile.glob instead.

W0309 16:40:15.264188 139840612987648 module_wrapper.py:139] From /workdir/models/research/object_detection/builders/dataset_builder.py:76: The name tf.gfile.Glob is deprecated. Please use tf.io.gfile.glob instead.

2022-03-09 16:40:16.396164: I tensorflow/stream_executor/platform/default/dso_loader.cc:48] Successfully opened dynamic library libcuda.so.1
2022-03-09 16:40:16.407276: I tensorflow/stream_executor/cuda/cuda_gpu_executor.cc:983] successful NUMA node read from SysFS had negative value (-1), but there must be at least one NUMA node, so returning NUMA node zero
2022-03-09 16:40:16.414184: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1639] Found device 0 with properties: 
name: Tesla V100-SXM2-16GB major: 7 minor: 0 memoryClockRate(GHz): 1.53
pciBusID: 0000:00:1e.0
2022-03-09 16:40:16.414254: I tensorflow/stream_executor/platform/default/dso_loader.cc:48] Successfully opened dynamic library libcudart.so.11.0
2022-03-09 16:40:16.418666: I tensorflow/stream_executor/platform/default/dso_loader.cc:48] Successfully opened dynamic library libcublas.so.11
2022-03-09 16:40:16.420890: I tensorflow/stream_executor/platform/default/dso_loader.cc:48] Successfully opened dynamic library libcufft.so.10
2022-03-09 16:40:16.421430: I tensorflow/stream_executor/platform/default/dso_loader.cc:48] Successfully opened dynamic library libcurand.so.10
2022-03-09 16:40:16.426197: I tensorflow/stream_executor/platform/default/dso_loader.cc:48] Successfully opened dynamic library libcusolver.so.10
2022-03-09 16:40:16.427359: I tensorflow/stream_executor/platform/default/dso_loader.cc:48] Successfully opened dynamic library libcusparse.so.11
2022-03-09 16:40:16.427654: I tensorflow/stream_executor/platform/default/dso_loader.cc:48] Successfully opened dynamic library libcudnn.so.8
2022-03-09 16:40:16.427886: I tensorflow/stream_executor/cuda/cuda_gpu_executor.cc:983] successful NUMA node read from SysFS had negative value (-1), but there must be at least one NUMA node, so returning NUMA node zero
2022-03-09 16:40:16.429244: I tensorflow/stream_executor/cuda/cuda_gpu_executor.cc:983] successful NUMA node read from SysFS had negative value (-1), but there must be at least one NUMA node, so returning NUMA node zero
2022-03-09 16:40:16.430430: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1767] Adding visible gpu devices: 0
WARNING:tensorflow:The operation `tf.image.convert_image_dtype` will be skipped since the input and output dtypes are identical.
W0309 16:40:16.458380 139840612987648 image_ops_impl.py:1776] The operation `tf.image.convert_image_dtype` will be skipped since the input and output dtypes are identical.
WARNING:tensorflow:The operation `tf.image.convert_image_dtype` will be skipped since the input and output dtypes are identical.
W0309 16:40:16.467386 139840612987648 image_ops_impl.py:1776] The operation `tf.image.convert_image_dtype` will be skipped since the input and output dtypes are identical.
WARNING:tensorflow:The operation `tf.image.convert_image_dtype` will be skipped since the input and output dtypes are identical.
W0309 16:40:16.480598 139840612987648 image_ops_impl.py:1776] The operation `tf.image.convert_image_dtype` will be skipped since the input and output dtypes are identical.
WARNING:tensorflow:The operation `tf.image.convert_image_dtype` will be skipped since the input and output dtypes are identical.
W0309 16:40:16.494434 139840612987648 image_ops_impl.py:1776] The operation `tf.image.convert_image_dtype` will be skipped since the input and output dtypes are identical.
WARNING:tensorflow:From /usr/local/lib/python3.6/dist-packages/tensorflow_core/python/autograph/converters/directives.py:119: The name tf.is_nan is deprecated. Please use tf.math.is_nan instead.

W0309 16:40:30.636432 139840612987648 module_wrapper.py:139] From /usr/local/lib/python3.6/dist-packages/tensorflow_core/python/autograph/converters/directives.py:119: The name tf.is_nan is deprecated. Please use tf.math.is_nan instead.

WARNING:tensorflow:From /usr/local/lib/python3.6/dist-packages/tensorflow_core/python/autograph/converters/directives.py:119: The name tf.image.resize_images is deprecated. Please use tf.image.resize instead.

W0309 16:40:31.834007 139840612987648 module_wrapper.py:139] From /usr/local/lib/python3.6/dist-packages/tensorflow_core/python/autograph/converters/directives.py:119: The name tf.image.resize_images is deprecated. Please use tf.image.resize instead.

WARNING:tensorflow:From /usr/local/lib/python3.6/dist-packages/tensorflow_core/python/autograph/converters/directives.py:119: The name tf.image.resize_nearest_neighbor is deprecated. Please use tf.compat.v1.image.resize_nearest_neighbor instead.

W0309 16:40:31.836292 139840612987648 module_wrapper.py:139] From /usr/local/lib/python3.6/dist-packages/tensorflow_core/python/autograph/converters/directives.py:119: The name tf.image.resize_nearest_neighbor is deprecated. Please use tf.compat.v1.image.resize_nearest_neighbor instead.

WARNING:tensorflow:From /usr/local/lib/python3.6/dist-packages/tensorflow_core/python/autograph/converters/directives.py:119: The name tf.string_to_hash_bucket_fast is deprecated. Please use tf.strings.to_hash_bucket_fast instead.

W0309 16:40:37.589356 139840612987648 module_wrapper.py:139] From /usr/local/lib/python3.6/dist-packages/tensorflow_core/python/autograph/converters/directives.py:119: The name tf.string_to_hash_bucket_fast is deprecated. Please use tf.strings.to_hash_bucket_fast instead.

WARNING:tensorflow:From /usr/local/lib/python3.6/dist-packages/tensorflow_core/python/autograph/converters/directives.py:119: The name tf.random_uniform is deprecated. Please use tf.random.uniform instead.

W0309 16:40:37.870193 139840612987648 module_wrapper.py:139] From /usr/local/lib/python3.6/dist-packages/tensorflow_core/python/autograph/converters/directives.py:119: The name tf.random_uniform is deprecated. Please use tf.random.uniform instead.

INFO:tensorflow:Calling model_fn.
I0309 16:40:38.616944 139840612987648 estimator.py:1148] Calling model_fn.
WARNING:tensorflow:From /workdir/models/research/object_detection/meta_architectures/ssd_meta_arch.py:564: The name tf.variable_scope is deprecated. Please use tf.compat.v1.variable_scope instead.

W0309 16:40:38.618904 139840612987648 module_wrapper.py:139] From /workdir/models/research/object_detection/meta_architectures/ssd_meta_arch.py:564: The name tf.variable_scope is deprecated. Please use tf.compat.v1.variable_scope instead.

WARNING:tensorflow:From /workdir/models/research/object_detection/core/anchor_generator.py:149: The name tf.assert_equal is deprecated. Please use tf.compat.v1.assert_equal instead.

W0309 16:40:40.855564 139840612987648 module_wrapper.py:139] From /workdir/models/research/object_detection/core/anchor_generator.py:149: The name tf.assert_equal is deprecated. Please use tf.compat.v1.assert_equal instead.

WARNING:tensorflow:From /workdir/models/research/object_detection/predictors/convolutional_box_predictor.py:383: The name tf.AUTO_REUSE is deprecated. Please use tf.compat.v1.AUTO_REUSE instead.

W0309 16:40:41.769214 139840612987648 module_wrapper.py:139] From /workdir/models/research/object_detection/predictors/convolutional_box_predictor.py:383: The name tf.AUTO_REUSE is deprecated. Please use tf.compat.v1.AUTO_REUSE instead.

WARNING:tensorflow:From /workdir/models/research/object_detection/exporter.py:231: The name tf.add_to_collection is deprecated. Please use tf.compat.v1.add_to_collection instead.

W0309 16:40:46.172477 139840612987648 module_wrapper.py:139] From /workdir/models/research/object_detection/exporter.py:231: The name tf.add_to_collection is deprecated. Please use tf.compat.v1.add_to_collection instead.

WARNING:tensorflow:From /workdir/models/research/object_detection/model_lib.py:402: The name tf.saved_model.signature_constants.PREDICT_METHOD_NAME is deprecated. Please use tf.saved_model.PREDICT_METHOD_NAME instead.

W0309 16:40:46.172834 139840612987648 module_wrapper.py:139] From /workdir/models/research/object_detection/model_lib.py:402: The name tf.saved_model.signature_constants.PREDICT_METHOD_NAME is deprecated. Please use tf.saved_model.PREDICT_METHOD_NAME instead.

WARNING:tensorflow:From /workdir/models/research/object_detection/model_lib.py:487: The name tf.train.Saver is deprecated. Please use tf.compat.v1.train.Saver instead.

W0309 16:40:46.173043 139840612987648 module_wrapper.py:139] From /workdir/models/research/object_detection/model_lib.py:487: The name tf.train.Saver is deprecated. Please use tf.compat.v1.train.Saver instead.

WARNING:tensorflow:From /workdir/models/research/object_detection/model_lib.py:492: The name tf.train.Scaffold is deprecated. Please use tf.compat.v1.train.Scaffold instead.

W0309 16:40:46.580513 139840612987648 module_wrapper.py:139] From /workdir/models/research/object_detection/model_lib.py:492: The name tf.train.Scaffold is deprecated. Please use tf.compat.v1.train.Scaffold instead.

INFO:tensorflow:Done calling model_fn.
I0309 16:40:46.581070 139840612987648 estimator.py:1150] Done calling model_fn.
INFO:tensorflow:Graph was finalized.
I0309 16:40:47.228730 139840612987648 monitored_session.py:240] Graph was finalized.
2022-03-09 16:40:47.249893: I tensorflow/core/platform/profile_utils/cpu_utils.cc:94] CPU Frequency: 2300010000 Hz
2022-03-09 16:40:47.250687: I tensorflow/compiler/xla/service/service.cc:168] XLA service 0x73613b0 initialized for platform Host (this does not guarantee that XLA will be used). Devices:
2022-03-09 16:40:47.250813: I tensorflow/compiler/xla/service/service.cc:176]   StreamExecutor device (0): Host, Default Version
2022-03-09 16:40:47.447201: I tensorflow/stream_executor/cuda/cuda_gpu_executor.cc:983] successful NUMA node read from SysFS had negative value (-1), but there must be at least one NUMA node, so returning NUMA node zero
2022-03-09 16:40:47.448347: I tensorflow/compiler/xla/service/service.cc:168] XLA service 0x73633b0 initialized for platform CUDA (this does not guarantee that XLA will be used). Devices:
2022-03-09 16:40:47.448403: I tensorflow/compiler/xla/service/service.cc:176]   StreamExecutor device (0): Tesla V100-SXM2-16GB, Compute Capability 7.0
2022-03-09 16:40:47.448764: I tensorflow/stream_executor/cuda/cuda_gpu_executor.cc:983] successful NUMA node read from SysFS had negative value (-1), but there must be at least one NUMA node, so returning NUMA node zero
2022-03-09 16:40:47.449599: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1639] Found device 0 with properties: 
name: Tesla V100-SXM2-16GB major: 7 minor: 0 memoryClockRate(GHz): 1.53
pciBusID: 0000:00:1e.0
2022-03-09 16:40:47.449665: I tensorflow/stream_executor/platform/default/dso_loader.cc:48] Successfully opened dynamic library libcudart.so.11.0
2022-03-09 16:40:47.449778: I tensorflow/stream_executor/platform/default/dso_loader.cc:48] Successfully opened dynamic library libcublas.so.11
2022-03-09 16:40:47.449832: I tensorflow/stream_executor/platform/default/dso_loader.cc:48] Successfully opened dynamic library libcufft.so.10
2022-03-09 16:40:47.449888: I tensorflow/stream_executor/platform/default/dso_loader.cc:48] Successfully opened dynamic library libcurand.so.10
2022-03-09 16:40:47.449943: I tensorflow/stream_executor/platform/default/dso_loader.cc:48] Successfully opened dynamic library libcusolver.so.10
2022-03-09 16:40:47.449992: I tensorflow/stream_executor/platform/default/dso_loader.cc:48] Successfully opened dynamic library libcusparse.so.11
2022-03-09 16:40:47.450045: I tensorflow/stream_executor/platform/default/dso_loader.cc:48] Successfully opened dynamic library libcudnn.so.8
2022-03-09 16:40:47.450237: I tensorflow/stream_executor/cuda/cuda_gpu_executor.cc:983] successful NUMA node read from SysFS had negative value (-1), but there must be at least one NUMA node, so returning NUMA node zero
2022-03-09 16:40:47.451182: I tensorflow/stream_executor/cuda/cuda_gpu_executor.cc:983] successful NUMA node read from SysFS had negative value (-1), but there must be at least one NUMA node, so returning NUMA node zero
2022-03-09 16:40:47.451979: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1767] Adding visible gpu devices: 0
2022-03-09 16:40:47.452038: I tensorflow/stream_executor/platform/default/dso_loader.cc:48] Successfully opened dynamic library libcudart.so.11.0
2022-03-09 16:40:48.043903: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1180] Device interconnect StreamExecutor with strength 1 edge matrix:
2022-03-09 16:40:48.043969: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1186]      0 
2022-03-09 16:40:48.043980: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1199] 0:   N 
2022-03-09 16:40:48.047430: I tensorflow/stream_executor/cuda/cuda_gpu_executor.cc:983] successful NUMA node read from SysFS had negative value (-1), but there must be at least one NUMA node, so returning NUMA node zero
2022-03-09 16:40:48.048773: I tensorflow/stream_executor/cuda/cuda_gpu_executor.cc:983] successful NUMA node read from SysFS had negative value (-1), but there must be at least one NUMA node, so returning NUMA node zero
2022-03-09 16:40:48.049626: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1325] Created TensorFlow device (/job:localhost/replica:0/task:0/device:GPU:0 with 2044 MB memory) -> physical GPU (device: 0, name: Tesla V100-SXM2-16GB, pci bus id: 0000:00:1e.0, compute capability: 7.0)
2022-03-09 16:40:48.949033: I tensorflow/core/grappler/optimizers/auto_mixed_precision.cc:1987] Running auto_mixed_precision graph optimizer
2022-03-09 16:40:48.963259: I tensorflow/core/grappler/optimizers/auto_mixed_precision.cc:1343] No whitelist ops found, nothing to do
2022-03-09 16:40:50.767014: I tensorflow/core/grappler/optimizers/auto_mixed_precision.cc:1987] Running auto_mixed_precision graph optimizer
2022-03-09 16:40:50.774287: I tensorflow/core/grappler/optimizers/auto_mixed_precision.cc:1343] No whitelist ops found, nothing to do
INFO:tensorflow:Running local_init_op.
I0309 16:40:51.555824 139840612987648 session_manager.py:500] Running local_init_op.
2022-03-09 16:40:51.832626: I tensorflow/core/grappler/optimizers/auto_mixed_precision.cc:1987] Running auto_mixed_precision graph optimizer
2022-03-09 16:40:51.833093: I tensorflow/core/grappler/optimizers/auto_mixed_precision.cc:1343] No whitelist ops found, nothing to do
INFO:tensorflow:Done running local_init_op.
I0309 16:40:51.891297 139840612987648 session_manager.py:502] Done running local_init_op.
2022-03-09 16:40:52.298229: I tensorflow/core/grappler/optimizers/auto_mixed_precision.cc:1987] Running auto_mixed_precision graph optimizer
2022-03-09 16:40:52.306626: I tensorflow/core/grappler/optimizers/auto_mixed_precision.cc:1343] No whitelist ops found, nothing to do
2022-03-09 16:40:53.367195: I tensorflow/core/grappler/optimizers/auto_mixed_precision.cc:1987] Running auto_mixed_precision graph optimizer
2022-03-09 16:40:53.367846: I tensorflow/core/grappler/optimizers/auto_mixed_precision.cc:1343] No whitelist ops found, nothing to do
2022-03-09 16:40:53.415334: I tensorflow/core/grappler/optimizers/auto_mixed_precision.cc:1343] No whitelist ops found, nothing to do
2022-03-09 16:40:53.446907: I tensorflow/core/grappler/optimizers/auto_mixed_precision.cc:1343] No whitelist ops found, nothing to do
2022-03-09 16:40:53.464358: I tensorflow/core/grappler/optimizers/auto_mixed_precision.cc:1343] No whitelist ops found, nothing to do
2022-03-09 16:40:53.467757: I tensorflow/core/grappler/optimizers/auto_mixed_precision.cc:1343] No whitelist ops found, nothing to do
2022-03-09 16:40:53.470945: I tensorflow/core/grappler/optimizers/auto_mixed_precision.cc:1343] No whitelist ops found, nothing to do
2022-03-09 16:40:53.474576: I tensorflow/core/grappler/optimizers/auto_mixed_precision.cc:1343] No whitelist ops found, nothing to do
2022-03-09 16:40:53.477233: I tensorflow/core/grappler/optimizers/auto_mixed_precision.cc:1343] No whitelist ops found, nothing to do
2022-03-09 16:40:53.499613: I tensorflow/core/grappler/optimizers/auto_mixed_precision.cc:1343] No whitelist ops found, nothing to do
2022-03-09 16:40:53.520078: I tensorflow/core/grappler/optimizers/auto_mixed_precision.cc:1343] No whitelist ops found, nothing to do
2022-03-09 16:40:53.732292: I tensorflow/core/grappler/optimizers/auto_mixed_precision.cc:1343] No whitelist ops found, nothing to do
2022-03-09 16:40:53.842351: I tensorflow/core/grappler/optimizers/auto_mixed_precision.cc:1343] No whitelist ops found, nothing to do
2022-03-09 16:40:53.847535: I tensorflow/core/grappler/optimizers/auto_mixed_precision.cc:1343] No whitelist ops found, nothing to do
2022-03-09 16:40:53.852364: I tensorflow/core/grappler/optimizers/auto_mixed_precision.cc:1343] No whitelist ops found, nothing to do
2022-03-09 16:40:53.856867: I tensorflow/core/grappler/optimizers/auto_mixed_precision.cc:1343] No whitelist ops found, nothing to do
2022-03-09 16:40:53.859555: I tensorflow/core/grappler/optimizers/auto_mixed_precision.cc:1343] No whitelist ops found, nothing to do
2022-03-09 16:40:53.864273: I tensorflow/core/grappler/optimizers/auto_mixed_precision.cc:1343] No whitelist ops found, nothing to do
2022-03-09 16:40:53.868023: I tensorflow/core/grappler/optimizers/auto_mixed_precision.cc:1343] No whitelist ops found, nothing to do
2022-03-09 16:40:53.883616: I tensorflow/core/grappler/optimizers/auto_mixed_precision.cc:1343] No whitelist ops found, nothing to do
2022-03-09 16:40:53.896395: I tensorflow/core/grappler/optimizers/auto_mixed_precision.cc:1343] No whitelist ops found, nothing to do
2022-03-09 16:40:53.899283: I tensorflow/core/grappler/optimizers/auto_mixed_precision.cc:1343] No whitelist ops found, nothing to do
2022-03-09 16:40:53.901974: I tensorflow/core/grappler/optimizers/auto_mixed_precision.cc:1343] No whitelist ops found, nothing to do
2022-03-09 16:40:53.905225: I tensorflow/core/grappler/optimizers/auto_mixed_precision.cc:1343] No whitelist ops found, nothing to do
2022-03-09 16:40:53.908495: I tensorflow/core/grappler/optimizers/auto_mixed_precision.cc:1343] No whitelist ops found, nothing to do
2022-03-09 16:40:56.112883: I tensorflow/core/grappler/optimizers/auto_mixed_precision.cc:1987] Running auto_mixed_precision graph optimizer
2022-03-09 16:40:56.153529: I tensorflow/core/grappler/optimizers/auto_mixed_precision.cc:1035] Automatic Mixed Precision Grappler Pass Summary:

Total processable nodes: 3870
Recognized nodes available for conversion: 3198
Total nodes converted: 300
Total FP16 Cast ops used (excluding Const and Variable casts): 1
Whitelisted nodes converted: 110
Blacklisted nodes blocking conversion: 4
Nodes blocked from conversion by blacklisted nodes: 8

For more information regarding mixed precision training, including how to make automatic mixed precision aware of a custom op type, please see the documentation available here:
https://docs.nvidia.com/deeplearning/frameworks/tensorflow-user-guide/index.html#tfamp


2022-03-09 16:40:58.333276: I tensorflow/stream_executor/platform/default/dso_loader.cc:48] Successfully opened dynamic library libcudnn.so.8
2022-03-09 16:40:59.972066: I tensorflow/stream_executor/platform/default/dso_loader.cc:48] Successfully opened dynamic library libcublas.so.11
INFO:tensorflow:Latency 90%: 158.46 ms
I0309 16:41:54.612182 139840612987648 SSD320_inference.py:100] Latency 90%: 158.46 ms
INFO:tensorflow:Latency 95%: 171.09 ms
I0309 16:41:54.613127 139840612987648 SSD320_inference.py:100] Latency 95%: 171.09 ms
INFO:tensorflow:Latency 99%: 181.51 ms
I0309 16:41:54.613640 139840612987648 SSD320_inference.py:100] Latency 99%: 181.51 ms

Benchmark result: 8.071199436573522 img/s
+ count=5
+ echo INFERENCE_LOOP_COUNT=5
INFERENCE_LOOP_COUNT=5
+ [[ -n 20 ]]
+ minutes=8
+ [[ 8 -ge 20 ]]
+ true
+ bash -x examples/SSD320_FP16_inference.sh /tmp/cfg --raport_file=/tmp/summary.json
+ test -f /etc/shinit_v2
+ source /etc/shinit_v2
+++ sed -n 's/^NVRM.*Kernel Module *\([^() ]*\).*$/\1/p' /proc/driver/nvidia/version
+++ sed 's/^$/unknown/'
++ NV_DRIVER_VERS=
++ export _CUDA_COMPAT_PATH=/usr/local/cuda/compat
++ _CUDA_COMPAT_PATH=/usr/local/cuda/compat
+++ hostname
++ _CUDA_COMPAT_CHECKFILE=/usr/local/cuda/compat/..ssd-inference-4-0-0.checked
++ _CUDA_COMPAT_REALLIB=/usr/local/cuda/compat/lib.real
++ _CUDA_COMPAT_SYMLINK=/usr/local/cuda/compat/lib
++ '[' -n '' -a -e /dev/nvidiactl -a '!' -e /usr/local/cuda/compat/..ssd-inference-4-0-0.checked ']'
++ unset _CUDA_COMPAT_CHECKFILE
++ unset _CUDA_COMPAT_REALLIB
++ unset _CUDA_COMPAT_SYMLINK
+ '[' -z '' ']'
+ return
+ PIPELINE_CONFIG_PATH=/tmp/cfg/ssd320_full_1gpus.config
+ export TF_ENABLE_AUTO_MIXED_PRECISION=1
+ TF_ENABLE_AUTO_MIXED_PRECISION=1
++ dirname examples/SSD320_FP16_inference.sh
+ SCRIPT_DIR=examples
++ realpath examples/../object_detection/
+ OBJECT_DETECTION=/workdir/models/research/object_detection
+ PYTHONPATH=/workdir/models/research/:/workdir/models/research/slim/::/workdir/models/research/object_detection
+ python examples/SSD320_inference.py --pipeline_config_path=/tmp/cfg/ssd320_full_1gpus.config --raport_file=/tmp/summary.json
2022-03-09 16:41:56.536324: I tensorflow/stream_executor/platform/default/dso_loader.cc:48] Successfully opened dynamic library libcudart.so.11.0
WARNING:tensorflow:Deprecation warnings have been disabled. Set TF_ENABLE_DEPRECATION_WARNINGS=1 to re-enable them.
WARNING:tensorflow:From /usr/local/lib/python3.6/dist-packages/horovod-0.19.1-py3.6-linux-x86_64.egg/horovod/tensorflow/__init__.py:152: The name tf.global_variables is deprecated. Please use tf.compat.v1.global_variables instead.

WARNING:tensorflow:From /usr/local/lib/python3.6/dist-packages/horovod-0.19.1-py3.6-linux-x86_64.egg/horovod/tensorflow/__init__.py:178: The name tf.get_default_graph is deprecated. Please use tf.compat.v1.get_default_graph instead.

WARNING:tensorflow:
The TensorFlow contrib module will not be included in TensorFlow 2.0.
For more information, please see:
  * https://github.com/tensorflow/community/blob/master/rfcs/20180907-contrib-sunset.md
  * https://github.com/tensorflow/addons
  * https://github.com/tensorflow/io (for I/O related ops)
If you depend on functionality not listed there, please file an issue.

WARNING:tensorflow:From /workdir/models/research/slim/nets/inception_resnet_v2.py:373: The name tf.GraphKeys is deprecated. Please use tf.compat.v1.GraphKeys instead.

WARNING:tensorflow:From /workdir/models/research/slim/nets/mobilenet/mobilenet.py:389: The name tf.nn.avg_pool is deprecated. Please use tf.nn.avg_pool2d instead.

WARNING:tensorflow:From examples/SSD320_inference.py:67: The name tf.train.SessionRunHook is deprecated. Please use tf.estimator.SessionRunHook instead.

WARNING:tensorflow:From examples/SSD320_inference.py:122: The name tf.app.run is deprecated. Please use tf.compat.v1.app.run instead.

WARNING:tensorflow:From examples/SSD320_inference.py:106: The name tf.logging.set_verbosity is deprecated. Please use tf.compat.v1.logging.set_verbosity instead.

W0309 16:42:01.389728 140157339083520 module_wrapper.py:139] From examples/SSD320_inference.py:106: The name tf.logging.set_verbosity is deprecated. Please use tf.compat.v1.logging.set_verbosity instead.

WARNING:tensorflow:From examples/SSD320_inference.py:106: The name tf.logging.INFO is deprecated. Please use tf.compat.v1.logging.INFO instead.

W0309 16:42:01.390026 140157339083520 module_wrapper.py:139] From examples/SSD320_inference.py:106: The name tf.logging.INFO is deprecated. Please use tf.compat.v1.logging.INFO instead.

WARNING:tensorflow:From examples/SSD320_inference.py:48: The name tf.ConfigProto is deprecated. Please use tf.compat.v1.ConfigProto instead.

W0309 16:42:01.390395 140157339083520 module_wrapper.py:139] From examples/SSD320_inference.py:48: The name tf.ConfigProto is deprecated. Please use tf.compat.v1.ConfigProto instead.

WARNING:tensorflow:From /workdir/models/research/object_detection/utils/config_util.py:94: The name tf.gfile.GFile is deprecated. Please use tf.io.gfile.GFile instead.

W0309 16:42:01.391198 140157339083520 module_wrapper.py:139] From /workdir/models/research/object_detection/utils/config_util.py:94: The name tf.gfile.GFile is deprecated. Please use tf.io.gfile.GFile instead.

WARNING:tensorflow:From /workdir/models/research/object_detection/model_lib.py:590: The name tf.logging.warning is deprecated. Please use tf.compat.v1.logging.warning instead.

W0309 16:42:01.395793 140157339083520 module_wrapper.py:139] From /workdir/models/research/object_detection/model_lib.py:590: The name tf.logging.warning is deprecated. Please use tf.compat.v1.logging.warning instead.

WARNING:tensorflow:Forced number of epochs for all eval validations to be 1.
W0309 16:42:01.395963 140157339083520 model_lib.py:591] Forced number of epochs for all eval validations to be 1.
WARNING:tensorflow:From /workdir/models/research/object_detection/utils/config_util.py:480: The name tf.logging.info is deprecated. Please use tf.compat.v1.logging.info instead.

W0309 16:42:01.396175 140157339083520 module_wrapper.py:139] From /workdir/models/research/object_detection/utils/config_util.py:480: The name tf.logging.info is deprecated. Please use tf.compat.v1.logging.info instead.

INFO:tensorflow:Maybe overwriting train_steps: None
I0309 16:42:01.396337 140157339083520 config_util.py:480] Maybe overwriting train_steps: None
INFO:tensorflow:Maybe overwriting sample_1_of_n_eval_examples: 1
I0309 16:42:01.396556 140157339083520 config_util.py:480] Maybe overwriting sample_1_of_n_eval_examples: 1
INFO:tensorflow:Maybe overwriting eval_num_epochs: 1
I0309 16:42:01.396738 140157339083520 config_util.py:480] Maybe overwriting eval_num_epochs: 1
INFO:tensorflow:Maybe overwriting load_pretrained: True
I0309 16:42:01.396882 140157339083520 config_util.py:480] Maybe overwriting load_pretrained: True
INFO:tensorflow:Ignoring config override key: load_pretrained
I0309 16:42:01.396966 140157339083520 config_util.py:490] Ignoring config override key: load_pretrained
WARNING:tensorflow:Expected number of evaluation epochs is 1, but instead encountered `eval_on_train_input_config.num_epochs` = 0. Overwriting `num_epochs` to 1.
W0309 16:42:01.397863 140157339083520 model_lib.py:607] Expected number of evaluation epochs is 1, but instead encountered `eval_on_train_input_config.num_epochs` = 0. Overwriting `num_epochs` to 1.
INFO:tensorflow:create_estimator_and_inputs: use_tpu False, export_to_tpu False
I0309 16:42:01.398058 140157339083520 model_lib.py:640] create_estimator_and_inputs: use_tpu False, export_to_tpu False
WARNING:tensorflow:Using temporary folder as model directory: /tmp/tmpwx864odc
W0309 16:42:01.398730 140157339083520 estimator.py:1821] Using temporary folder as model directory: /tmp/tmpwx864odc
INFO:tensorflow:Using config: {'_model_dir': '/tmp/tmpwx864odc', '_tf_random_seed': None, '_save_summary_steps': 100, '_save_checkpoints_steps': 100000, '_save_checkpoints_secs': None, '_session_config': , '_keep_checkpoint_max': 5, '_keep_checkpoint_every_n_hours': 10000, '_log_step_count_steps': 100, '_train_distribute': None, '_device_fn': None, '_protocol': None, '_eval_distribute': None, '_experimental_distribute': None, '_experimental_max_worker_delay_secs': None, '_session_creation_timeout_secs': 7200, '_service': None, '_cluster_spec': <tensorflow.python.training.server_lib.ClusterSpec object at 0x7f784cf75898>, '_task_type': 'worker', '_task_id': 0, '_global_id_in_cluster': 0, '_master': '', '_evaluation_master': '', '_is_chief': True, '_num_ps_replicas': 0, '_num_worker_replicas': 1}
I0309 16:42:01.399174 140157339083520 estimator.py:212] Using config: {'_model_dir': '/tmp/tmpwx864odc', '_tf_random_seed': None, '_save_summary_steps': 100, '_save_checkpoints_steps': 100000, '_save_checkpoints_secs': None, '_session_config': , '_keep_checkpoint_max': 5, '_keep_checkpoint_every_n_hours': 10000, '_log_step_count_steps': 100, '_train_distribute': None, '_device_fn': None, '_protocol': None, '_eval_distribute': None, '_experimental_distribute': None, '_experimental_max_worker_delay_secs': None, '_session_creation_timeout_secs': 7200, '_service': None, '_cluster_spec': <tensorflow.python.training.server_lib.ClusterSpec object at 0x7f784cf75898>, '_task_type': 'worker', '_task_id': 0, '_global_id_in_cluster': 0, '_master': '', '_evaluation_master': '', '_is_chief': True, '_num_ps_replicas': 0, '_num_worker_replicas': 1}
WARNING:tensorflow:Estimator's model_fn (<function create_model_fn.<locals>.model_fn at 0x7f784cf58d90>) includes params argument, but params are not passed to Estimator.
W0309 16:42:01.399519 140157339083520 model_fn.py:630] Estimator's model_fn (<function create_model_fn.<locals>.model_fn at 0x7f784cf58d90>) includes params argument, but params are not passed to Estimator.
INFO:tensorflow:Could not find trained model in model_dir: /tmp/tmpwx864odc, running initialization to predict.
I0309 16:42:01.401788 140157339083520 estimator.py:615] Could not find trained model in model_dir: /tmp/tmpwx864odc, running initialization to predict.
WARNING:tensorflow:From /workdir/models/research/object_detection/data_decoders/tf_example_decoder.py:167: The name tf.FixedLenFeature is deprecated. Please use tf.io.FixedLenFeature instead.

W0309 16:42:01.408205 140157339083520 module_wrapper.py:139] From /workdir/models/research/object_detection/data_decoders/tf_example_decoder.py:167: The name tf.FixedLenFeature is deprecated. Please use tf.io.FixedLenFeature instead.

WARNING:tensorflow:From /workdir/models/research/object_detection/data_decoders/tf_example_decoder.py:182: The name tf.VarLenFeature is deprecated. Please use tf.io.VarLenFeature instead.

W0309 16:42:01.408461 140157339083520 module_wrapper.py:139] From /workdir/models/research/object_detection/data_decoders/tf_example_decoder.py:182: The name tf.VarLenFeature is deprecated. Please use tf.io.VarLenFeature instead.

WARNING:tensorflow:From /workdir/models/research/object_detection/builders/dataset_builder.py:76: The name tf.gfile.Glob is deprecated. Please use tf.io.gfile.glob instead.

W0309 16:42:01.463942 140157339083520 module_wrapper.py:139] From /workdir/models/research/object_detection/builders/dataset_builder.py:76: The name tf.gfile.Glob is deprecated. Please use tf.io.gfile.glob instead.

2022-03-09 16:42:02.158483: I tensorflow/stream_executor/platform/default/dso_loader.cc:48] Successfully opened dynamic library libcuda.so.1
2022-03-09 16:42:02.166772: I tensorflow/stream_executor/cuda/cuda_gpu_executor.cc:983] successful NUMA node read from SysFS had negative value (-1), but there must be at least one NUMA node, so returning NUMA node zero
2022-03-09 16:42:02.170026: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1639] Found device 0 with properties: 
name: Tesla V100-SXM2-16GB major: 7 minor: 0 memoryClockRate(GHz): 1.53
pciBusID: 0000:00:1e.0
2022-03-09 16:42:02.170075: I tensorflow/stream_executor/platform/default/dso_loader.cc:48] Successfully opened dynamic library libcudart.so.11.0
2022-03-09 16:42:02.173359: I tensorflow/stream_executor/platform/default/dso_loader.cc:48] Successfully opened dynamic library libcublas.so.11
2022-03-09 16:42:02.175080: I tensorflow/stream_executor/platform/default/dso_loader.cc:48] Successfully opened dynamic library libcufft.so.10
2022-03-09 16:42:02.175486: I tensorflow/stream_executor/platform/default/dso_loader.cc:48] Successfully opened dynamic library libcurand.so.10
2022-03-09 16:42:02.178922: I tensorflow/stream_executor/platform/default/dso_loader.cc:48] Successfully opened dynamic library libcusolver.so.10
2022-03-09 16:42:02.179975: I tensorflow/stream_executor/platform/default/dso_loader.cc:48] Successfully opened dynamic library libcusparse.so.11
2022-03-09 16:42:02.180235: I tensorflow/stream_executor/platform/default/dso_loader.cc:48] Successfully opened dynamic library libcudnn.so.8
2022-03-09 16:42:02.180440: I tensorflow/stream_executor/cuda/cuda_gpu_executor.cc:983] successful NUMA node read from SysFS had negative value (-1), but there must be at least one NUMA node, so returning NUMA node zero
2022-03-09 16:42:02.181977: I tensorflow/stream_executor/cuda/cuda_gpu_executor.cc:983] successful NUMA node read from SysFS had negative value (-1), but there must be at least one NUMA node, so returning NUMA node zero
2022-03-09 16:42:02.183253: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1767] Adding visible gpu devices: 0
WARNING:tensorflow:The operation `tf.image.convert_image_dtype` will be skipped since the input and output dtypes are identical.
W0309 16:42:02.210281 140157339083520 image_ops_impl.py:1776] The operation `tf.image.convert_image_dtype` will be skipped since the input and output dtypes are identical.
WARNING:tensorflow:The operation `tf.image.convert_image_dtype` will be skipped since the input and output dtypes are identical.
W0309 16:42:02.218899 140157339083520 image_ops_impl.py:1776] The operation `tf.image.convert_image_dtype` will be skipped since the input and output dtypes are identical.
WARNING:tensorflow:The operation `tf.image.convert_image_dtype` will be skipped since the input and output dtypes are identical.
W0309 16:42:02.231588 140157339083520 image_ops_impl.py:1776] The operation `tf.image.convert_image_dtype` will be skipped since the input and output dtypes are identical.
WARNING:tensorflow:The operation `tf.image.convert_image_dtype` will be skipped since the input and output dtypes are identical.
W0309 16:42:02.244889 140157339083520 image_ops_impl.py:1776] The operation `tf.image.convert_image_dtype` will be skipped since the input and output dtypes are identical.
WARNING:tensorflow:From /usr/local/lib/python3.6/dist-packages/tensorflow_core/python/autograph/converters/directives.py:119: The name tf.is_nan is deprecated. Please use tf.math.is_nan instead.

W0309 16:42:15.243778 140157339083520 module_wrapper.py:139] From /usr/local/lib/python3.6/dist-packages/tensorflow_core/python/autograph/converters/directives.py:119: The name tf.is_nan is deprecated. Please use tf.math.is_nan instead.

WARNING:tensorflow:From /usr/local/lib/python3.6/dist-packages/tensorflow_core/python/autograph/converters/directives.py:119: The name tf.image.resize_images is deprecated. Please use tf.image.resize instead.

W0309 16:42:16.415406 140157339083520 module_wrapper.py:139] From /usr/local/lib/python3.6/dist-packages/tensorflow_core/python/autograph/converters/directives.py:119: The name tf.image.resize_images is deprecated. Please use tf.image.resize instead.

WARNING:tensorflow:From /usr/local/lib/python3.6/dist-packages/tensorflow_core/python/autograph/converters/directives.py:119: The name tf.image.resize_nearest_neighbor is deprecated. Please use tf.compat.v1.image.resize_nearest_neighbor instead.

W0309 16:42:16.417575 140157339083520 module_wrapper.py:139] From /usr/local/lib/python3.6/dist-packages/tensorflow_core/python/autograph/converters/directives.py:119: The name tf.image.resize_nearest_neighbor is deprecated. Please use tf.compat.v1.image.resize_nearest_neighbor instead.

WARNING:tensorflow:From /usr/local/lib/python3.6/dist-packages/tensorflow_core/python/autograph/converters/directives.py:119: The name tf.string_to_hash_bucket_fast is deprecated. Please use tf.strings.to_hash_bucket_fast instead.

W0309 16:42:20.136009 140157339083520 module_wrapper.py:139] From /usr/local/lib/python3.6/dist-packages/tensorflow_core/python/autograph/converters/directives.py:119: The name tf.string_to_hash_bucket_fast is deprecated. Please use tf.strings.to_hash_bucket_fast instead.

WARNING:tensorflow:From /usr/local/lib/python3.6/dist-packages/tensorflow_core/python/autograph/converters/directives.py:119: The name tf.random_uniform is deprecated. Please use tf.random.uniform instead.

W0309 16:42:20.308350 140157339083520 module_wrapper.py:139] From /usr/local/lib/python3.6/dist-packages/tensorflow_core/python/autograph/converters/directives.py:119: The name tf.random_uniform is deprecated. Please use tf.random.uniform instead.

INFO:tensorflow:Calling model_fn.
I0309 16:42:20.779527 140157339083520 estimator.py:1148] Calling model_fn.
WARNING:tensorflow:From /workdir/models/research/object_detection/meta_architectures/ssd_meta_arch.py:564: The name tf.variable_scope is deprecated. Please use tf.compat.v1.variable_scope instead.

W0309 16:42:20.781228 140157339083520 module_wrapper.py:139] From /workdir/models/research/object_detection/meta_architectures/ssd_meta_arch.py:564: The name tf.variable_scope is deprecated. Please use tf.compat.v1.variable_scope instead.

WARNING:tensorflow:From /workdir/models/research/object_detection/core/anchor_generator.py:149: The name tf.assert_equal is deprecated. Please use tf.compat.v1.assert_equal instead.

W0309 16:42:22.868162 140157339083520 module_wrapper.py:139] From /workdir/models/research/object_detection/core/anchor_generator.py:149: The name tf.assert_equal is deprecated. Please use tf.compat.v1.assert_equal instead.

WARNING:tensorflow:From /workdir/models/research/object_detection/predictors/convolutional_box_predictor.py:383: The name tf.AUTO_REUSE is deprecated. Please use tf.compat.v1.AUTO_REUSE instead.

W0309 16:42:23.550408 140157339083520 module_wrapper.py:139] From /workdir/models/research/object_detection/predictors/convolutional_box_predictor.py:383: The name tf.AUTO_REUSE is deprecated. Please use tf.compat.v1.AUTO_REUSE instead.

WARNING:tensorflow:From /workdir/models/research/object_detection/exporter.py:231: The name tf.add_to_collection is deprecated. Please use tf.compat.v1.add_to_collection instead.

W0309 16:42:29.186757 140157339083520 module_wrapper.py:139] From /workdir/models/research/object_detection/exporter.py:231: The name tf.add_to_collection is deprecated. Please use tf.compat.v1.add_to_collection instead.

WARNING:tensorflow:From /workdir/models/research/object_detection/model_lib.py:402: The name tf.saved_model.signature_constants.PREDICT_METHOD_NAME is deprecated. Please use tf.saved_model.PREDICT_METHOD_NAME instead.

W0309 16:42:29.187534 140157339083520 module_wrapper.py:139] From /workdir/models/research/object_detection/model_lib.py:402: The name tf.saved_model.signature_constants.PREDICT_METHOD_NAME is deprecated. Please use tf.saved_model.PREDICT_METHOD_NAME instead.

WARNING:tensorflow:From /workdir/models/research/object_detection/model_lib.py:487: The name tf.train.Saver is deprecated. Please use tf.compat.v1.train.Saver instead.

W0309 16:42:29.187990 140157339083520 module_wrapper.py:139] From /workdir/models/research/object_detection/model_lib.py:487: The name tf.train.Saver is deprecated. Please use tf.compat.v1.train.Saver instead.

WARNING:tensorflow:From /workdir/models/research/object_detection/model_lib.py:492: The name tf.train.Scaffold is deprecated. Please use tf.compat.v1.train.Scaffold instead.

W0309 16:42:29.742891 140157339083520 module_wrapper.py:139] From /workdir/models/research/object_detection/model_lib.py:492: The name tf.train.Scaffold is deprecated. Please use tf.compat.v1.train.Scaffold instead.

INFO:tensorflow:Done calling model_fn.
I0309 16:42:29.743747 140157339083520 estimator.py:1150] Done calling model_fn.
INFO:tensorflow:Graph was finalized.
I0309 16:42:30.718130 140157339083520 monitored_session.py:240] Graph was finalized.
2022-03-09 16:42:30.730783: I tensorflow/core/platform/profile_utils/cpu_utils.cc:94] CPU Frequency: 2300010000 Hz
2022-03-09 16:42:30.732190: I tensorflow/compiler/xla/service/service.cc:168] XLA service 0x59b34b0 initialized for platform Host (this does not guarantee that XLA will be used). Devices:
2022-03-09 16:42:30.733418: I tensorflow/compiler/xla/service/service.cc:176]   StreamExecutor device (0): Host, Default Version
2022-03-09 16:42:30.944940: I tensorflow/stream_executor/cuda/cuda_gpu_executor.cc:983] successful NUMA node read from SysFS had negative value (-1), but there must be at least one NUMA node, so returning NUMA node zero
2022-03-09 16:42:30.946514: I tensorflow/compiler/xla/service/service.cc:168] XLA service 0x59a75a0 initialized for platform CUDA (this does not guarantee that XLA will be used). Devices:
2022-03-09 16:42:30.946569: I tensorflow/compiler/xla/service/service.cc:176]   StreamExecutor device (0): Tesla V100-SXM2-16GB, Compute Capability 7.0
2022-03-09 16:42:30.946901: I tensorflow/stream_executor/cuda/cuda_gpu_executor.cc:983] successful NUMA node read from SysFS had negative value (-1), but there must be at least one NUMA node, so returning NUMA node zero
2022-03-09 16:42:30.948985: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1639] Found device 0 with properties: 
name: Tesla V100-SXM2-16GB major: 7 minor: 0 memoryClockRate(GHz): 1.53
pciBusID: 0000:00:1e.0
2022-03-09 16:42:30.949130: I tensorflow/stream_executor/platform/default/dso_loader.cc:48] Successfully opened dynamic library libcudart.so.11.0
2022-03-09 16:42:30.949267: I tensorflow/stream_executor/platform/default/dso_loader.cc:48] Successfully opened dynamic library libcublas.so.11
2022-03-09 16:42:30.949340: I tensorflow/stream_executor/platform/default/dso_loader.cc:48] Successfully opened dynamic library libcufft.so.10
2022-03-09 16:42:30.949398: I tensorflow/stream_executor/platform/default/dso_loader.cc:48] Successfully opened dynamic library libcurand.so.10
2022-03-09 16:42:30.949461: I tensorflow/stream_executor/platform/default/dso_loader.cc:48] Successfully opened dynamic library libcusolver.so.10
2022-03-09 16:42:30.949565: I tensorflow/stream_executor/platform/default/dso_loader.cc:48] Successfully opened dynamic library libcusparse.so.11
2022-03-09 16:42:30.949660: I tensorflow/stream_executor/platform/default/dso_loader.cc:48] Successfully opened dynamic library libcudnn.so.8
2022-03-09 16:42:30.949881: I tensorflow/stream_executor/cuda/cuda_gpu_executor.cc:983] successful NUMA node read from SysFS had negative value (-1), but there must be at least one NUMA node, so returning NUMA node zero
2022-03-09 16:42:30.951424: I tensorflow/stream_executor/cuda/cuda_gpu_executor.cc:983] successful NUMA node read from SysFS had negative value (-1), but there must be at least one NUMA node, so returning NUMA node zero
2022-03-09 16:42:30.952403: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1767] Adding visible gpu devices: 0
2022-03-09 16:42:30.952484: I tensorflow/stream_executor/platform/default/dso_loader.cc:48] Successfully opened dynamic library libcudart.so.11.0
2022-03-09 16:42:31.729177: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1180] Device interconnect StreamExecutor with strength 1 edge matrix:
2022-03-09 16:42:31.729364: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1186]      0 
2022-03-09 16:42:31.729433: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1199] 0:   N 
2022-03-09 16:42:31.733197: I tensorflow/stream_executor/cuda/cuda_gpu_executor.cc:983] successful NUMA node read from SysFS had negative value (-1), but there must be at least one NUMA node, so returning NUMA node zero
2022-03-09 16:42:31.736127: I tensorflow/stream_executor/cuda/cuda_gpu_executor.cc:983] successful NUMA node read from SysFS had negative value (-1), but there must be at least one NUMA node, so returning NUMA node zero
2022-03-09 16:42:31.737263: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1325] Created TensorFlow device (/job:localhost/replica:0/task:0/device:GPU:0 with 2044 MB memory) -> physical GPU (device: 0, name: Tesla V100-SXM2-16GB, pci bus id: 0000:00:1e.0, compute capability: 7.0)
2022-03-09 16:42:32.874752: I tensorflow/core/grappler/optimizers/auto_mixed_precision.cc:1987] Running auto_mixed_precision graph optimizer
2022-03-09 16:42:32.887785: I tensorflow/core/grappler/optimizers/auto_mixed_precision.cc:1343] No whitelist ops found, nothing to do
2022-03-09 16:42:34.999104: I tensorflow/core/grappler/optimizers/auto_mixed_precision.cc:1987] Running auto_mixed_precision graph optimizer
2022-03-09 16:42:35.006993: I tensorflow/core/grappler/optimizers/auto_mixed_precision.cc:1343] No whitelist ops found, nothing to do
INFO:tensorflow:Running local_init_op.
I0309 16:42:35.821429 140157339083520 session_manager.py:500] Running local_init_op.
2022-03-09 16:42:36.108656: I tensorflow/core/grappler/optimizers/auto_mixed_precision.cc:1987] Running auto_mixed_precision graph optimizer
2022-03-09 16:42:36.109260: I tensorflow/core/grappler/optimizers/auto_mixed_precision.cc:1343] No whitelist ops found, nothing to do
INFO:tensorflow:Done running local_init_op.
I0309 16:42:36.170382 140157339083520 session_manager.py:502] Done running local_init_op.
2022-03-09 16:42:36.638372: I tensorflow/core/grappler/optimizers/auto_mixed_precision.cc:1987] Running auto_mixed_precision graph optimizer
2022-03-09 16:42:36.646477: I tensorflow/core/grappler/optimizers/auto_mixed_precision.cc:1343] No whitelist ops found, nothing to do
2022-03-09 16:42:37.713134: I tensorflow/core/grappler/optimizers/auto_mixed_precision.cc:1987] Running auto_mixed_precision graph optimizer
2022-03-09 16:42:37.714069: I tensorflow/core/grappler/optimizers/auto_mixed_precision.cc:1343] No whitelist ops found, nothing to do
2022-03-09 16:42:37.759261: I tensorflow/core/grappler/optimizers/auto_mixed_precision.cc:1343] No whitelist ops found, nothing to do
2022-03-09 16:42:37.787916: I tensorflow/core/grappler/optimizers/auto_mixed_precision.cc:1343] No whitelist ops found, nothing to do
2022-03-09 16:42:37.805179: I tensorflow/core/grappler/optimizers/auto_mixed_precision.cc:1343] No whitelist ops found, nothing to do
2022-03-09 16:42:37.808355: I tensorflow/core/grappler/optimizers/auto_mixed_precision.cc:1343] No whitelist ops found, nothing to do
2022-03-09 16:42:37.811199: I tensorflow/core/grappler/optimizers/auto_mixed_precision.cc:1343] No whitelist ops found, nothing to do
2022-03-09 16:42:37.814773: I tensorflow/core/grappler/optimizers/auto_mixed_precision.cc:1343] No whitelist ops found, nothing to do
2022-03-09 16:42:37.817297: I tensorflow/core/grappler/optimizers/auto_mixed_precision.cc:1343] No whitelist ops found, nothing to do
2022-03-09 16:42:37.837537: I tensorflow/core/grappler/optimizers/auto_mixed_precision.cc:1343] No whitelist ops found, nothing to do
2022-03-09 16:42:37.857113: I tensorflow/core/grappler/optimizers/auto_mixed_precision.cc:1343] No whitelist ops found, nothing to do
2022-03-09 16:42:38.075329: I tensorflow/core/grappler/optimizers/auto_mixed_precision.cc:1343] No whitelist ops found, nothing to do
2022-03-09 16:42:38.186883: I tensorflow/core/grappler/optimizers/auto_mixed_precision.cc:1343] No whitelist ops found, nothing to do
2022-03-09 16:42:38.191227: I tensorflow/core/grappler/optimizers/auto_mixed_precision.cc:1343] No whitelist ops found, nothing to do
2022-03-09 16:42:38.195518: I tensorflow/core/grappler/optimizers/auto_mixed_precision.cc:1343] No whitelist ops found, nothing to do
2022-03-09 16:42:38.199761: I tensorflow/core/grappler/optimizers/auto_mixed_precision.cc:1343] No whitelist ops found, nothing to do
2022-03-09 16:42:38.202248: I tensorflow/core/grappler/optimizers/auto_mixed_precision.cc:1343] No whitelist ops found, nothing to do
2022-03-09 16:42:38.206746: I tensorflow/core/grappler/optimizers/auto_mixed_precision.cc:1343] No whitelist ops found, nothing to do
2022-03-09 16:42:38.210330: I tensorflow/core/grappler/optimizers/auto_mixed_precision.cc:1343] No whitelist ops found, nothing to do
2022-03-09 16:42:38.225618: I tensorflow/core/grappler/optimizers/auto_mixed_precision.cc:1343] No whitelist ops found, nothing to do
2022-03-09 16:42:38.237625: I tensorflow/core/grappler/optimizers/auto_mixed_precision.cc:1343] No whitelist ops found, nothing to do
2022-03-09 16:42:38.240830: I tensorflow/core/grappler/optimizers/auto_mixed_precision.cc:1343] No whitelist ops found, nothing to do
2022-03-09 16:42:38.243417: I tensorflow/core/grappler/optimizers/auto_mixed_precision.cc:1343] No whitelist ops found, nothing to do
2022-03-09 16:42:38.246783: I tensorflow/core/grappler/optimizers/auto_mixed_precision.cc:1343] No whitelist ops found, nothing to do
2022-03-09 16:42:38.250044: I tensorflow/core/grappler/optimizers/auto_mixed_precision.cc:1343] No whitelist ops found, nothing to do
2022-03-09 16:42:40.453497: I tensorflow/core/grappler/optimizers/auto_mixed_precision.cc:1987] Running auto_mixed_precision graph optimizer
2022-03-09 16:42:40.493493: I tensorflow/core/grappler/optimizers/auto_mixed_precision.cc:1035] Automatic Mixed Precision Grappler Pass Summary:

Total processable nodes: 3870
Recognized nodes available for conversion: 3198
Total nodes converted: 300
Total FP16 Cast ops used (excluding Const and Variable casts): 1
Whitelisted nodes converted: 110
Blacklisted nodes blocking conversion: 4
Nodes blocked from conversion by blacklisted nodes: 8

For more information regarding mixed precision training, including how to make automatic mixed precision aware of a custom op type, please see the documentation available here:
https://docs.nvidia.com/deeplearning/frameworks/tensorflow-user-guide/index.html#tfamp


2022-03-09 16:42:42.609924: I tensorflow/stream_executor/platform/default/dso_loader.cc:48] Successfully opened dynamic library libcudnn.so.8
2022-03-09 16:42:44.356013: I tensorflow/stream_executor/platform/default/dso_loader.cc:48] Successfully opened dynamic library libcublas.so.11
INFO:tensorflow:Latency 90%: 159.44 ms
I0309 16:43:40.098156 140157339083520 SSD320_inference.py:100] Latency 90%: 159.44 ms
INFO:tensorflow:Latency 95%: 181.77 ms
I0309 16:43:40.099039 140157339083520 SSD320_inference.py:100] Latency 95%: 181.77 ms
INFO:tensorflow:Latency 99%: 345.95 ms
I0309 16:43:40.099924 140157339083520 SSD320_inference.py:100] Latency 99%: 345.95 ms

Benchmark result: 8.129001034478135 img/s
+ count=6
+ echo INFERENCE_LOOP_COUNT=6
INFERENCE_LOOP_COUNT=6
+ [[ -n 20 ]]
+ minutes=10
+ [[ 10 -ge 20 ]]
+ true
+ bash -x examples/SSD320_FP16_inference.sh /tmp/cfg --raport_file=/tmp/summary.json
+ test -f /etc/shinit_v2
+ source /etc/shinit_v2
+++ sed -n 's/^NVRM.*Kernel Module *\([^() ]*\).*$/\1/p' /proc/driver/nvidia/version
+++ sed 's/^$/unknown/'
++ NV_DRIVER_VERS=
++ export _CUDA_COMPAT_PATH=/usr/local/cuda/compat
++ _CUDA_COMPAT_PATH=/usr/local/cuda/compat
+++ hostname
++ _CUDA_COMPAT_CHECKFILE=/usr/local/cuda/compat/..ssd-inference-4-0-0.checked
++ _CUDA_COMPAT_REALLIB=/usr/local/cuda/compat/lib.real
++ _CUDA_COMPAT_SYMLINK=/usr/local/cuda/compat/lib
++ '[' -n '' -a -e /dev/nvidiactl -a '!' -e /usr/local/cuda/compat/..ssd-inference-4-0-0.checked ']'
++ unset _CUDA_COMPAT_CHECKFILE
++ unset _CUDA_COMPAT_REALLIB
++ unset _CUDA_COMPAT_SYMLINK
+ '[' -z '' ']'
+ return
+ PIPELINE_CONFIG_PATH=/tmp/cfg/ssd320_full_1gpus.config
+ export TF_ENABLE_AUTO_MIXED_PRECISION=1
+ TF_ENABLE_AUTO_MIXED_PRECISION=1
++ dirname examples/SSD320_FP16_inference.sh
+ SCRIPT_DIR=examples
++ realpath examples/../object_detection/
+ OBJECT_DETECTION=/workdir/models/research/object_detection
+ PYTHONPATH=/workdir/models/research/:/workdir/models/research/slim/::/workdir/models/research/object_detection
+ python examples/SSD320_inference.py --pipeline_config_path=/tmp/cfg/ssd320_full_1gpus.config --raport_file=/tmp/summary.json
2022-03-09 16:43:42.001141: I tensorflow/stream_executor/platform/default/dso_loader.cc:48] Successfully opened dynamic library libcudart.so.11.0
WARNING:tensorflow:Deprecation warnings have been disabled. Set TF_ENABLE_DEPRECATION_WARNINGS=1 to re-enable them.
WARNING:tensorflow:From /usr/local/lib/python3.6/dist-packages/horovod-0.19.1-py3.6-linux-x86_64.egg/horovod/tensorflow/__init__.py:152: The name tf.global_variables is deprecated. Please use tf.compat.v1.global_variables instead.

WARNING:tensorflow:From /usr/local/lib/python3.6/dist-packages/horovod-0.19.1-py3.6-linux-x86_64.egg/horovod/tensorflow/__init__.py:178: The name tf.get_default_graph is deprecated. Please use tf.compat.v1.get_default_graph instead.

WARNING:tensorflow:
The TensorFlow contrib module will not be included in TensorFlow 2.0.
For more information, please see:
  * https://github.com/tensorflow/community/blob/master/rfcs/20180907-contrib-sunset.md
  * https://github.com/tensorflow/addons
  * https://github.com/tensorflow/io (for I/O related ops)
If you depend on functionality not listed there, please file an issue.

WARNING:tensorflow:From /workdir/models/research/slim/nets/inception_resnet_v2.py:373: The name tf.GraphKeys is deprecated. Please use tf.compat.v1.GraphKeys instead.

WARNING:tensorflow:From /workdir/models/research/slim/nets/mobilenet/mobilenet.py:389: The name tf.nn.avg_pool is deprecated. Please use tf.nn.avg_pool2d instead.

WARNING:tensorflow:From examples/SSD320_inference.py:67: The name tf.train.SessionRunHook is deprecated. Please use tf.estimator.SessionRunHook instead.

WARNING:tensorflow:From examples/SSD320_inference.py:122: The name tf.app.run is deprecated. Please use tf.compat.v1.app.run instead.

WARNING:tensorflow:From examples/SSD320_inference.py:106: The name tf.logging.set_verbosity is deprecated. Please use tf.compat.v1.logging.set_verbosity instead.

W0309 16:43:45.597228 139710326199040 module_wrapper.py:139] From examples/SSD320_inference.py:106: The name tf.logging.set_verbosity is deprecated. Please use tf.compat.v1.logging.set_verbosity instead.

WARNING:tensorflow:From examples/SSD320_inference.py:106: The name tf.logging.INFO is deprecated. Please use tf.compat.v1.logging.INFO instead.

W0309 16:43:45.597529 139710326199040 module_wrapper.py:139] From examples/SSD320_inference.py:106: The name tf.logging.INFO is deprecated. Please use tf.compat.v1.logging.INFO instead.

WARNING:tensorflow:From examples/SSD320_inference.py:48: The name tf.ConfigProto is deprecated. Please use tf.compat.v1.ConfigProto instead.

W0309 16:43:45.597759 139710326199040 module_wrapper.py:139] From examples/SSD320_inference.py:48: The name tf.ConfigProto is deprecated. Please use tf.compat.v1.ConfigProto instead.

WARNING:tensorflow:From /workdir/models/research/object_detection/utils/config_util.py:94: The name tf.gfile.GFile is deprecated. Please use tf.io.gfile.GFile instead.

W0309 16:43:45.598301 139710326199040 module_wrapper.py:139] From /workdir/models/research/object_detection/utils/config_util.py:94: The name tf.gfile.GFile is deprecated. Please use tf.io.gfile.GFile instead.

WARNING:tensorflow:From /workdir/models/research/object_detection/model_lib.py:590: The name tf.logging.warning is deprecated. Please use tf.compat.v1.logging.warning instead.

W0309 16:43:45.603125 139710326199040 module_wrapper.py:139] From /workdir/models/research/object_detection/model_lib.py:590: The name tf.logging.warning is deprecated. Please use tf.compat.v1.logging.warning instead.

WARNING:tensorflow:Forced number of epochs for all eval validations to be 1.
W0309 16:43:45.603282 139710326199040 model_lib.py:591] Forced number of epochs for all eval validations to be 1.
WARNING:tensorflow:From /workdir/models/research/object_detection/utils/config_util.py:480: The name tf.logging.info is deprecated. Please use tf.compat.v1.logging.info instead.

W0309 16:43:45.603513 139710326199040 module_wrapper.py:139] From /workdir/models/research/object_detection/utils/config_util.py:480: The name tf.logging.info is deprecated. Please use tf.compat.v1.logging.info instead.

INFO:tensorflow:Maybe overwriting train_steps: None
I0309 16:43:45.603658 139710326199040 config_util.py:480] Maybe overwriting train_steps: None
INFO:tensorflow:Maybe overwriting sample_1_of_n_eval_examples: 1
I0309 16:43:45.603832 139710326199040 config_util.py:480] Maybe overwriting sample_1_of_n_eval_examples: 1
INFO:tensorflow:Maybe overwriting eval_num_epochs: 1
I0309 16:43:45.604002 139710326199040 config_util.py:480] Maybe overwriting eval_num_epochs: 1
INFO:tensorflow:Maybe overwriting load_pretrained: True
I0309 16:43:45.604125 139710326199040 config_util.py:480] Maybe overwriting load_pretrained: True
INFO:tensorflow:Ignoring config override key: load_pretrained
I0309 16:43:45.604241 139710326199040 config_util.py:490] Ignoring config override key: load_pretrained
WARNING:tensorflow:Expected number of evaluation epochs is 1, but instead encountered `eval_on_train_input_config.num_epochs` = 0. Overwriting `num_epochs` to 1.
W0309 16:43:45.605146 139710326199040 model_lib.py:607] Expected number of evaluation epochs is 1, but instead encountered `eval_on_train_input_config.num_epochs` = 0. Overwriting `num_epochs` to 1.
INFO:tensorflow:create_estimator_and_inputs: use_tpu False, export_to_tpu False
I0309 16:43:45.605335 139710326199040 model_lib.py:640] create_estimator_and_inputs: use_tpu False, export_to_tpu False
WARNING:tensorflow:Using temporary folder as model directory: /tmp/tmpejwekwb9
W0309 16:43:45.605985 139710326199040 estimator.py:1821] Using temporary folder as model directory: /tmp/tmpejwekwb9
INFO:tensorflow:Using config: {'_model_dir': '/tmp/tmpejwekwb9', '_tf_random_seed': None, '_save_summary_steps': 100, '_save_checkpoints_steps': 100000, '_save_checkpoints_secs': None, '_session_config': , '_keep_checkpoint_max': 5, '_keep_checkpoint_every_n_hours': 10000, '_log_step_count_steps': 100, '_train_distribute': None, '_device_fn': None, '_protocol': None, '_eval_distribute': None, '_experimental_distribute': None, '_experimental_max_worker_delay_secs': None, '_session_creation_timeout_secs': 7200, '_service': None, '_cluster_spec': <tensorflow.python.training.server_lib.ClusterSpec object at 0x7f1038eae908>, '_task_type': 'worker', '_task_id': 0, '_global_id_in_cluster': 0, '_master': '', '_evaluation_master': '', '_is_chief': True, '_num_ps_replicas': 0, '_num_worker_replicas': 1}
I0309 16:43:45.606402 139710326199040 estimator.py:212] Using config: {'_model_dir': '/tmp/tmpejwekwb9', '_tf_random_seed': None, '_save_summary_steps': 100, '_save_checkpoints_steps': 100000, '_save_checkpoints_secs': None, '_session_config': , '_keep_checkpoint_max': 5, '_keep_checkpoint_every_n_hours': 10000, '_log_step_count_steps': 100, '_train_distribute': None, '_device_fn': None, '_protocol': None, '_eval_distribute': None, '_experimental_distribute': None, '_experimental_max_worker_delay_secs': None, '_session_creation_timeout_secs': 7200, '_service': None, '_cluster_spec': <tensorflow.python.training.server_lib.ClusterSpec object at 0x7f1038eae908>, '_task_type': 'worker', '_task_id': 0, '_global_id_in_cluster': 0, '_master': '', '_evaluation_master': '', '_is_chief': True, '_num_ps_replicas': 0, '_num_worker_replicas': 1}
WARNING:tensorflow:Estimator's model_fn (<function create_model_fn.<locals>.model_fn at 0x7f1038eb3d90>) includes params argument, but params are not passed to Estimator.
W0309 16:43:45.606759 139710326199040 model_fn.py:630] Estimator's model_fn (<function create_model_fn.<locals>.model_fn at 0x7f1038eb3d90>) includes params argument, but params are not passed to Estimator.
INFO:tensorflow:Could not find trained model in model_dir: /tmp/tmpejwekwb9, running initialization to predict.
I0309 16:43:45.609124 139710326199040 estimator.py:615] Could not find trained model in model_dir: /tmp/tmpejwekwb9, running initialization to predict.
WARNING:tensorflow:From /workdir/models/research/object_detection/data_decoders/tf_example_decoder.py:167: The name tf.FixedLenFeature is deprecated. Please use tf.io.FixedLenFeature instead.

W0309 16:43:45.615628 139710326199040 module_wrapper.py:139] From /workdir/models/research/object_detection/data_decoders/tf_example_decoder.py:167: The name tf.FixedLenFeature is deprecated. Please use tf.io.FixedLenFeature instead.

WARNING:tensorflow:From /workdir/models/research/object_detection/data_decoders/tf_example_decoder.py:182: The name tf.VarLenFeature is deprecated. Please use tf.io.VarLenFeature instead.

W0309 16:43:45.615926 139710326199040 module_wrapper.py:139] From /workdir/models/research/object_detection/data_decoders/tf_example_decoder.py:182: The name tf.VarLenFeature is deprecated. Please use tf.io.VarLenFeature instead.

WARNING:tensorflow:From /workdir/models/research/object_detection/builders/dataset_builder.py:76: The name tf.gfile.Glob is deprecated. Please use tf.io.gfile.glob instead.

W0309 16:43:45.659005 139710326199040 module_wrapper.py:139] From /workdir/models/research/object_detection/builders/dataset_builder.py:76: The name tf.gfile.Glob is deprecated. Please use tf.io.gfile.glob instead.

2022-03-09 16:43:46.290230: I tensorflow/stream_executor/platform/default/dso_loader.cc:48] Successfully opened dynamic library libcuda.so.1
2022-03-09 16:43:46.298991: I tensorflow/stream_executor/cuda/cuda_gpu_executor.cc:983] successful NUMA node read from SysFS had negative value (-1), but there must be at least one NUMA node, so returning NUMA node zero
2022-03-09 16:43:46.301959: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1639] Found device 0 with properties: 
name: Tesla V100-SXM2-16GB major: 7 minor: 0 memoryClockRate(GHz): 1.53
pciBusID: 0000:00:1e.0
2022-03-09 16:43:46.302028: I tensorflow/stream_executor/platform/default/dso_loader.cc:48] Successfully opened dynamic library libcudart.so.11.0
2022-03-09 16:43:46.306064: I tensorflow/stream_executor/platform/default/dso_loader.cc:48] Successfully opened dynamic library libcublas.so.11
2022-03-09 16:43:46.308025: I tensorflow/stream_executor/platform/default/dso_loader.cc:48] Successfully opened dynamic library libcufft.so.10
2022-03-09 16:43:46.308478: I tensorflow/stream_executor/platform/default/dso_loader.cc:48] Successfully opened dynamic library libcurand.so.10
2022-03-09 16:43:46.312836: I tensorflow/stream_executor/platform/default/dso_loader.cc:48] Successfully opened dynamic library libcusolver.so.10
2022-03-09 16:43:46.313925: I tensorflow/stream_executor/platform/default/dso_loader.cc:48] Successfully opened dynamic library libcusparse.so.11
2022-03-09 16:43:46.314214: I tensorflow/stream_executor/platform/default/dso_loader.cc:48] Successfully opened dynamic library libcudnn.so.8
2022-03-09 16:43:46.314412: I tensorflow/stream_executor/cuda/cuda_gpu_executor.cc:983] successful NUMA node read from SysFS had negative value (-1), but there must be at least one NUMA node, so returning NUMA node zero
2022-03-09 16:43:46.316129: I tensorflow/stream_executor/cuda/cuda_gpu_executor.cc:983] successful NUMA node read from SysFS had negative value (-1), but there must be at least one NUMA node, so returning NUMA node zero
2022-03-09 16:43:46.317381: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1767] Adding visible gpu devices: 0
WARNING:tensorflow:The operation `tf.image.convert_image_dtype` will be skipped since the input and output dtypes are identical.
W0309 16:43:46.342278 139710326199040 image_ops_impl.py:1776] The operation `tf.image.convert_image_dtype` will be skipped since the input and output dtypes are identical.
WARNING:tensorflow:The operation `tf.image.convert_image_dtype` will be skipped since the input and output dtypes are identical.
W0309 16:43:46.350298 139710326199040 image_ops_impl.py:1776] The operation `tf.image.convert_image_dtype` will be skipped since the input and output dtypes are identical.
WARNING:tensorflow:The operation `tf.image.convert_image_dtype` will be skipped since the input and output dtypes are identical.
W0309 16:43:46.362163 139710326199040 image_ops_impl.py:1776] The operation `tf.image.convert_image_dtype` will be skipped since the input and output dtypes are identical.
WARNING:tensorflow:The operation `tf.image.convert_image_dtype` will be skipped since the input and output dtypes are identical.
W0309 16:43:46.374613 139710326199040 image_ops_impl.py:1776] The operation `tf.image.convert_image_dtype` will be skipped since the input and output dtypes are identical.
WARNING:tensorflow:From /usr/local/lib/python3.6/dist-packages/tensorflow_core/python/autograph/converters/directives.py:119: The name tf.is_nan is deprecated. Please use tf.math.is_nan instead.

W0309 16:43:59.371753 139710326199040 module_wrapper.py:139] From /usr/local/lib/python3.6/dist-packages/tensorflow_core/python/autograph/converters/directives.py:119: The name tf.is_nan is deprecated. Please use tf.math.is_nan instead.

WARNING:tensorflow:From /usr/local/lib/python3.6/dist-packages/tensorflow_core/python/autograph/converters/directives.py:119: The name tf.image.resize_images is deprecated. Please use tf.image.resize instead.

W0309 16:44:00.043952 139710326199040 module_wrapper.py:139] From /usr/local/lib/python3.6/dist-packages/tensorflow_core/python/autograph/converters/directives.py:119: The name tf.image.resize_images is deprecated. Please use tf.image.resize instead.

WARNING:tensorflow:From /usr/local/lib/python3.6/dist-packages/tensorflow_core/python/autograph/converters/directives.py:119: The name tf.image.resize_nearest_neighbor is deprecated. Please use tf.compat.v1.image.resize_nearest_neighbor instead.

W0309 16:44:00.045835 139710326199040 module_wrapper.py:139] From /usr/local/lib/python3.6/dist-packages/tensorflow_core/python/autograph/converters/directives.py:119: The name tf.image.resize_nearest_neighbor is deprecated. Please use tf.compat.v1.image.resize_nearest_neighbor instead.

WARNING:tensorflow:From /usr/local/lib/python3.6/dist-packages/tensorflow_core/python/autograph/converters/directives.py:119: The name tf.string_to_hash_bucket_fast is deprecated. Please use tf.strings.to_hash_bucket_fast instead.

W0309 16:44:03.967730 139710326199040 module_wrapper.py:139] From /usr/local/lib/python3.6/dist-packages/tensorflow_core/python/autograph/converters/directives.py:119: The name tf.string_to_hash_bucket_fast is deprecated. Please use tf.strings.to_hash_bucket_fast instead.

WARNING:tensorflow:From /usr/local/lib/python3.6/dist-packages/tensorflow_core/python/autograph/converters/directives.py:119: The name tf.random_uniform is deprecated. Please use tf.random.uniform instead.

W0309 16:44:04.123322 139710326199040 module_wrapper.py:139] From /usr/local/lib/python3.6/dist-packages/tensorflow_core/python/autograph/converters/directives.py:119: The name tf.random_uniform is deprecated. Please use tf.random.uniform instead.

INFO:tensorflow:Calling model_fn.
I0309 16:44:04.590034 139710326199040 estimator.py:1148] Calling model_fn.
WARNING:tensorflow:From /workdir/models/research/object_detection/meta_architectures/ssd_meta_arch.py:564: The name tf.variable_scope is deprecated. Please use tf.compat.v1.variable_scope instead.

W0309 16:44:04.591609 139710326199040 module_wrapper.py:139] From /workdir/models/research/object_detection/meta_architectures/ssd_meta_arch.py:564: The name tf.variable_scope is deprecated. Please use tf.compat.v1.variable_scope instead.

WARNING:tensorflow:From /workdir/models/research/object_detection/core/anchor_generator.py:149: The name tf.assert_equal is deprecated. Please use tf.compat.v1.assert_equal instead.

W0309 16:44:06.981498 139710326199040 module_wrapper.py:139] From /workdir/models/research/object_detection/core/anchor_generator.py:149: The name tf.assert_equal is deprecated. Please use tf.compat.v1.assert_equal instead.

WARNING:tensorflow:From /workdir/models/research/object_detection/predictors/convolutional_box_predictor.py:383: The name tf.AUTO_REUSE is deprecated. Please use tf.compat.v1.AUTO_REUSE instead.

W0309 16:44:07.687776 139710326199040 module_wrapper.py:139] From /workdir/models/research/object_detection/predictors/convolutional_box_predictor.py:383: The name tf.AUTO_REUSE is deprecated. Please use tf.compat.v1.AUTO_REUSE instead.

WARNING:tensorflow:From /workdir/models/research/object_detection/exporter.py:231: The name tf.add_to_collection is deprecated. Please use tf.compat.v1.add_to_collection instead.

W0309 16:44:12.660533 139710326199040 module_wrapper.py:139] From /workdir/models/research/object_detection/exporter.py:231: The name tf.add_to_collection is deprecated. Please use tf.compat.v1.add_to_collection instead.

WARNING:tensorflow:From /workdir/models/research/object_detection/model_lib.py:402: The name tf.saved_model.signature_constants.PREDICT_METHOD_NAME is deprecated. Please use tf.saved_model.PREDICT_METHOD_NAME instead.

W0309 16:44:12.661252 139710326199040 module_wrapper.py:139] From /workdir/models/research/object_detection/model_lib.py:402: The name tf.saved_model.signature_constants.PREDICT_METHOD_NAME is deprecated. Please use tf.saved_model.PREDICT_METHOD_NAME instead.

WARNING:tensorflow:From /workdir/models/research/object_detection/model_lib.py:487: The name tf.train.Saver is deprecated. Please use tf.compat.v1.train.Saver instead.

W0309 16:44:12.661632 139710326199040 module_wrapper.py:139] From /workdir/models/research/object_detection/model_lib.py:487: The name tf.train.Saver is deprecated. Please use tf.compat.v1.train.Saver instead.

WARNING:tensorflow:From /workdir/models/research/object_detection/model_lib.py:492: The name tf.train.Scaffold is deprecated. Please use tf.compat.v1.train.Scaffold instead.

W0309 16:44:13.203982 139710326199040 module_wrapper.py:139] From /workdir/models/research/object_detection/model_lib.py:492: The name tf.train.Scaffold is deprecated. Please use tf.compat.v1.train.Scaffold instead.

INFO:tensorflow:Done calling model_fn.
I0309 16:44:13.204650 139710326199040 estimator.py:1150] Done calling model_fn.
INFO:tensorflow:Graph was finalized.
I0309 16:44:14.048399 139710326199040 monitored_session.py:240] Graph was finalized.
2022-03-09 16:44:14.073001: I tensorflow/core/platform/profile_utils/cpu_utils.cc:94] CPU Frequency: 2300010000 Hz
2022-03-09 16:44:14.075274: I tensorflow/compiler/xla/service/service.cc:168] XLA service 0x6040590 initialized for platform Host (this does not guarantee that XLA will be used). Devices:
2022-03-09 16:44:14.076382: I tensorflow/compiler/xla/service/service.cc:176]   StreamExecutor device (0): Host, Default Version
2022-03-09 16:44:14.317387: I tensorflow/stream_executor/cuda/cuda_gpu_executor.cc:983] successful NUMA node read from SysFS had negative value (-1), but there must be at least one NUMA node, so returning NUMA node zero
2022-03-09 16:44:14.318621: I tensorflow/compiler/xla/service/service.cc:168] XLA service 0x6023780 initialized for platform CUDA (this does not guarantee that XLA will be used). Devices:
2022-03-09 16:44:14.318761: I tensorflow/compiler/xla/service/service.cc:176]   StreamExecutor device (0): Tesla V100-SXM2-16GB, Compute Capability 7.0
2022-03-09 16:44:14.319153: I tensorflow/stream_executor/cuda/cuda_gpu_executor.cc:983] successful NUMA node read from SysFS had negative value (-1), but there must be at least one NUMA node, so returning NUMA node zero
2022-03-09 16:44:14.327382: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1639] Found device 0 with properties: 
name: Tesla V100-SXM2-16GB major: 7 minor: 0 memoryClockRate(GHz): 1.53
pciBusID: 0000:00:1e.0
2022-03-09 16:44:14.327474: I tensorflow/stream_executor/platform/default/dso_loader.cc:48] Successfully opened dynamic library libcudart.so.11.0
2022-03-09 16:44:14.327577: I tensorflow/stream_executor/platform/default/dso_loader.cc:48] Successfully opened dynamic library libcublas.so.11
2022-03-09 16:44:14.327642: I tensorflow/stream_executor/platform/default/dso_loader.cc:48] Successfully opened dynamic library libcufft.so.10
2022-03-09 16:44:14.327725: I tensorflow/stream_executor/platform/default/dso_loader.cc:48] Successfully opened dynamic library libcurand.so.10
2022-03-09 16:44:14.327779: I tensorflow/stream_executor/platform/default/dso_loader.cc:48] Successfully opened dynamic library libcusolver.so.10
2022-03-09 16:44:14.327811: I tensorflow/stream_executor/platform/default/dso_loader.cc:48] Successfully opened dynamic library libcusparse.so.11
2022-03-09 16:44:14.327835: I tensorflow/stream_executor/platform/default/dso_loader.cc:48] Successfully opened dynamic library libcudnn.so.8
2022-03-09 16:44:14.327991: I tensorflow/stream_executor/cuda/cuda_gpu_executor.cc:983] successful NUMA node read from SysFS had negative value (-1), but there must be at least one NUMA node, so returning NUMA node zero
2022-03-09 16:44:14.329008: I tensorflow/stream_executor/cuda/cuda_gpu_executor.cc:983] successful NUMA node read from SysFS had negative value (-1), but there must be at least one NUMA node, so returning NUMA node zero
2022-03-09 16:44:14.334894: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1767] Adding visible gpu devices: 0
2022-03-09 16:44:14.335057: I tensorflow/stream_executor/platform/default/dso_loader.cc:48] Successfully opened dynamic library libcudart.so.11.0
2022-03-09 16:44:14.984599: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1180] Device interconnect StreamExecutor with strength 1 edge matrix:
2022-03-09 16:44:14.984881: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1186]      0 
2022-03-09 16:44:14.985005: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1199] 0:   N 
2022-03-09 16:44:14.987049: I tensorflow/stream_executor/cuda/cuda_gpu_executor.cc:983] successful NUMA node read from SysFS had negative value (-1), but there must be at least one NUMA node, so returning NUMA node zero
2022-03-09 16:44:14.988051: I tensorflow/stream_executor/cuda/cuda_gpu_executor.cc:983] successful NUMA node read from SysFS had negative value (-1), but there must be at least one NUMA node, so returning NUMA node zero
2022-03-09 16:44:14.988904: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1325] Created TensorFlow device (/job:localhost/replica:0/task:0/device:GPU:0 with 2044 MB memory) -> physical GPU (device: 0, name: Tesla V100-SXM2-16GB, pci bus id: 0000:00:1e.0, compute capability: 7.0)
2022-03-09 16:44:16.136553: I tensorflow/core/grappler/optimizers/auto_mixed_precision.cc:1987] Running auto_mixed_precision graph optimizer
2022-03-09 16:44:16.147936: I tensorflow/core/grappler/optimizers/auto_mixed_precision.cc:1343] No whitelist ops found, nothing to do
2022-03-09 16:44:18.098484: I tensorflow/core/grappler/optimizers/auto_mixed_precision.cc:1987] Running auto_mixed_precision graph optimizer
2022-03-09 16:44:18.105824: I tensorflow/core/grappler/optimizers/auto_mixed_precision.cc:1343] No whitelist ops found, nothing to do
INFO:tensorflow:Running local_init_op.
I0309 16:44:18.871550 139710326199040 session_manager.py:500] Running local_init_op.
2022-03-09 16:44:19.166254: I tensorflow/core/grappler/optimizers/auto_mixed_precision.cc:1987] Running auto_mixed_precision graph optimizer
2022-03-09 16:44:19.166843: I tensorflow/core/grappler/optimizers/auto_mixed_precision.cc:1343] No whitelist ops found, nothing to do
INFO:tensorflow:Done running local_init_op.
I0309 16:44:19.229240 139710326199040 session_manager.py:502] Done running local_init_op.
2022-03-09 16:44:19.667308: I tensorflow/core/grappler/optimizers/auto_mixed_precision.cc:1987] Running auto_mixed_precision graph optimizer
2022-03-09 16:44:19.675048: I tensorflow/core/grappler/optimizers/auto_mixed_precision.cc:1343] No whitelist ops found, nothing to do
2022-03-09 16:44:20.745559: I tensorflow/core/grappler/optimizers/auto_mixed_precision.cc:1987] Running auto_mixed_precision graph optimizer
2022-03-09 16:44:20.746459: I tensorflow/core/grappler/optimizers/auto_mixed_precision.cc:1343] No whitelist ops found, nothing to do
2022-03-09 16:44:20.796614: I tensorflow/core/grappler/optimizers/auto_mixed_precision.cc:1343] No whitelist ops found, nothing to do
2022-03-09 16:44:20.825821: I tensorflow/core/grappler/optimizers/auto_mixed_precision.cc:1343] No whitelist ops found, nothing to do
2022-03-09 16:44:20.843200: I tensorflow/core/grappler/optimizers/auto_mixed_precision.cc:1343] No whitelist ops found, nothing to do
2022-03-09 16:44:20.847160: I tensorflow/core/grappler/optimizers/auto_mixed_precision.cc:1343] No whitelist ops found, nothing to do
2022-03-09 16:44:20.851213: I tensorflow/core/grappler/optimizers/auto_mixed_precision.cc:1343] No whitelist ops found, nothing to do
2022-03-09 16:44:20.854642: I tensorflow/core/grappler/optimizers/auto_mixed_precision.cc:1343] No whitelist ops found, nothing to do
2022-03-09 16:44:20.857273: I tensorflow/core/grappler/optimizers/auto_mixed_precision.cc:1343] No whitelist ops found, nothing to do
2022-03-09 16:44:20.879908: I tensorflow/core/grappler/optimizers/auto_mixed_precision.cc:1343] No whitelist ops found, nothing to do
2022-03-09 16:44:20.900574: I tensorflow/core/grappler/optimizers/auto_mixed_precision.cc:1343] No whitelist ops found, nothing to do
2022-03-09 16:44:21.124464: I tensorflow/core/grappler/optimizers/auto_mixed_precision.cc:1343] No whitelist ops found, nothing to do
2022-03-09 16:44:21.243296: I tensorflow/core/grappler/optimizers/auto_mixed_precision.cc:1343] No whitelist ops found, nothing to do
2022-03-09 16:44:21.248819: I tensorflow/core/grappler/optimizers/auto_mixed_precision.cc:1343] No whitelist ops found, nothing to do
2022-03-09 16:44:21.253626: I tensorflow/core/grappler/optimizers/auto_mixed_precision.cc:1343] No whitelist ops found, nothing to do
2022-03-09 16:44:21.258291: I tensorflow/core/grappler/optimizers/auto_mixed_precision.cc:1343] No whitelist ops found, nothing to do
2022-03-09 16:44:21.260970: I tensorflow/core/grappler/optimizers/auto_mixed_precision.cc:1343] No whitelist ops found, nothing to do
2022-03-09 16:44:21.265749: I tensorflow/core/grappler/optimizers/auto_mixed_precision.cc:1343] No whitelist ops found, nothing to do
2022-03-09 16:44:21.269501: I tensorflow/core/grappler/optimizers/auto_mixed_precision.cc:1343] No whitelist ops found, nothing to do
2022-03-09 16:44:21.286482: I tensorflow/core/grappler/optimizers/auto_mixed_precision.cc:1343] No whitelist ops found, nothing to do
2022-03-09 16:44:21.302292: I tensorflow/core/grappler/optimizers/auto_mixed_precision.cc:1343] No whitelist ops found, nothing to do
2022-03-09 16:44:21.305370: I tensorflow/core/grappler/optimizers/auto_mixed_precision.cc:1343] No whitelist ops found, nothing to do
2022-03-09 16:44:21.308269: I tensorflow/core/grappler/optimizers/auto_mixed_precision.cc:1343] No whitelist ops found, nothing to do
2022-03-09 16:44:21.311799: I tensorflow/core/grappler/optimizers/auto_mixed_precision.cc:1343] No whitelist ops found, nothing to do
2022-03-09 16:44:21.315399: I tensorflow/core/grappler/optimizers/auto_mixed_precision.cc:1343] No whitelist ops found, nothing to do
2022-03-09 16:44:23.627981: I tensorflow/core/grappler/optimizers/auto_mixed_precision.cc:1987] Running auto_mixed_precision graph optimizer
2022-03-09 16:44:23.682260: I tensorflow/core/grappler/optimizers/auto_mixed_precision.cc:1035] Automatic Mixed Precision Grappler Pass Summary:

Total processable nodes: 3870
Recognized nodes available for conversion: 3198
Total nodes converted: 300
Total FP16 Cast ops used (excluding Const and Variable casts): 1
Whitelisted nodes converted: 110
Blacklisted nodes blocking conversion: 4
Nodes blocked from conversion by blacklisted nodes: 8

For more information regarding mixed precision training, including how to make automatic mixed precision aware of a custom op type, please see the documentation available here:
https://docs.nvidia.com/deeplearning/frameworks/tensorflow-user-guide/index.html#tfamp


2022-03-09 16:44:25.987666: I tensorflow/stream_executor/platform/default/dso_loader.cc:48] Successfully opened dynamic library libcudnn.so.8
2022-03-09 16:44:27.699158: I tensorflow/stream_executor/platform/default/dso_loader.cc:48] Successfully opened dynamic library libcublas.so.11
INFO:tensorflow:Latency 90%: 158.23 ms
I0309 16:45:20.469412 139710326199040 SSD320_inference.py:100] Latency 90%: 158.23 ms
INFO:tensorflow:Latency 95%: 164.93 ms
I0309 16:45:20.470282 139710326199040 SSD320_inference.py:100] Latency 95%: 164.93 ms
INFO:tensorflow:Latency 99%: 181.31 ms
I0309 16:45:20.471230 139710326199040 SSD320_inference.py:100] Latency 99%: 181.31 ms

Benchmark result: 8.589403179433651 img/s
+ count=7
+ echo INFERENCE_LOOP_COUNT=7
+ [[ -n 20 ]]
INFERENCE_LOOP_COUNT=7
+ minutes=11
+ [[ 11 -ge 20 ]]
+ true
+ bash -x examples/SSD320_FP16_inference.sh /tmp/cfg --raport_file=/tmp/summary.json
+ test -f /etc/shinit_v2
+ source /etc/shinit_v2
+++ sed -n 's/^NVRM.*Kernel Module *\([^() ]*\).*$/\1/p' /proc/driver/nvidia/version
+++ sed 's/^$/unknown/'
++ NV_DRIVER_VERS=
++ export _CUDA_COMPAT_PATH=/usr/local/cuda/compat
++ _CUDA_COMPAT_PATH=/usr/local/cuda/compat
+++ hostname
++ _CUDA_COMPAT_CHECKFILE=/usr/local/cuda/compat/..ssd-inference-4-0-0.checked
++ _CUDA_COMPAT_REALLIB=/usr/local/cuda/compat/lib.real
++ _CUDA_COMPAT_SYMLINK=/usr/local/cuda/compat/lib
++ '[' -n '' -a -e /dev/nvidiactl -a '!' -e /usr/local/cuda/compat/..ssd-inference-4-0-0.checked ']'
++ unset _CUDA_COMPAT_CHECKFILE
++ unset _CUDA_COMPAT_REALLIB
++ unset _CUDA_COMPAT_SYMLINK
+ '[' -z '' ']'
+ return
+ PIPELINE_CONFIG_PATH=/tmp/cfg/ssd320_full_1gpus.config
+ export TF_ENABLE_AUTO_MIXED_PRECISION=1
+ TF_ENABLE_AUTO_MIXED_PRECISION=1
++ dirname examples/SSD320_FP16_inference.sh
+ SCRIPT_DIR=examples
++ realpath examples/../object_detection/
+ OBJECT_DETECTION=/workdir/models/research/object_detection
+ PYTHONPATH=/workdir/models/research/:/workdir/models/research/slim/::/workdir/models/research/object_detection
+ python examples/SSD320_inference.py --pipeline_config_path=/tmp/cfg/ssd320_full_1gpus.config --raport_file=/tmp/summary.json
2022-03-09 16:45:22.100290: I tensorflow/stream_executor/platform/default/dso_loader.cc:48] Successfully opened dynamic library libcudart.so.11.0
WARNING:tensorflow:Deprecation warnings have been disabled. Set TF_ENABLE_DEPRECATION_WARNINGS=1 to re-enable them.
WARNING:tensorflow:From /usr/local/lib/python3.6/dist-packages/horovod-0.19.1-py3.6-linux-x86_64.egg/horovod/tensorflow/__init__.py:152: The name tf.global_variables is deprecated. Please use tf.compat.v1.global_variables instead.

WARNING:tensorflow:From /usr/local/lib/python3.6/dist-packages/horovod-0.19.1-py3.6-linux-x86_64.egg/horovod/tensorflow/__init__.py:178: The name tf.get_default_graph is deprecated. Please use tf.compat.v1.get_default_graph instead.

WARNING:tensorflow:
The TensorFlow contrib module will not be included in TensorFlow 2.0.
For more information, please see:
  * https://github.com/tensorflow/community/blob/master/rfcs/20180907-contrib-sunset.md
  * https://github.com/tensorflow/addons
  * https://github.com/tensorflow/io (for I/O related ops)
If you depend on functionality not listed there, please file an issue.

WARNING:tensorflow:From /workdir/models/research/slim/nets/inception_resnet_v2.py:373: The name tf.GraphKeys is deprecated. Please use tf.compat.v1.GraphKeys instead.

WARNING:tensorflow:From /workdir/models/research/slim/nets/mobilenet/mobilenet.py:389: The name tf.nn.avg_pool is deprecated. Please use tf.nn.avg_pool2d instead.

WARNING:tensorflow:From examples/SSD320_inference.py:67: The name tf.train.SessionRunHook is deprecated. Please use tf.estimator.SessionRunHook instead.

WARNING:tensorflow:From examples/SSD320_inference.py:122: The name tf.app.run is deprecated. Please use tf.compat.v1.app.run instead.

WARNING:tensorflow:From examples/SSD320_inference.py:106: The name tf.logging.set_verbosity is deprecated. Please use tf.compat.v1.logging.set_verbosity instead.

W0309 16:45:25.603475 140491120595712 module_wrapper.py:139] From examples/SSD320_inference.py:106: The name tf.logging.set_verbosity is deprecated. Please use tf.compat.v1.logging.set_verbosity instead.

WARNING:tensorflow:From examples/SSD320_inference.py:106: The name tf.logging.INFO is deprecated. Please use tf.compat.v1.logging.INFO instead.

W0309 16:45:25.603892 140491120595712 module_wrapper.py:139] From examples/SSD320_inference.py:106: The name tf.logging.INFO is deprecated. Please use tf.compat.v1.logging.INFO instead.

WARNING:tensorflow:From examples/SSD320_inference.py:48: The name tf.ConfigProto is deprecated. Please use tf.compat.v1.ConfigProto instead.

W0309 16:45:25.604144 140491120595712 module_wrapper.py:139] From examples/SSD320_inference.py:48: The name tf.ConfigProto is deprecated. Please use tf.compat.v1.ConfigProto instead.

WARNING:tensorflow:From /workdir/models/research/object_detection/utils/config_util.py:94: The name tf.gfile.GFile is deprecated. Please use tf.io.gfile.GFile instead.

W0309 16:45:25.604810 140491120595712 module_wrapper.py:139] From /workdir/models/research/object_detection/utils/config_util.py:94: The name tf.gfile.GFile is deprecated. Please use tf.io.gfile.GFile instead.

WARNING:tensorflow:From /workdir/models/research/object_detection/model_lib.py:590: The name tf.logging.warning is deprecated. Please use tf.compat.v1.logging.warning instead.

W0309 16:45:25.609163 140491120595712 module_wrapper.py:139] From /workdir/models/research/object_detection/model_lib.py:590: The name tf.logging.warning is deprecated. Please use tf.compat.v1.logging.warning instead.

WARNING:tensorflow:Forced number of epochs for all eval validations to be 1.
W0309 16:45:25.609327 140491120595712 model_lib.py:591] Forced number of epochs for all eval validations to be 1.
WARNING:tensorflow:From /workdir/models/research/object_detection/utils/config_util.py:480: The name tf.logging.info is deprecated. Please use tf.compat.v1.logging.info instead.

W0309 16:45:25.609540 140491120595712 module_wrapper.py:139] From /workdir/models/research/object_detection/utils/config_util.py:480: The name tf.logging.info is deprecated. Please use tf.compat.v1.logging.info instead.

INFO:tensorflow:Maybe overwriting train_steps: None
I0309 16:45:25.609718 140491120595712 config_util.py:480] Maybe overwriting train_steps: None
INFO:tensorflow:Maybe overwriting sample_1_of_n_eval_examples: 1
I0309 16:45:25.609870 140491120595712 config_util.py:480] Maybe overwriting sample_1_of_n_eval_examples: 1
INFO:tensorflow:Maybe overwriting eval_num_epochs: 1
I0309 16:45:25.610019 140491120595712 config_util.py:480] Maybe overwriting eval_num_epochs: 1
INFO:tensorflow:Maybe overwriting load_pretrained: True
I0309 16:45:25.610170 140491120595712 config_util.py:480] Maybe overwriting load_pretrained: True
INFO:tensorflow:Ignoring config override key: load_pretrained
I0309 16:45:25.610409 140491120595712 config_util.py:490] Ignoring config override key: load_pretrained
WARNING:tensorflow:Expected number of evaluation epochs is 1, but instead encountered `eval_on_train_input_config.num_epochs` = 0. Overwriting `num_epochs` to 1.
W0309 16:45:25.611293 140491120595712 model_lib.py:607] Expected number of evaluation epochs is 1, but instead encountered `eval_on_train_input_config.num_epochs` = 0. Overwriting `num_epochs` to 1.
INFO:tensorflow:create_estimator_and_inputs: use_tpu False, export_to_tpu False
I0309 16:45:25.611499 140491120595712 model_lib.py:640] create_estimator_and_inputs: use_tpu False, export_to_tpu False
WARNING:tensorflow:Using temporary folder as model directory: /tmp/tmpxmwk1yh_
W0309 16:45:25.612158 140491120595712 estimator.py:1821] Using temporary folder as model directory: /tmp/tmpxmwk1yh_
INFO:tensorflow:Using config: {'_model_dir': '/tmp/tmpxmwk1yh_', '_tf_random_seed': None, '_save_summary_steps': 100, '_save_checkpoints_steps': 100000, '_save_checkpoints_secs': None, '_session_config': , '_keep_checkpoint_max': 5, '_keep_checkpoint_every_n_hours': 10000, '_log_step_count_steps': 100, '_train_distribute': None, '_device_fn': None, '_protocol': None, '_eval_distribute': None, '_experimental_distribute': None, '_experimental_max_worker_delay_secs': None, '_session_creation_timeout_secs': 7200, '_service': None, '_cluster_spec': <tensorflow.python.training.server_lib.ClusterSpec object at 0x7fc603e3f7b8>, '_task_type': 'worker', '_task_id': 0, '_global_id_in_cluster': 0, '_master': '', '_evaluation_master': '', '_is_chief': True, '_num_ps_replicas': 0, '_num_worker_replicas': 1}
I0309 16:45:25.612558 140491120595712 estimator.py:212] Using config: {'_model_dir': '/tmp/tmpxmwk1yh_', '_tf_random_seed': None, '_save_summary_steps': 100, '_save_checkpoints_steps': 100000, '_save_checkpoints_secs': None, '_session_config': , '_keep_checkpoint_max': 5, '_keep_checkpoint_every_n_hours': 10000, '_log_step_count_steps': 100, '_train_distribute': None, '_device_fn': None, '_protocol': None, '_eval_distribute': None, '_experimental_distribute': None, '_experimental_max_worker_delay_secs': None, '_session_creation_timeout_secs': 7200, '_service': None, '_cluster_spec': <tensorflow.python.training.server_lib.ClusterSpec object at 0x7fc603e3f7b8>, '_task_type': 'worker', '_task_id': 0, '_global_id_in_cluster': 0, '_master': '', '_evaluation_master': '', '_is_chief': True, '_num_ps_replicas': 0, '_num_worker_replicas': 1}
WARNING:tensorflow:Estimator's model_fn (<function create_model_fn.<locals>.model_fn at 0x7fc603e22d90>) includes params argument, but params are not passed to Estimator.
W0309 16:45:25.612898 140491120595712 model_fn.py:630] Estimator's model_fn (<function create_model_fn.<locals>.model_fn at 0x7fc603e22d90>) includes params argument, but params are not passed to Estimator.
INFO:tensorflow:Could not find trained model in model_dir: /tmp/tmpxmwk1yh_, running initialization to predict.
I0309 16:45:25.615153 140491120595712 estimator.py:615] Could not find trained model in model_dir: /tmp/tmpxmwk1yh_, running initialization to predict.
WARNING:tensorflow:From /workdir/models/research/object_detection/data_decoders/tf_example_decoder.py:167: The name tf.FixedLenFeature is deprecated. Please use tf.io.FixedLenFeature instead.

W0309 16:45:25.622979 140491120595712 module_wrapper.py:139] From /workdir/models/research/object_detection/data_decoders/tf_example_decoder.py:167: The name tf.FixedLenFeature is deprecated. Please use tf.io.FixedLenFeature instead.

WARNING:tensorflow:From /workdir/models/research/object_detection/data_decoders/tf_example_decoder.py:182: The name tf.VarLenFeature is deprecated. Please use tf.io.VarLenFeature instead.

W0309 16:45:25.623292 140491120595712 module_wrapper.py:139] From /workdir/models/research/object_detection/data_decoders/tf_example_decoder.py:182: The name tf.VarLenFeature is deprecated. Please use tf.io.VarLenFeature instead.

WARNING:tensorflow:From /workdir/models/research/object_detection/builders/dataset_builder.py:76: The name tf.gfile.Glob is deprecated. Please use tf.io.gfile.glob instead.

W0309 16:45:25.704631 140491120595712 module_wrapper.py:139] From /workdir/models/research/object_detection/builders/dataset_builder.py:76: The name tf.gfile.Glob is deprecated. Please use tf.io.gfile.glob instead.

2022-03-09 16:45:26.530759: I tensorflow/stream_executor/platform/default/dso_loader.cc:48] Successfully opened dynamic library libcuda.so.1
2022-03-09 16:45:26.539935: I tensorflow/stream_executor/cuda/cuda_gpu_executor.cc:983] successful NUMA node read from SysFS had negative value (-1), but there must be at least one NUMA node, so returning NUMA node zero
2022-03-09 16:45:26.543178: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1639] Found device 0 with properties: 
name: Tesla V100-SXM2-16GB major: 7 minor: 0 memoryClockRate(GHz): 1.53
pciBusID: 0000:00:1e.0
2022-03-09 16:45:26.543236: I tensorflow/stream_executor/platform/default/dso_loader.cc:48] Successfully opened dynamic library libcudart.so.11.0
2022-03-09 16:45:26.546625: I tensorflow/stream_executor/platform/default/dso_loader.cc:48] Successfully opened dynamic library libcublas.so.11
2022-03-09 16:45:26.548293: I tensorflow/stream_executor/platform/default/dso_loader.cc:48] Successfully opened dynamic library libcufft.so.10
2022-03-09 16:45:26.548724: I tensorflow/stream_executor/platform/default/dso_loader.cc:48] Successfully opened dynamic library libcurand.so.10
2022-03-09 16:45:26.552010: I tensorflow/stream_executor/platform/default/dso_loader.cc:48] Successfully opened dynamic library libcusolver.so.10
2022-03-09 16:45:26.553012: I tensorflow/stream_executor/platform/default/dso_loader.cc:48] Successfully opened dynamic library libcusparse.so.11
2022-03-09 16:45:26.553299: I tensorflow/stream_executor/platform/default/dso_loader.cc:48] Successfully opened dynamic library libcudnn.so.8
2022-03-09 16:45:26.553477: I tensorflow/stream_executor/cuda/cuda_gpu_executor.cc:983] successful NUMA node read from SysFS had negative value (-1), but there must be at least one NUMA node, so returning NUMA node zero
2022-03-09 16:45:26.554906: I tensorflow/stream_executor/cuda/cuda_gpu_executor.cc:983] successful NUMA node read from SysFS had negative value (-1), but there must be at least one NUMA node, so returning NUMA node zero
2022-03-09 16:45:26.556174: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1767] Adding visible gpu devices: 0
WARNING:tensorflow:The operation `tf.image.convert_image_dtype` will be skipped since the input and output dtypes are identical.
W0309 16:45:26.584193 140491120595712 image_ops_impl.py:1776] The operation `tf.image.convert_image_dtype` will be skipped since the input and output dtypes are identical.
WARNING:tensorflow:The operation `tf.image.convert_image_dtype` will be skipped since the input and output dtypes are identical.
W0309 16:45:26.593256 140491120595712 image_ops_impl.py:1776] The operation `tf.image.convert_image_dtype` will be skipped since the input and output dtypes are identical.
WARNING:tensorflow:The operation `tf.image.convert_image_dtype` will be skipped since the input and output dtypes are identical.
W0309 16:45:26.606636 140491120595712 image_ops_impl.py:1776] The operation `tf.image.convert_image_dtype` will be skipped since the input and output dtypes are identical.
WARNING:tensorflow:The operation `tf.image.convert_image_dtype` will be skipped since the input and output dtypes are identical.
W0309 16:45:26.620519 140491120595712 image_ops_impl.py:1776] The operation `tf.image.convert_image_dtype` will be skipped since the input and output dtypes are identical.
WARNING:tensorflow:From /usr/local/lib/python3.6/dist-packages/tensorflow_core/python/autograph/converters/directives.py:119: The name tf.is_nan is deprecated. Please use tf.math.is_nan instead.

W0309 16:45:34.577656 140491120595712 module_wrapper.py:139] From /usr/local/lib/python3.6/dist-packages/tensorflow_core/python/autograph/converters/directives.py:119: The name tf.is_nan is deprecated. Please use tf.math.is_nan instead.

WARNING:tensorflow:From /usr/local/lib/python3.6/dist-packages/tensorflow_core/python/autograph/converters/directives.py:119: The name tf.image.resize_images is deprecated. Please use tf.image.resize instead.

W0309 16:45:35.248865 140491120595712 module_wrapper.py:139] From /usr/local/lib/python3.6/dist-packages/tensorflow_core/python/autograph/converters/directives.py:119: The name tf.image.resize_images is deprecated. Please use tf.image.resize instead.

WARNING:tensorflow:From /usr/local/lib/python3.6/dist-packages/tensorflow_core/python/autograph/converters/directives.py:119: The name tf.image.resize_nearest_neighbor is deprecated. Please use tf.compat.v1.image.resize_nearest_neighbor instead.

W0309 16:45:35.250431 140491120595712 module_wrapper.py:139] From /usr/local/lib/python3.6/dist-packages/tensorflow_core/python/autograph/converters/directives.py:119: The name tf.image.resize_nearest_neighbor is deprecated. Please use tf.compat.v1.image.resize_nearest_neighbor instead.

WARNING:tensorflow:From /usr/local/lib/python3.6/dist-packages/tensorflow_core/python/autograph/converters/directives.py:119: The name tf.string_to_hash_bucket_fast is deprecated. Please use tf.strings.to_hash_bucket_fast instead.

W0309 16:45:38.528834 140491120595712 module_wrapper.py:139] From /usr/local/lib/python3.6/dist-packages/tensorflow_core/python/autograph/converters/directives.py:119: The name tf.string_to_hash_bucket_fast is deprecated. Please use tf.strings.to_hash_bucket_fast instead.

WARNING:tensorflow:From /usr/local/lib/python3.6/dist-packages/tensorflow_core/python/autograph/converters/directives.py:119: The name tf.random_uniform is deprecated. Please use tf.random.uniform instead.

W0309 16:45:38.721178 140491120595712 module_wrapper.py:139] From /usr/local/lib/python3.6/dist-packages/tensorflow_core/python/autograph/converters/directives.py:119: The name tf.random_uniform is deprecated. Please use tf.random.uniform instead.

INFO:tensorflow:Calling model_fn.
I0309 16:45:39.118235 140491120595712 estimator.py:1148] Calling model_fn.
WARNING:tensorflow:From /workdir/models/research/object_detection/meta_architectures/ssd_meta_arch.py:564: The name tf.variable_scope is deprecated. Please use tf.compat.v1.variable_scope instead.

W0309 16:45:39.119996 140491120595712 module_wrapper.py:139] From /workdir/models/research/object_detection/meta_architectures/ssd_meta_arch.py:564: The name tf.variable_scope is deprecated. Please use tf.compat.v1.variable_scope instead.

WARNING:tensorflow:From /workdir/models/research/object_detection/core/anchor_generator.py:149: The name tf.assert_equal is deprecated. Please use tf.compat.v1.assert_equal instead.

W0309 16:45:41.180714 140491120595712 module_wrapper.py:139] From /workdir/models/research/object_detection/core/anchor_generator.py:149: The name tf.assert_equal is deprecated. Please use tf.compat.v1.assert_equal instead.

WARNING:tensorflow:From /workdir/models/research/object_detection/predictors/convolutional_box_predictor.py:383: The name tf.AUTO_REUSE is deprecated. Please use tf.compat.v1.AUTO_REUSE instead.

W0309 16:45:41.877017 140491120595712 module_wrapper.py:139] From /workdir/models/research/object_detection/predictors/convolutional_box_predictor.py:383: The name tf.AUTO_REUSE is deprecated. Please use tf.compat.v1.AUTO_REUSE instead.

WARNING:tensorflow:From /workdir/models/research/object_detection/exporter.py:231: The name tf.add_to_collection is deprecated. Please use tf.compat.v1.add_to_collection instead.

W0309 16:45:46.143891 140491120595712 module_wrapper.py:139] From /workdir/models/research/object_detection/exporter.py:231: The name tf.add_to_collection is deprecated. Please use tf.compat.v1.add_to_collection instead.

WARNING:tensorflow:From /workdir/models/research/object_detection/model_lib.py:402: The name tf.saved_model.signature_constants.PREDICT_METHOD_NAME is deprecated. Please use tf.saved_model.PREDICT_METHOD_NAME instead.

W0309 16:45:46.144223 140491120595712 module_wrapper.py:139] From /workdir/models/research/object_detection/model_lib.py:402: The name tf.saved_model.signature_constants.PREDICT_METHOD_NAME is deprecated. Please use tf.saved_model.PREDICT_METHOD_NAME instead.

WARNING:tensorflow:From /workdir/models/research/object_detection/model_lib.py:487: The name tf.train.Saver is deprecated. Please use tf.compat.v1.train.Saver instead.

W0309 16:45:46.144442 140491120595712 module_wrapper.py:139] From /workdir/models/research/object_detection/model_lib.py:487: The name tf.train.Saver is deprecated. Please use tf.compat.v1.train.Saver instead.

WARNING:tensorflow:From /workdir/models/research/object_detection/model_lib.py:492: The name tf.train.Scaffold is deprecated. Please use tf.compat.v1.train.Scaffold instead.

W0309 16:45:46.566102 140491120595712 module_wrapper.py:139] From /workdir/models/research/object_detection/model_lib.py:492: The name tf.train.Scaffold is deprecated. Please use tf.compat.v1.train.Scaffold instead.

INFO:tensorflow:Done calling model_fn.
I0309 16:45:46.566524 140491120595712 estimator.py:1150] Done calling model_fn.
INFO:tensorflow:Graph was finalized.
I0309 16:45:47.418879 140491120595712 monitored_session.py:240] Graph was finalized.
2022-03-09 16:45:47.439899: I tensorflow/core/platform/profile_utils/cpu_utils.cc:94] CPU Frequency: 2300010000 Hz
2022-03-09 16:45:47.441377: I tensorflow/compiler/xla/service/service.cc:168] XLA service 0x5706260 initialized for platform Host (this does not guarantee that XLA will be used). Devices:
2022-03-09 16:45:47.441429: I tensorflow/compiler/xla/service/service.cc:176]   StreamExecutor device (0): Host, Default Version
2022-03-09 16:45:47.627764: I tensorflow/stream_executor/cuda/cuda_gpu_executor.cc:983] successful NUMA node read from SysFS had negative value (-1), but there must be at least one NUMA node, so returning NUMA node zero
2022-03-09 16:45:47.629949: I tensorflow/compiler/xla/service/service.cc:168] XLA service 0x56def20 initialized for platform CUDA (this does not guarantee that XLA will be used). Devices:
2022-03-09 16:45:47.629994: I tensorflow/compiler/xla/service/service.cc:176]   StreamExecutor device (0): Tesla V100-SXM2-16GB, Compute Capability 7.0
2022-03-09 16:45:47.630290: I tensorflow/stream_executor/cuda/cuda_gpu_executor.cc:983] successful NUMA node read from SysFS had negative value (-1), but there must be at least one NUMA node, so returning NUMA node zero
2022-03-09 16:45:47.631646: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1639] Found device 0 with properties: 
name: Tesla V100-SXM2-16GB major: 7 minor: 0 memoryClockRate(GHz): 1.53
pciBusID: 0000:00:1e.0
2022-03-09 16:45:47.631747: I tensorflow/stream_executor/platform/default/dso_loader.cc:48] Successfully opened dynamic library libcudart.so.11.0
2022-03-09 16:45:47.631816: I tensorflow/stream_executor/platform/default/dso_loader.cc:48] Successfully opened dynamic library libcublas.so.11
2022-03-09 16:45:47.631865: I tensorflow/stream_executor/platform/default/dso_loader.cc:48] Successfully opened dynamic library libcufft.so.10
2022-03-09 16:45:47.631916: I tensorflow/stream_executor/platform/default/dso_loader.cc:48] Successfully opened dynamic library libcurand.so.10
2022-03-09 16:45:47.631966: I tensorflow/stream_executor/platform/default/dso_loader.cc:48] Successfully opened dynamic library libcusolver.so.10
2022-03-09 16:45:47.632016: I tensorflow/stream_executor/platform/default/dso_loader.cc:48] Successfully opened dynamic library libcusparse.so.11
2022-03-09 16:45:47.632067: I tensorflow/stream_executor/platform/default/dso_loader.cc:48] Successfully opened dynamic library libcudnn.so.8
2022-03-09 16:45:47.632194: I tensorflow/stream_executor/cuda/cuda_gpu_executor.cc:983] successful NUMA node read from SysFS had negative value (-1), but there must be at least one NUMA node, so returning NUMA node zero
2022-03-09 16:45:47.633224: I tensorflow/stream_executor/cuda/cuda_gpu_executor.cc:983] successful NUMA node read from SysFS had negative value (-1), but there must be at least one NUMA node, so returning NUMA node zero
2022-03-09 16:45:47.635000: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1767] Adding visible gpu devices: 0
2022-03-09 16:45:47.635086: I tensorflow/stream_executor/platform/default/dso_loader.cc:48] Successfully opened dynamic library libcudart.so.11.0
2022-03-09 16:45:48.220069: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1180] Device interconnect StreamExecutor with strength 1 edge matrix:
2022-03-09 16:45:48.220145: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1186]      0 
2022-03-09 16:45:48.220167: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1199] 0:   N 
2022-03-09 16:45:48.228426: I tensorflow/stream_executor/cuda/cuda_gpu_executor.cc:983] successful NUMA node read from SysFS had negative value (-1), but there must be at least one NUMA node, so returning NUMA node zero
2022-03-09 16:45:48.229581: I tensorflow/stream_executor/cuda/cuda_gpu_executor.cc:983] successful NUMA node read from SysFS had negative value (-1), but there must be at least one NUMA node, so returning NUMA node zero
2022-03-09 16:45:48.230562: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1325] Created TensorFlow device (/job:localhost/replica:0/task:0/device:GPU:0 with 2044 MB memory) -> physical GPU (device: 0, name: Tesla V100-SXM2-16GB, pci bus id: 0000:00:1e.0, compute capability: 7.0)
2022-03-09 16:45:49.333075: I tensorflow/core/grappler/optimizers/auto_mixed_precision.cc:1987] Running auto_mixed_precision graph optimizer
2022-03-09 16:45:49.345466: I tensorflow/core/grappler/optimizers/auto_mixed_precision.cc:1343] No whitelist ops found, nothing to do
2022-03-09 16:45:51.225606: I tensorflow/core/grappler/optimizers/auto_mixed_precision.cc:1987] Running auto_mixed_precision graph optimizer
2022-03-09 16:45:51.231506: I tensorflow/core/grappler/optimizers/auto_mixed_precision.cc:1343] No whitelist ops found, nothing to do
INFO:tensorflow:Running local_init_op.
I0309 16:45:51.952321 140491120595712 session_manager.py:500] Running local_init_op.
2022-03-09 16:45:52.222258: I tensorflow/core/grappler/optimizers/auto_mixed_precision.cc:1987] Running auto_mixed_precision graph optimizer
2022-03-09 16:45:52.222861: I tensorflow/core/grappler/optimizers/auto_mixed_precision.cc:1343] No whitelist ops found, nothing to do
INFO:tensorflow:Done running local_init_op.
I0309 16:45:52.283165 140491120595712 session_manager.py:502] Done running local_init_op.
2022-03-09 16:45:52.723622: I tensorflow/core/grappler/optimizers/auto_mixed_precision.cc:1987] Running auto_mixed_precision graph optimizer
2022-03-09 16:45:52.731631: I tensorflow/core/grappler/optimizers/auto_mixed_precision.cc:1343] No whitelist ops found, nothing to do
2022-03-09 16:45:53.792084: I tensorflow/core/grappler/optimizers/auto_mixed_precision.cc:1987] Running auto_mixed_precision graph optimizer
2022-03-09 16:45:53.792996: I tensorflow/core/grappler/optimizers/auto_mixed_precision.cc:1343] No whitelist ops found, nothing to do
2022-03-09 16:45:53.840111: I tensorflow/core/grappler/optimizers/auto_mixed_precision.cc:1343] No whitelist ops found, nothing to do
2022-03-09 16:45:53.871653: I tensorflow/core/grappler/optimizers/auto_mixed_precision.cc:1343] No whitelist ops found, nothing to do
2022-03-09 16:45:53.889502: I tensorflow/core/grappler/optimizers/auto_mixed_precision.cc:1343] No whitelist ops found, nothing to do
2022-03-09 16:45:53.892994: I tensorflow/core/grappler/optimizers/auto_mixed_precision.cc:1343] No whitelist ops found, nothing to do
2022-03-09 16:45:53.896377: I tensorflow/core/grappler/optimizers/auto_mixed_precision.cc:1343] No whitelist ops found, nothing to do
2022-03-09 16:45:53.900394: I tensorflow/core/grappler/optimizers/auto_mixed_precision.cc:1343] No whitelist ops found, nothing to do
2022-03-09 16:45:53.903123: I tensorflow/core/grappler/optimizers/auto_mixed_precision.cc:1343] No whitelist ops found, nothing to do
2022-03-09 16:45:53.925615: I tensorflow/core/grappler/optimizers/auto_mixed_precision.cc:1343] No whitelist ops found, nothing to do
2022-03-09 16:45:53.942182: I tensorflow/core/grappler/optimizers/auto_mixed_precision.cc:1343] No whitelist ops found, nothing to do
2022-03-09 16:45:54.157829: I tensorflow/core/grappler/optimizers/auto_mixed_precision.cc:1343] No whitelist ops found, nothing to do
2022-03-09 16:45:54.268436: I tensorflow/core/grappler/optimizers/auto_mixed_precision.cc:1343] No whitelist ops found, nothing to do
2022-03-09 16:45:54.274556: I tensorflow/core/grappler/optimizers/auto_mixed_precision.cc:1343] No whitelist ops found, nothing to do
2022-03-09 16:45:54.281428: I tensorflow/core/grappler/optimizers/auto_mixed_precision.cc:1343] No whitelist ops found, nothing to do
2022-03-09 16:45:54.286738: I tensorflow/core/grappler/optimizers/auto_mixed_precision.cc:1343] No whitelist ops found, nothing to do
2022-03-09 16:45:54.289749: I tensorflow/core/grappler/optimizers/auto_mixed_precision.cc:1343] No whitelist ops found, nothing to do
2022-03-09 16:45:54.295187: I tensorflow/core/grappler/optimizers/auto_mixed_precision.cc:1343] No whitelist ops found, nothing to do
2022-03-09 16:45:54.299498: I tensorflow/core/grappler/optimizers/auto_mixed_precision.cc:1343] No whitelist ops found, nothing to do
2022-03-09 16:45:54.315801: I tensorflow/core/grappler/optimizers/auto_mixed_precision.cc:1343] No whitelist ops found, nothing to do
2022-03-09 16:45:54.330340: I tensorflow/core/grappler/optimizers/auto_mixed_precision.cc:1343] No whitelist ops found, nothing to do
2022-03-09 16:45:54.336396: I tensorflow/core/grappler/optimizers/auto_mixed_precision.cc:1343] No whitelist ops found, nothing to do
2022-03-09 16:45:54.340275: I tensorflow/core/grappler/optimizers/auto_mixed_precision.cc:1343] No whitelist ops found, nothing to do
2022-03-09 16:45:54.343485: I tensorflow/core/grappler/optimizers/auto_mixed_precision.cc:1343] No whitelist ops found, nothing to do
2022-03-09 16:45:54.347023: I tensorflow/core/grappler/optimizers/auto_mixed_precision.cc:1343] No whitelist ops found, nothing to do
2022-03-09 16:45:56.561984: I tensorflow/core/grappler/optimizers/auto_mixed_precision.cc:1987] Running auto_mixed_precision graph optimizer
2022-03-09 16:45:56.601081: I tensorflow/core/grappler/optimizers/auto_mixed_precision.cc:1035] Automatic Mixed Precision Grappler Pass Summary:

Total processable nodes: 3870
Recognized nodes available for conversion: 3198
Total nodes converted: 300
Total FP16 Cast ops used (excluding Const and Variable casts): 1
Whitelisted nodes converted: 110
Blacklisted nodes blocking conversion: 4
Nodes blocked from conversion by blacklisted nodes: 8

For more information regarding mixed precision training, including how to make automatic mixed precision aware of a custom op type, please see the documentation available here:
https://docs.nvidia.com/deeplearning/frameworks/tensorflow-user-guide/index.html#tfamp


2022-03-09 16:45:58.870359: I tensorflow/stream_executor/platform/default/dso_loader.cc:48] Successfully opened dynamic library libcudnn.so.8
2022-03-09 16:46:00.443882: I tensorflow/stream_executor/platform/default/dso_loader.cc:48] Successfully opened dynamic library libcublas.so.11
INFO:tensorflow:Latency 90%: 159.94 ms
I0309 16:46:54.859174 140491120595712 SSD320_inference.py:100] Latency 90%: 159.94 ms
INFO:tensorflow:Latency 95%: 166.72 ms
I0309 16:46:54.860318 140491120595712 SSD320_inference.py:100] Latency 95%: 166.72 ms
INFO:tensorflow:Latency 99%: 188.53 ms
I0309 16:46:54.861178 140491120595712 SSD320_inference.py:100] Latency 99%: 188.53 ms

Benchmark result: 7.904576350137284 img/s
+ count=8
+ echo INFERENCE_LOOP_COUNT=8
INFERENCE_LOOP_COUNT=8
+ [[ -n 20 ]]
+ minutes=13
+ [[ 13 -ge 20 ]]
+ true
+ bash -x examples/SSD320_FP16_inference.sh /tmp/cfg --raport_file=/tmp/summary.json
+ test -f /etc/shinit_v2
+ source /etc/shinit_v2
+++ sed -n 's/^NVRM.*Kernel Module *\([^() ]*\).*$/\1/p' /proc/driver/nvidia/version
+++ sed 's/^$/unknown/'
++ NV_DRIVER_VERS=
++ export _CUDA_COMPAT_PATH=/usr/local/cuda/compat
++ _CUDA_COMPAT_PATH=/usr/local/cuda/compat
+++ hostname
++ _CUDA_COMPAT_CHECKFILE=/usr/local/cuda/compat/..ssd-inference-4-0-0.checked
++ _CUDA_COMPAT_REALLIB=/usr/local/cuda/compat/lib.real
++ _CUDA_COMPAT_SYMLINK=/usr/local/cuda/compat/lib
++ '[' -n '' -a -e /dev/nvidiactl -a '!' -e /usr/local/cuda/compat/..ssd-inference-4-0-0.checked ']'
++ unset _CUDA_COMPAT_CHECKFILE
++ unset _CUDA_COMPAT_REALLIB
++ unset _CUDA_COMPAT_SYMLINK
+ '[' -z '' ']'
+ return
+ PIPELINE_CONFIG_PATH=/tmp/cfg/ssd320_full_1gpus.config
+ export TF_ENABLE_AUTO_MIXED_PRECISION=1
+ TF_ENABLE_AUTO_MIXED_PRECISION=1
++ dirname examples/SSD320_FP16_inference.sh
+ SCRIPT_DIR=examples
++ realpath examples/../object_detection/
+ OBJECT_DETECTION=/workdir/models/research/object_detection
+ PYTHONPATH=/workdir/models/research/:/workdir/models/research/slim/::/workdir/models/research/object_detection
+ python examples/SSD320_inference.py --pipeline_config_path=/tmp/cfg/ssd320_full_1gpus.config --raport_file=/tmp/summary.json
2022-03-09 16:46:56.947155: I tensorflow/stream_executor/platform/default/dso_loader.cc:48] Successfully opened dynamic library libcudart.so.11.0
WARNING:tensorflow:Deprecation warnings have been disabled. Set TF_ENABLE_DEPRECATION_WARNINGS=1 to re-enable them.
WARNING:tensorflow:From /usr/local/lib/python3.6/dist-packages/horovod-0.19.1-py3.6-linux-x86_64.egg/horovod/tensorflow/__init__.py:152: The name tf.global_variables is deprecated. Please use tf.compat.v1.global_variables instead.

WARNING:tensorflow:From /usr/local/lib/python3.6/dist-packages/horovod-0.19.1-py3.6-linux-x86_64.egg/horovod/tensorflow/__init__.py:178: The name tf.get_default_graph is deprecated. Please use tf.compat.v1.get_default_graph instead.

WARNING:tensorflow:
The TensorFlow contrib module will not be included in TensorFlow 2.0.
For more information, please see:
  * https://github.com/tensorflow/community/blob/master/rfcs/20180907-contrib-sunset.md
  * https://github.com/tensorflow/addons
  * https://github.com/tensorflow/io (for I/O related ops)
If you depend on functionality not listed there, please file an issue.

WARNING:tensorflow:From /workdir/models/research/slim/nets/inception_resnet_v2.py:373: The name tf.GraphKeys is deprecated. Please use tf.compat.v1.GraphKeys instead.

WARNING:tensorflow:From /workdir/models/research/slim/nets/mobilenet/mobilenet.py:389: The name tf.nn.avg_pool is deprecated. Please use tf.nn.avg_pool2d instead.

WARNING:tensorflow:From examples/SSD320_inference.py:67: The name tf.train.SessionRunHook is deprecated. Please use tf.estimator.SessionRunHook instead.

WARNING:tensorflow:From examples/SSD320_inference.py:122: The name tf.app.run is deprecated. Please use tf.compat.v1.app.run instead.

WARNING:tensorflow:From examples/SSD320_inference.py:106: The name tf.logging.set_verbosity is deprecated. Please use tf.compat.v1.logging.set_verbosity instead.

W0309 16:47:01.042809 140183440749312 module_wrapper.py:139] From examples/SSD320_inference.py:106: The name tf.logging.set_verbosity is deprecated. Please use tf.compat.v1.logging.set_verbosity instead.

WARNING:tensorflow:From examples/SSD320_inference.py:106: The name tf.logging.INFO is deprecated. Please use tf.compat.v1.logging.INFO instead.

W0309 16:47:01.043161 140183440749312 module_wrapper.py:139] From examples/SSD320_inference.py:106: The name tf.logging.INFO is deprecated. Please use tf.compat.v1.logging.INFO instead.

WARNING:tensorflow:From examples/SSD320_inference.py:48: The name tf.ConfigProto is deprecated. Please use tf.compat.v1.ConfigProto instead.

W0309 16:47:01.043376 140183440749312 module_wrapper.py:139] From examples/SSD320_inference.py:48: The name tf.ConfigProto is deprecated. Please use tf.compat.v1.ConfigProto instead.

WARNING:tensorflow:From /workdir/models/research/object_detection/utils/config_util.py:94: The name tf.gfile.GFile is deprecated. Please use tf.io.gfile.GFile instead.

W0309 16:47:01.044062 140183440749312 module_wrapper.py:139] From /workdir/models/research/object_detection/utils/config_util.py:94: The name tf.gfile.GFile is deprecated. Please use tf.io.gfile.GFile instead.

WARNING:tensorflow:From /workdir/models/research/object_detection/model_lib.py:590: The name tf.logging.warning is deprecated. Please use tf.compat.v1.logging.warning instead.

W0309 16:47:01.049467 140183440749312 module_wrapper.py:139] From /workdir/models/research/object_detection/model_lib.py:590: The name tf.logging.warning is deprecated. Please use tf.compat.v1.logging.warning instead.

WARNING:tensorflow:Forced number of epochs for all eval validations to be 1.
W0309 16:47:01.049642 140183440749312 model_lib.py:591] Forced number of epochs for all eval validations to be 1.
WARNING:tensorflow:From /workdir/models/research/object_detection/utils/config_util.py:480: The name tf.logging.info is deprecated. Please use tf.compat.v1.logging.info instead.

W0309 16:47:01.049879 140183440749312 module_wrapper.py:139] From /workdir/models/research/object_detection/utils/config_util.py:480: The name tf.logging.info is deprecated. Please use tf.compat.v1.logging.info instead.

INFO:tensorflow:Maybe overwriting train_steps: None
I0309 16:47:01.050017 140183440749312 config_util.py:480] Maybe overwriting train_steps: None
INFO:tensorflow:Maybe overwriting sample_1_of_n_eval_examples: 1
I0309 16:47:01.050155 140183440749312 config_util.py:480] Maybe overwriting sample_1_of_n_eval_examples: 1
INFO:tensorflow:Maybe overwriting eval_num_epochs: 1
I0309 16:47:01.050309 140183440749312 config_util.py:480] Maybe overwriting eval_num_epochs: 1
INFO:tensorflow:Maybe overwriting load_pretrained: True
I0309 16:47:01.050456 140183440749312 config_util.py:480] Maybe overwriting load_pretrained: True
INFO:tensorflow:Ignoring config override key: load_pretrained
I0309 16:47:01.050590 140183440749312 config_util.py:490] Ignoring config override key: load_pretrained
WARNING:tensorflow:Expected number of evaluation epochs is 1, but instead encountered `eval_on_train_input_config.num_epochs` = 0. Overwriting `num_epochs` to 1.
W0309 16:47:01.051375 140183440749312 model_lib.py:607] Expected number of evaluation epochs is 1, but instead encountered `eval_on_train_input_config.num_epochs` = 0. Overwriting `num_epochs` to 1.
INFO:tensorflow:create_estimator_and_inputs: use_tpu False, export_to_tpu False
I0309 16:47:01.051518 140183440749312 model_lib.py:640] create_estimator_and_inputs: use_tpu False, export_to_tpu False
WARNING:tensorflow:Using temporary folder as model directory: /tmp/tmp5x2vja2c
W0309 16:47:01.052206 140183440749312 estimator.py:1821] Using temporary folder as model directory: /tmp/tmp5x2vja2c
INFO:tensorflow:Using config: {'_model_dir': '/tmp/tmp5x2vja2c', '_tf_random_seed': None, '_save_summary_steps': 100, '_save_checkpoints_steps': 100000, '_save_checkpoints_secs': None, '_session_config': , '_keep_checkpoint_max': 5, '_keep_checkpoint_every_n_hours': 10000, '_log_step_count_steps': 100, '_train_distribute': None, '_device_fn': None, '_protocol': None, '_eval_distribute': None, '_experimental_distribute': None, '_experimental_max_worker_delay_secs': None, '_session_creation_timeout_secs': 7200, '_service': None, '_cluster_spec': <tensorflow.python.training.server_lib.ClusterSpec object at 0x7f7e60c2b898>, '_task_type': 'worker', '_task_id': 0, '_global_id_in_cluster': 0, '_master': '', '_evaluation_master': '', '_is_chief': True, '_num_ps_replicas': 0, '_num_worker_replicas': 1}
I0309 16:47:01.052559 140183440749312 estimator.py:212] Using config: {'_model_dir': '/tmp/tmp5x2vja2c', '_tf_random_seed': None, '_save_summary_steps': 100, '_save_checkpoints_steps': 100000, '_save_checkpoints_secs': None, '_session_config': , '_keep_checkpoint_max': 5, '_keep_checkpoint_every_n_hours': 10000, '_log_step_count_steps': 100, '_train_distribute': None, '_device_fn': None, '_protocol': None, '_eval_distribute': None, '_experimental_distribute': None, '_experimental_max_worker_delay_secs': None, '_session_creation_timeout_secs': 7200, '_service': None, '_cluster_spec': <tensorflow.python.training.server_lib.ClusterSpec object at 0x7f7e60c2b898>, '_task_type': 'worker', '_task_id': 0, '_global_id_in_cluster': 0, '_master': '', '_evaluation_master': '', '_is_chief': True, '_num_ps_replicas': 0, '_num_worker_replicas': 1}
WARNING:tensorflow:Estimator's model_fn (<function create_model_fn.<locals>.model_fn at 0x7f7e60c0ed90>) includes params argument, but params are not passed to Estimator.
W0309 16:47:01.052967 140183440749312 model_fn.py:630] Estimator's model_fn (<function create_model_fn.<locals>.model_fn at 0x7f7e60c0ed90>) includes params argument, but params are not passed to Estimator.
INFO:tensorflow:Could not find trained model in model_dir: /tmp/tmp5x2vja2c, running initialization to predict.
I0309 16:47:01.054300 140183440749312 estimator.py:615] Could not find trained model in model_dir: /tmp/tmp5x2vja2c, running initialization to predict.
WARNING:tensorflow:From /workdir/models/research/object_detection/data_decoders/tf_example_decoder.py:167: The name tf.FixedLenFeature is deprecated. Please use tf.io.FixedLenFeature instead.

W0309 16:47:01.060988 140183440749312 module_wrapper.py:139] From /workdir/models/research/object_detection/data_decoders/tf_example_decoder.py:167: The name tf.FixedLenFeature is deprecated. Please use tf.io.FixedLenFeature instead.

WARNING:tensorflow:From /workdir/models/research/object_detection/data_decoders/tf_example_decoder.py:182: The name tf.VarLenFeature is deprecated. Please use tf.io.VarLenFeature instead.

W0309 16:47:01.061255 140183440749312 module_wrapper.py:139] From /workdir/models/research/object_detection/data_decoders/tf_example_decoder.py:182: The name tf.VarLenFeature is deprecated. Please use tf.io.VarLenFeature instead.

WARNING:tensorflow:From /workdir/models/research/object_detection/builders/dataset_builder.py:76: The name tf.gfile.Glob is deprecated. Please use tf.io.gfile.glob instead.

W0309 16:47:01.106796 140183440749312 module_wrapper.py:139] From /workdir/models/research/object_detection/builders/dataset_builder.py:76: The name tf.gfile.Glob is deprecated. Please use tf.io.gfile.glob instead.

2022-03-09 16:47:01.747462: I tensorflow/stream_executor/platform/default/dso_loader.cc:48] Successfully opened dynamic library libcuda.so.1
2022-03-09 16:47:01.767277: I tensorflow/stream_executor/cuda/cuda_gpu_executor.cc:983] successful NUMA node read from SysFS had negative value (-1), but there must be at least one NUMA node, so returning NUMA node zero
2022-03-09 16:47:01.770489: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1639] Found device 0 with properties: 
name: Tesla V100-SXM2-16GB major: 7 minor: 0 memoryClockRate(GHz): 1.53
pciBusID: 0000:00:1e.0
2022-03-09 16:47:01.770562: I tensorflow/stream_executor/platform/default/dso_loader.cc:48] Successfully opened dynamic library libcudart.so.11.0
2022-03-09 16:47:01.775026: I tensorflow/stream_executor/platform/default/dso_loader.cc:48] Successfully opened dynamic library libcublas.so.11
2022-03-09 16:47:01.777189: I tensorflow/stream_executor/platform/default/dso_loader.cc:48] Successfully opened dynamic library libcufft.so.10
2022-03-09 16:47:01.777658: I tensorflow/stream_executor/platform/default/dso_loader.cc:48] Successfully opened dynamic library libcurand.so.10
2022-03-09 16:47:01.782308: I tensorflow/stream_executor/platform/default/dso_loader.cc:48] Successfully opened dynamic library libcusolver.so.10
2022-03-09 16:47:01.783493: I tensorflow/stream_executor/platform/default/dso_loader.cc:48] Successfully opened dynamic library libcusparse.so.11
2022-03-09 16:47:01.783838: I tensorflow/stream_executor/platform/default/dso_loader.cc:48] Successfully opened dynamic library libcudnn.so.8
2022-03-09 16:47:01.784114: I tensorflow/stream_executor/cuda/cuda_gpu_executor.cc:983] successful NUMA node read from SysFS had negative value (-1), but there must be at least one NUMA node, so returning NUMA node zero
2022-03-09 16:47:01.785507: I tensorflow/stream_executor/cuda/cuda_gpu_executor.cc:983] successful NUMA node read from SysFS had negative value (-1), but there must be at least one NUMA node, so returning NUMA node zero
2022-03-09 16:47:01.786831: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1767] Adding visible gpu devices: 0
WARNING:tensorflow:The operation `tf.image.convert_image_dtype` will be skipped since the input and output dtypes are identical.
W0309 16:47:01.807932 140183440749312 image_ops_impl.py:1776] The operation `tf.image.convert_image_dtype` will be skipped since the input and output dtypes are identical.
WARNING:tensorflow:The operation `tf.image.convert_image_dtype` will be skipped since the input and output dtypes are identical.
W0309 16:47:01.816672 140183440749312 image_ops_impl.py:1776] The operation `tf.image.convert_image_dtype` will be skipped since the input and output dtypes are identical.
WARNING:tensorflow:The operation `tf.image.convert_image_dtype` will be skipped since the input and output dtypes are identical.
W0309 16:47:01.829659 140183440749312 image_ops_impl.py:1776] The operation `tf.image.convert_image_dtype` will be skipped since the input and output dtypes are identical.
WARNING:tensorflow:The operation `tf.image.convert_image_dtype` will be skipped since the input and output dtypes are identical.
W0309 16:47:01.843252 140183440749312 image_ops_impl.py:1776] The operation `tf.image.convert_image_dtype` will be skipped since the input and output dtypes are identical.
WARNING:tensorflow:From /usr/local/lib/python3.6/dist-packages/tensorflow_core/python/autograph/converters/directives.py:119: The name tf.is_nan is deprecated. Please use tf.math.is_nan instead.

W0309 16:47:11.555993 140183440749312 module_wrapper.py:139] From /usr/local/lib/python3.6/dist-packages/tensorflow_core/python/autograph/converters/directives.py:119: The name tf.is_nan is deprecated. Please use tf.math.is_nan instead.

WARNING:tensorflow:From /usr/local/lib/python3.6/dist-packages/tensorflow_core/python/autograph/converters/directives.py:119: The name tf.image.resize_images is deprecated. Please use tf.image.resize instead.

W0309 16:47:12.219210 140183440749312 module_wrapper.py:139] From /usr/local/lib/python3.6/dist-packages/tensorflow_core/python/autograph/converters/directives.py:119: The name tf.image.resize_images is deprecated. Please use tf.image.resize instead.

WARNING:tensorflow:From /usr/local/lib/python3.6/dist-packages/tensorflow_core/python/autograph/converters/directives.py:119: The name tf.image.resize_nearest_neighbor is deprecated. Please use tf.compat.v1.image.resize_nearest_neighbor instead.

W0309 16:47:12.220902 140183440749312 module_wrapper.py:139] From /usr/local/lib/python3.6/dist-packages/tensorflow_core/python/autograph/converters/directives.py:119: The name tf.image.resize_nearest_neighbor is deprecated. Please use tf.compat.v1.image.resize_nearest_neighbor instead.

WARNING:tensorflow:From /usr/local/lib/python3.6/dist-packages/tensorflow_core/python/autograph/converters/directives.py:119: The name tf.string_to_hash_bucket_fast is deprecated. Please use tf.strings.to_hash_bucket_fast instead.

W0309 16:47:16.446094 140183440749312 module_wrapper.py:139] From /usr/local/lib/python3.6/dist-packages/tensorflow_core/python/autograph/converters/directives.py:119: The name tf.string_to_hash_bucket_fast is deprecated. Please use tf.strings.to_hash_bucket_fast instead.

WARNING:tensorflow:From /usr/local/lib/python3.6/dist-packages/tensorflow_core/python/autograph/converters/directives.py:119: The name tf.random_uniform is deprecated. Please use tf.random.uniform instead.

W0309 16:47:16.606818 140183440749312 module_wrapper.py:139] From /usr/local/lib/python3.6/dist-packages/tensorflow_core/python/autograph/converters/directives.py:119: The name tf.random_uniform is deprecated. Please use tf.random.uniform instead.

INFO:tensorflow:Calling model_fn.
I0309 16:47:17.022896 140183440749312 estimator.py:1148] Calling model_fn.
WARNING:tensorflow:From /workdir/models/research/object_detection/meta_architectures/ssd_meta_arch.py:564: The name tf.variable_scope is deprecated. Please use tf.compat.v1.variable_scope instead.

W0309 16:47:17.024489 140183440749312 module_wrapper.py:139] From /workdir/models/research/object_detection/meta_architectures/ssd_meta_arch.py:564: The name tf.variable_scope is deprecated. Please use tf.compat.v1.variable_scope instead.

WARNING:tensorflow:From /workdir/models/research/object_detection/core/anchor_generator.py:149: The name tf.assert_equal is deprecated. Please use tf.compat.v1.assert_equal instead.

W0309 16:47:19.059161 140183440749312 module_wrapper.py:139] From /workdir/models/research/object_detection/core/anchor_generator.py:149: The name tf.assert_equal is deprecated. Please use tf.compat.v1.assert_equal instead.

WARNING:tensorflow:From /workdir/models/research/object_detection/predictors/convolutional_box_predictor.py:383: The name tf.AUTO_REUSE is deprecated. Please use tf.compat.v1.AUTO_REUSE instead.

W0309 16:47:19.779203 140183440749312 module_wrapper.py:139] From /workdir/models/research/object_detection/predictors/convolutional_box_predictor.py:383: The name tf.AUTO_REUSE is deprecated. Please use tf.compat.v1.AUTO_REUSE instead.

WARNING:tensorflow:From /workdir/models/research/object_detection/exporter.py:231: The name tf.add_to_collection is deprecated. Please use tf.compat.v1.add_to_collection instead.

W0309 16:47:24.232181 140183440749312 module_wrapper.py:139] From /workdir/models/research/object_detection/exporter.py:231: The name tf.add_to_collection is deprecated. Please use tf.compat.v1.add_to_collection instead.

WARNING:tensorflow:From /workdir/models/research/object_detection/model_lib.py:402: The name tf.saved_model.signature_constants.PREDICT_METHOD_NAME is deprecated. Please use tf.saved_model.PREDICT_METHOD_NAME instead.

W0309 16:47:24.232796 140183440749312 module_wrapper.py:139] From /workdir/models/research/object_detection/model_lib.py:402: The name tf.saved_model.signature_constants.PREDICT_METHOD_NAME is deprecated. Please use tf.saved_model.PREDICT_METHOD_NAME instead.

WARNING:tensorflow:From /workdir/models/research/object_detection/model_lib.py:487: The name tf.train.Saver is deprecated. Please use tf.compat.v1.train.Saver instead.

W0309 16:47:24.233157 140183440749312 module_wrapper.py:139] From /workdir/models/research/object_detection/model_lib.py:487: The name tf.train.Saver is deprecated. Please use tf.compat.v1.train.Saver instead.

WARNING:tensorflow:From /workdir/models/research/object_detection/model_lib.py:492: The name tf.train.Scaffold is deprecated. Please use tf.compat.v1.train.Scaffold instead.

W0309 16:47:24.781657 140183440749312 module_wrapper.py:139] From /workdir/models/research/object_detection/model_lib.py:492: The name tf.train.Scaffold is deprecated. Please use tf.compat.v1.train.Scaffold instead.

INFO:tensorflow:Done calling model_fn.
I0309 16:47:24.782397 140183440749312 estimator.py:1150] Done calling model_fn.
INFO:tensorflow:Graph was finalized.
I0309 16:47:25.592612 140183440749312 monitored_session.py:240] Graph was finalized.
2022-03-09 16:47:25.604075: I tensorflow/core/platform/profile_utils/cpu_utils.cc:94] CPU Frequency: 2300010000 Hz
2022-03-09 16:47:25.604892: I tensorflow/compiler/xla/service/service.cc:168] XLA service 0x5ba2a90 initialized for platform Host (this does not guarantee that XLA will be used). Devices:
2022-03-09 16:47:25.604931: I tensorflow/compiler/xla/service/service.cc:176]   StreamExecutor device (0): Host, Default Version
2022-03-09 16:47:25.809184: I tensorflow/stream_executor/cuda/cuda_gpu_executor.cc:983] successful NUMA node read from SysFS had negative value (-1), but there must be at least one NUMA node, so returning NUMA node zero
2022-03-09 16:47:25.810232: I tensorflow/compiler/xla/service/service.cc:168] XLA service 0x549b590 initialized for platform CUDA (this does not guarantee that XLA will be used). Devices:
2022-03-09 16:47:25.810349: I tensorflow/compiler/xla/service/service.cc:176]   StreamExecutor device (0): Tesla V100-SXM2-16GB, Compute Capability 7.0
2022-03-09 16:47:25.810658: I tensorflow/stream_executor/cuda/cuda_gpu_executor.cc:983] successful NUMA node read from SysFS had negative value (-1), but there must be at least one NUMA node, so returning NUMA node zero
2022-03-09 16:47:25.812143: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1639] Found device 0 with properties: 
name: Tesla V100-SXM2-16GB major: 7 minor: 0 memoryClockRate(GHz): 1.53
pciBusID: 0000:00:1e.0
2022-03-09 16:47:25.812311: I tensorflow/stream_executor/platform/default/dso_loader.cc:48] Successfully opened dynamic library libcudart.so.11.0
2022-03-09 16:47:25.812490: I tensorflow/stream_executor/platform/default/dso_loader.cc:48] Successfully opened dynamic library libcublas.so.11
2022-03-09 16:47:25.812616: I tensorflow/stream_executor/platform/default/dso_loader.cc:48] Successfully opened dynamic library libcufft.so.10
2022-03-09 16:47:25.812731: I tensorflow/stream_executor/platform/default/dso_loader.cc:48] Successfully opened dynamic library libcurand.so.10
2022-03-09 16:47:25.812820: I tensorflow/stream_executor/platform/default/dso_loader.cc:48] Successfully opened dynamic library libcusolver.so.10
2022-03-09 16:47:25.812900: I tensorflow/stream_executor/platform/default/dso_loader.cc:48] Successfully opened dynamic library libcusparse.so.11
2022-03-09 16:47:25.812978: I tensorflow/stream_executor/platform/default/dso_loader.cc:48] Successfully opened dynamic library libcudnn.so.8
2022-03-09 16:47:25.813130: I tensorflow/stream_executor/cuda/cuda_gpu_executor.cc:983] successful NUMA node read from SysFS had negative value (-1), but there must be at least one NUMA node, so returning NUMA node zero
2022-03-09 16:47:25.814156: I tensorflow/stream_executor/cuda/cuda_gpu_executor.cc:983] successful NUMA node read from SysFS had negative value (-1), but there must be at least one NUMA node, so returning NUMA node zero
2022-03-09 16:47:25.815141: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1767] Adding visible gpu devices: 0
2022-03-09 16:47:25.815247: I tensorflow/stream_executor/platform/default/dso_loader.cc:48] Successfully opened dynamic library libcudart.so.11.0
2022-03-09 16:47:26.396818: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1180] Device interconnect StreamExecutor with strength 1 edge matrix:
2022-03-09 16:47:26.396989: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1186]      0 
2022-03-09 16:47:26.397054: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1199] 0:   N 
2022-03-09 16:47:26.400968: I tensorflow/stream_executor/cuda/cuda_gpu_executor.cc:983] successful NUMA node read from SysFS had negative value (-1), but there must be at least one NUMA node, so returning NUMA node zero
2022-03-09 16:47:26.402058: I tensorflow/stream_executor/cuda/cuda_gpu_executor.cc:983] successful NUMA node read from SysFS had negative value (-1), but there must be at least one NUMA node, so returning NUMA node zero
2022-03-09 16:47:26.403943: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1325] Created TensorFlow device (/job:localhost/replica:0/task:0/device:GPU:0 with 2044 MB memory) -> physical GPU (device: 0, name: Tesla V100-SXM2-16GB, pci bus id: 0000:00:1e.0, compute capability: 7.0)
2022-03-09 16:47:27.508207: I tensorflow/core/grappler/optimizers/auto_mixed_precision.cc:1987] Running auto_mixed_precision graph optimizer
2022-03-09 16:47:27.520298: I tensorflow/core/grappler/optimizers/auto_mixed_precision.cc:1343] No whitelist ops found, nothing to do
2022-03-09 16:47:29.145842: I tensorflow/core/grappler/optimizers/auto_mixed_precision.cc:1987] Running auto_mixed_precision graph optimizer
2022-03-09 16:47:29.151256: I tensorflow/core/grappler/optimizers/auto_mixed_precision.cc:1343] No whitelist ops found, nothing to do
INFO:tensorflow:Running local_init_op.
I0309 16:47:29.832885 140183440749312 session_manager.py:500] Running local_init_op.
2022-03-09 16:47:30.106011: I tensorflow/core/grappler/optimizers/auto_mixed_precision.cc:1987] Running auto_mixed_precision graph optimizer
2022-03-09 16:47:30.106563: I tensorflow/core/grappler/optimizers/auto_mixed_precision.cc:1343] No whitelist ops found, nothing to do
INFO:tensorflow:Done running local_init_op.
I0309 16:47:30.159569 140183440749312 session_manager.py:502] Done running local_init_op.
2022-03-09 16:47:30.565073: I tensorflow/core/grappler/optimizers/auto_mixed_precision.cc:1987] Running auto_mixed_precision graph optimizer
2022-03-09 16:47:30.573364: I tensorflow/core/grappler/optimizers/auto_mixed_precision.cc:1343] No whitelist ops found, nothing to do
2022-03-09 16:47:31.544445: I tensorflow/core/grappler/optimizers/auto_mixed_precision.cc:1987] Running auto_mixed_precision graph optimizer
2022-03-09 16:47:31.545227: I tensorflow/core/grappler/optimizers/auto_mixed_precision.cc:1343] No whitelist ops found, nothing to do
2022-03-09 16:47:31.597368: I tensorflow/core/grappler/optimizers/auto_mixed_precision.cc:1343] No whitelist ops found, nothing to do
2022-03-09 16:47:31.624938: I tensorflow/core/grappler/optimizers/auto_mixed_precision.cc:1343] No whitelist ops found, nothing to do
2022-03-09 16:47:31.641107: I tensorflow/core/grappler/optimizers/auto_mixed_precision.cc:1343] No whitelist ops found, nothing to do
2022-03-09 16:47:31.644221: I tensorflow/core/grappler/optimizers/auto_mixed_precision.cc:1343] No whitelist ops found, nothing to do
2022-03-09 16:47:31.646936: I tensorflow/core/grappler/optimizers/auto_mixed_precision.cc:1343] No whitelist ops found, nothing to do
2022-03-09 16:47:31.650452: I tensorflow/core/grappler/optimizers/auto_mixed_precision.cc:1343] No whitelist ops found, nothing to do
2022-03-09 16:47:31.652883: I tensorflow/core/grappler/optimizers/auto_mixed_precision.cc:1343] No whitelist ops found, nothing to do
2022-03-09 16:47:31.670562: I tensorflow/core/grappler/optimizers/auto_mixed_precision.cc:1343] No whitelist ops found, nothing to do
2022-03-09 16:47:31.684386: I tensorflow/core/grappler/optimizers/auto_mixed_precision.cc:1343] No whitelist ops found, nothing to do
2022-03-09 16:47:31.889812: I tensorflow/core/grappler/optimizers/auto_mixed_precision.cc:1343] No whitelist ops found, nothing to do
2022-03-09 16:47:31.990842: I tensorflow/core/grappler/optimizers/auto_mixed_precision.cc:1343] No whitelist ops found, nothing to do
2022-03-09 16:47:31.995927: I tensorflow/core/grappler/optimizers/auto_mixed_precision.cc:1343] No whitelist ops found, nothing to do
2022-03-09 16:47:32.000025: I tensorflow/core/grappler/optimizers/auto_mixed_precision.cc:1343] No whitelist ops found, nothing to do
2022-03-09 16:47:32.004136: I tensorflow/core/grappler/optimizers/auto_mixed_precision.cc:1343] No whitelist ops found, nothing to do
2022-03-09 16:47:32.006666: I tensorflow/core/grappler/optimizers/auto_mixed_precision.cc:1343] No whitelist ops found, nothing to do
2022-03-09 16:47:32.011296: I tensorflow/core/grappler/optimizers/auto_mixed_precision.cc:1343] No whitelist ops found, nothing to do
2022-03-09 16:47:32.015012: I tensorflow/core/grappler/optimizers/auto_mixed_precision.cc:1343] No whitelist ops found, nothing to do
2022-03-09 16:47:32.029900: I tensorflow/core/grappler/optimizers/auto_mixed_precision.cc:1343] No whitelist ops found, nothing to do
2022-03-09 16:47:32.041767: I tensorflow/core/grappler/optimizers/auto_mixed_precision.cc:1343] No whitelist ops found, nothing to do
2022-03-09 16:47:32.044551: I tensorflow/core/grappler/optimizers/auto_mixed_precision.cc:1343] No whitelist ops found, nothing to do
2022-03-09 16:47:32.047264: I tensorflow/core/grappler/optimizers/auto_mixed_precision.cc:1343] No whitelist ops found, nothing to do
2022-03-09 16:47:32.050214: I tensorflow/core/grappler/optimizers/auto_mixed_precision.cc:1343] No whitelist ops found, nothing to do
2022-03-09 16:47:32.053126: I tensorflow/core/grappler/optimizers/auto_mixed_precision.cc:1343] No whitelist ops found, nothing to do
2022-03-09 16:47:34.127017: I tensorflow/core/grappler/optimizers/auto_mixed_precision.cc:1987] Running auto_mixed_precision graph optimizer
2022-03-09 16:47:34.164128: I tensorflow/core/grappler/optimizers/auto_mixed_precision.cc:1035] Automatic Mixed Precision Grappler Pass Summary:

Total processable nodes: 3870
Recognized nodes available for conversion: 3198
Total nodes converted: 300
Total FP16 Cast ops used (excluding Const and Variable casts): 1
Whitelisted nodes converted: 110
Blacklisted nodes blocking conversion: 4
Nodes blocked from conversion by blacklisted nodes: 8

For more information regarding mixed precision training, including how to make automatic mixed precision aware of a custom op type, please see the documentation available here:
https://docs.nvidia.com/deeplearning/frameworks/tensorflow-user-guide/index.html#tfamp


2022-03-09 16:47:36.396220: I tensorflow/stream_executor/platform/default/dso_loader.cc:48] Successfully opened dynamic library libcudnn.so.8
2022-03-09 16:47:38.073295: I tensorflow/stream_executor/platform/default/dso_loader.cc:48] Successfully opened dynamic library libcublas.so.11
INFO:tensorflow:Latency 90%: 164.15 ms
I0309 16:48:33.297027 140183440749312 SSD320_inference.py:100] Latency 90%: 164.15 ms
INFO:tensorflow:Latency 95%: 169.57 ms
I0309 16:48:33.298475 140183440749312 SSD320_inference.py:100] Latency 95%: 169.57 ms
INFO:tensorflow:Latency 99%: 187.96 ms
I0309 16:48:33.299172 140183440749312 SSD320_inference.py:100] Latency 99%: 187.96 ms

Benchmark result: 7.644888617342596 img/s
+ count=9
+ echo INFERENCE_LOOP_COUNT=9
INFERENCE_LOOP_COUNT=9
+ [[ -n 20 ]]
+ minutes=14
+ [[ 14 -ge 20 ]]
+ true
+ bash -x examples/SSD320_FP16_inference.sh /tmp/cfg --raport_file=/tmp/summary.json
+ test -f /etc/shinit_v2
+ source /etc/shinit_v2
+++ sed 's/^$/unknown/'
+++ sed -n 's/^NVRM.*Kernel Module *\([^() ]*\).*$/\1/p' /proc/driver/nvidia/version
++ NV_DRIVER_VERS=
++ export _CUDA_COMPAT_PATH=/usr/local/cuda/compat
++ _CUDA_COMPAT_PATH=/usr/local/cuda/compat
+++ hostname
++ _CUDA_COMPAT_CHECKFILE=/usr/local/cuda/compat/..ssd-inference-4-0-0.checked
++ _CUDA_COMPAT_REALLIB=/usr/local/cuda/compat/lib.real
++ _CUDA_COMPAT_SYMLINK=/usr/local/cuda/compat/lib
++ '[' -n '' -a -e /dev/nvidiactl -a '!' -e /usr/local/cuda/compat/..ssd-inference-4-0-0.checked ']'
++ unset _CUDA_COMPAT_CHECKFILE
++ unset _CUDA_COMPAT_REALLIB
++ unset _CUDA_COMPAT_SYMLINK
+ '[' -z '' ']'
+ return
+ PIPELINE_CONFIG_PATH=/tmp/cfg/ssd320_full_1gpus.config
+ export TF_ENABLE_AUTO_MIXED_PRECISION=1
+ TF_ENABLE_AUTO_MIXED_PRECISION=1
++ dirname examples/SSD320_FP16_inference.sh
+ SCRIPT_DIR=examples
++ realpath examples/../object_detection/
+ OBJECT_DETECTION=/workdir/models/research/object_detection
+ PYTHONPATH=/workdir/models/research/:/workdir/models/research/slim/::/workdir/models/research/object_detection
+ python examples/SSD320_inference.py --pipeline_config_path=/tmp/cfg/ssd320_full_1gpus.config --raport_file=/tmp/summary.json
2022-03-09 16:48:35.345074: I tensorflow/stream_executor/platform/default/dso_loader.cc:48] Successfully opened dynamic library libcudart.so.11.0
WARNING:tensorflow:Deprecation warnings have been disabled. Set TF_ENABLE_DEPRECATION_WARNINGS=1 to re-enable them.
WARNING:tensorflow:From /usr/local/lib/python3.6/dist-packages/horovod-0.19.1-py3.6-linux-x86_64.egg/horovod/tensorflow/__init__.py:152: The name tf.global_variables is deprecated. Please use tf.compat.v1.global_variables instead.

WARNING:tensorflow:From /usr/local/lib/python3.6/dist-packages/horovod-0.19.1-py3.6-linux-x86_64.egg/horovod/tensorflow/__init__.py:178: The name tf.get_default_graph is deprecated. Please use tf.compat.v1.get_default_graph instead.

WARNING:tensorflow:
The TensorFlow contrib module will not be included in TensorFlow 2.0.
For more information, please see:
  * https://github.com/tensorflow/community/blob/master/rfcs/20180907-contrib-sunset.md
  * https://github.com/tensorflow/addons
  * https://github.com/tensorflow/io (for I/O related ops)
If you depend on functionality not listed there, please file an issue.

WARNING:tensorflow:From /workdir/models/research/slim/nets/inception_resnet_v2.py:373: The name tf.GraphKeys is deprecated. Please use tf.compat.v1.GraphKeys instead.

WARNING:tensorflow:From /workdir/models/research/slim/nets/mobilenet/mobilenet.py:389: The name tf.nn.avg_pool is deprecated. Please use tf.nn.avg_pool2d instead.

WARNING:tensorflow:From examples/SSD320_inference.py:67: The name tf.train.SessionRunHook is deprecated. Please use tf.estimator.SessionRunHook instead.

WARNING:tensorflow:From examples/SSD320_inference.py:122: The name tf.app.run is deprecated. Please use tf.compat.v1.app.run instead.

WARNING:tensorflow:From examples/SSD320_inference.py:106: The name tf.logging.set_verbosity is deprecated. Please use tf.compat.v1.logging.set_verbosity instead.

W0309 16:48:40.131219 140599375012608 module_wrapper.py:139] From examples/SSD320_inference.py:106: The name tf.logging.set_verbosity is deprecated. Please use tf.compat.v1.logging.set_verbosity instead.

WARNING:tensorflow:From examples/SSD320_inference.py:106: The name tf.logging.INFO is deprecated. Please use tf.compat.v1.logging.INFO instead.

W0309 16:48:40.131664 140599375012608 module_wrapper.py:139] From examples/SSD320_inference.py:106: The name tf.logging.INFO is deprecated. Please use tf.compat.v1.logging.INFO instead.

WARNING:tensorflow:From examples/SSD320_inference.py:48: The name tf.ConfigProto is deprecated. Please use tf.compat.v1.ConfigProto instead.

W0309 16:48:40.131941 140599375012608 module_wrapper.py:139] From examples/SSD320_inference.py:48: The name tf.ConfigProto is deprecated. Please use tf.compat.v1.ConfigProto instead.

WARNING:tensorflow:From /workdir/models/research/object_detection/utils/config_util.py:94: The name tf.gfile.GFile is deprecated. Please use tf.io.gfile.GFile instead.

W0309 16:48:40.132846 140599375012608 module_wrapper.py:139] From /workdir/models/research/object_detection/utils/config_util.py:94: The name tf.gfile.GFile is deprecated. Please use tf.io.gfile.GFile instead.

WARNING:tensorflow:From /workdir/models/research/object_detection/model_lib.py:590: The name tf.logging.warning is deprecated. Please use tf.compat.v1.logging.warning instead.

W0309 16:48:40.140307 140599375012608 module_wrapper.py:139] From /workdir/models/research/object_detection/model_lib.py:590: The name tf.logging.warning is deprecated. Please use tf.compat.v1.logging.warning instead.

WARNING:tensorflow:Forced number of epochs for all eval validations to be 1.
W0309 16:48:40.140492 140599375012608 model_lib.py:591] Forced number of epochs for all eval validations to be 1.
WARNING:tensorflow:From /workdir/models/research/object_detection/utils/config_util.py:480: The name tf.logging.info is deprecated. Please use tf.compat.v1.logging.info instead.

W0309 16:48:40.140868 140599375012608 module_wrapper.py:139] From /workdir/models/research/object_detection/utils/config_util.py:480: The name tf.logging.info is deprecated. Please use tf.compat.v1.logging.info instead.

INFO:tensorflow:Maybe overwriting train_steps: None
I0309 16:48:40.141144 140599375012608 config_util.py:480] Maybe overwriting train_steps: None
INFO:tensorflow:Maybe overwriting sample_1_of_n_eval_examples: 1
I0309 16:48:40.141480 140599375012608 config_util.py:480] Maybe overwriting sample_1_of_n_eval_examples: 1
INFO:tensorflow:Maybe overwriting eval_num_epochs: 1
I0309 16:48:40.141747 140599375012608 config_util.py:480] Maybe overwriting eval_num_epochs: 1
INFO:tensorflow:Maybe overwriting load_pretrained: True
I0309 16:48:40.142046 140599375012608 config_util.py:480] Maybe overwriting load_pretrained: True
INFO:tensorflow:Ignoring config override key: load_pretrained
I0309 16:48:40.142209 140599375012608 config_util.py:490] Ignoring config override key: load_pretrained
WARNING:tensorflow:Expected number of evaluation epochs is 1, but instead encountered `eval_on_train_input_config.num_epochs` = 0. Overwriting `num_epochs` to 1.
W0309 16:48:40.143212 140599375012608 model_lib.py:607] Expected number of evaluation epochs is 1, but instead encountered `eval_on_train_input_config.num_epochs` = 0. Overwriting `num_epochs` to 1.
INFO:tensorflow:create_estimator_and_inputs: use_tpu False, export_to_tpu False
I0309 16:48:40.143376 140599375012608 model_lib.py:640] create_estimator_and_inputs: use_tpu False, export_to_tpu False
WARNING:tensorflow:Using temporary folder as model directory: /tmp/tmpnr1x25hm
W0309 16:48:40.144167 140599375012608 estimator.py:1821] Using temporary folder as model directory: /tmp/tmpnr1x25hm
INFO:tensorflow:Using config: {'_model_dir': '/tmp/tmpnr1x25hm', '_tf_random_seed': None, '_save_summary_steps': 100, '_save_checkpoints_steps': 100000, '_save_checkpoints_secs': None, '_session_config': , '_keep_checkpoint_max': 5, '_keep_checkpoint_every_n_hours': 10000, '_log_step_count_steps': 100, '_train_distribute': None, '_device_fn': None, '_protocol': None, '_eval_distribute': None, '_experimental_distribute': None, '_experimental_max_worker_delay_secs': None, '_session_creation_timeout_secs': 7200, '_service': None, '_cluster_spec': <tensorflow.python.training.server_lib.ClusterSpec object at 0x7fdf386437b8>, '_task_type': 'worker', '_task_id': 0, '_global_id_in_cluster': 0, '_master': '', '_evaluation_master': '', '_is_chief': True, '_num_ps_replicas': 0, '_num_worker_replicas': 1}
I0309 16:48:40.144743 140599375012608 estimator.py:212] Using config: {'_model_dir': '/tmp/tmpnr1x25hm', '_tf_random_seed': None, '_save_summary_steps': 100, '_save_checkpoints_steps': 100000, '_save_checkpoints_secs': None, '_session_config': , '_keep_checkpoint_max': 5, '_keep_checkpoint_every_n_hours': 10000, '_log_step_count_steps': 100, '_train_distribute': None, '_device_fn': None, '_protocol': None, '_eval_distribute': None, '_experimental_distribute': None, '_experimental_max_worker_delay_secs': None, '_session_creation_timeout_secs': 7200, '_service': None, '_cluster_spec': <tensorflow.python.training.server_lib.ClusterSpec object at 0x7fdf386437b8>, '_task_type': 'worker', '_task_id': 0, '_global_id_in_cluster': 0, '_master': '', '_evaluation_master': '', '_is_chief': True, '_num_ps_replicas': 0, '_num_worker_replicas': 1}
WARNING:tensorflow:Estimator's model_fn (<function create_model_fn.<locals>.model_fn at 0x7fdf38646d90>) includes params argument, but params are not passed to Estimator.
W0309 16:48:40.145112 140599375012608 model_fn.py:630] Estimator's model_fn (<function create_model_fn.<locals>.model_fn at 0x7fdf38646d90>) includes params argument, but params are not passed to Estimator.
INFO:tensorflow:Could not find trained model in model_dir: /tmp/tmpnr1x25hm, running initialization to predict.
I0309 16:48:40.146628 140599375012608 estimator.py:615] Could not find trained model in model_dir: /tmp/tmpnr1x25hm, running initialization to predict.
WARNING:tensorflow:From /workdir/models/research/object_detection/data_decoders/tf_example_decoder.py:167: The name tf.FixedLenFeature is deprecated. Please use tf.io.FixedLenFeature instead.

W0309 16:48:40.154640 140599375012608 module_wrapper.py:139] From /workdir/models/research/object_detection/data_decoders/tf_example_decoder.py:167: The name tf.FixedLenFeature is deprecated. Please use tf.io.FixedLenFeature instead.

WARNING:tensorflow:From /workdir/models/research/object_detection/data_decoders/tf_example_decoder.py:182: The name tf.VarLenFeature is deprecated. Please use tf.io.VarLenFeature instead.

W0309 16:48:40.155030 140599375012608 module_wrapper.py:139] From /workdir/models/research/object_detection/data_decoders/tf_example_decoder.py:182: The name tf.VarLenFeature is deprecated. Please use tf.io.VarLenFeature instead.

WARNING:tensorflow:From /workdir/models/research/object_detection/builders/dataset_builder.py:76: The name tf.gfile.Glob is deprecated. Please use tf.io.gfile.glob instead.

W0309 16:48:40.240637 140599375012608 module_wrapper.py:139] From /workdir/models/research/object_detection/builders/dataset_builder.py:76: The name tf.gfile.Glob is deprecated. Please use tf.io.gfile.glob instead.

2022-03-09 16:48:41.242873: I tensorflow/stream_executor/platform/default/dso_loader.cc:48] Successfully opened dynamic library libcuda.so.1
2022-03-09 16:48:41.253739: I tensorflow/stream_executor/cuda/cuda_gpu_executor.cc:983] successful NUMA node read from SysFS had negative value (-1), but there must be at least one NUMA node, so returning NUMA node zero
2022-03-09 16:48:41.257456: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1639] Found device 0 with properties: 
name: Tesla V100-SXM2-16GB major: 7 minor: 0 memoryClockRate(GHz): 1.53
pciBusID: 0000:00:1e.0
2022-03-09 16:48:41.257513: I tensorflow/stream_executor/platform/default/dso_loader.cc:48] Successfully opened dynamic library libcudart.so.11.0
2022-03-09 16:48:41.261824: I tensorflow/stream_executor/platform/default/dso_loader.cc:48] Successfully opened dynamic library libcublas.so.11
2022-03-09 16:48:41.263970: I tensorflow/stream_executor/platform/default/dso_loader.cc:48] Successfully opened dynamic library libcufft.so.10
2022-03-09 16:48:41.264489: I tensorflow/stream_executor/platform/default/dso_loader.cc:48] Successfully opened dynamic library libcurand.so.10
2022-03-09 16:48:41.269190: I tensorflow/stream_executor/platform/default/dso_loader.cc:48] Successfully opened dynamic library libcusolver.so.10
2022-03-09 16:48:41.270408: I tensorflow/stream_executor/platform/default/dso_loader.cc:48] Successfully opened dynamic library libcusparse.so.11
2022-03-09 16:48:41.270729: I tensorflow/stream_executor/platform/default/dso_loader.cc:48] Successfully opened dynamic library libcudnn.so.8
2022-03-09 16:48:41.271034: I tensorflow/stream_executor/cuda/cuda_gpu_executor.cc:983] successful NUMA node read from SysFS had negative value (-1), but there must be at least one NUMA node, so returning NUMA node zero
2022-03-09 16:48:41.272538: I tensorflow/stream_executor/cuda/cuda_gpu_executor.cc:983] successful NUMA node read from SysFS had negative value (-1), but there must be at least one NUMA node, so returning NUMA node zero
2022-03-09 16:48:41.273931: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1767] Adding visible gpu devices: 0
WARNING:tensorflow:The operation `tf.image.convert_image_dtype` will be skipped since the input and output dtypes are identical.
W0309 16:48:41.302089 140599375012608 image_ops_impl.py:1776] The operation `tf.image.convert_image_dtype` will be skipped since the input and output dtypes are identical.
WARNING:tensorflow:The operation `tf.image.convert_image_dtype` will be skipped since the input and output dtypes are identical.
W0309 16:48:41.311001 140599375012608 image_ops_impl.py:1776] The operation `tf.image.convert_image_dtype` will be skipped since the input and output dtypes are identical.
WARNING:tensorflow:The operation `tf.image.convert_image_dtype` will be skipped since the input and output dtypes are identical.
W0309 16:48:41.324212 140599375012608 image_ops_impl.py:1776] The operation `tf.image.convert_image_dtype` will be skipped since the input and output dtypes are identical.
WARNING:tensorflow:The operation `tf.image.convert_image_dtype` will be skipped since the input and output dtypes are identical.
W0309 16:48:41.338008 140599375012608 image_ops_impl.py:1776] The operation `tf.image.convert_image_dtype` will be skipped since the input and output dtypes are identical.
WARNING:tensorflow:From /usr/local/lib/python3.6/dist-packages/tensorflow_core/python/autograph/converters/directives.py:119: The name tf.is_nan is deprecated. Please use tf.math.is_nan instead.

W0309 16:48:55.554048 140599375012608 module_wrapper.py:139] From /usr/local/lib/python3.6/dist-packages/tensorflow_core/python/autograph/converters/directives.py:119: The name tf.is_nan is deprecated. Please use tf.math.is_nan instead.

WARNING:tensorflow:From /usr/local/lib/python3.6/dist-packages/tensorflow_core/python/autograph/converters/directives.py:119: The name tf.image.resize_images is deprecated. Please use tf.image.resize instead.

W0309 16:48:56.222988 140599375012608 module_wrapper.py:139] From /usr/local/lib/python3.6/dist-packages/tensorflow_core/python/autograph/converters/directives.py:119: The name tf.image.resize_images is deprecated. Please use tf.image.resize instead.

WARNING:tensorflow:From /usr/local/lib/python3.6/dist-packages/tensorflow_core/python/autograph/converters/directives.py:119: The name tf.image.resize_nearest_neighbor is deprecated. Please use tf.compat.v1.image.resize_nearest_neighbor instead.

W0309 16:48:56.225047 140599375012608 module_wrapper.py:139] From /usr/local/lib/python3.6/dist-packages/tensorflow_core/python/autograph/converters/directives.py:119: The name tf.image.resize_nearest_neighbor is deprecated. Please use tf.compat.v1.image.resize_nearest_neighbor instead.

WARNING:tensorflow:From /usr/local/lib/python3.6/dist-packages/tensorflow_core/python/autograph/converters/directives.py:119: The name tf.string_to_hash_bucket_fast is deprecated. Please use tf.strings.to_hash_bucket_fast instead.

W0309 16:48:59.564532 140599375012608 module_wrapper.py:139] From /usr/local/lib/python3.6/dist-packages/tensorflow_core/python/autograph/converters/directives.py:119: The name tf.string_to_hash_bucket_fast is deprecated. Please use tf.strings.to_hash_bucket_fast instead.

WARNING:tensorflow:From /usr/local/lib/python3.6/dist-packages/tensorflow_core/python/autograph/converters/directives.py:119: The name tf.random_uniform is deprecated. Please use tf.random.uniform instead.

W0309 16:48:59.729516 140599375012608 module_wrapper.py:139] From /usr/local/lib/python3.6/dist-packages/tensorflow_core/python/autograph/converters/directives.py:119: The name tf.random_uniform is deprecated. Please use tf.random.uniform instead.

INFO:tensorflow:Calling model_fn.
I0309 16:49:00.188639 140599375012608 estimator.py:1148] Calling model_fn.
WARNING:tensorflow:From /workdir/models/research/object_detection/meta_architectures/ssd_meta_arch.py:564: The name tf.variable_scope is deprecated. Please use tf.compat.v1.variable_scope instead.

W0309 16:49:00.190284 140599375012608 module_wrapper.py:139] From /workdir/models/research/object_detection/meta_architectures/ssd_meta_arch.py:564: The name tf.variable_scope is deprecated. Please use tf.compat.v1.variable_scope instead.

WARNING:tensorflow:From /workdir/models/research/object_detection/core/anchor_generator.py:149: The name tf.assert_equal is deprecated. Please use tf.compat.v1.assert_equal instead.

W0309 16:49:02.439046 140599375012608 module_wrapper.py:139] From /workdir/models/research/object_detection/core/anchor_generator.py:149: The name tf.assert_equal is deprecated. Please use tf.compat.v1.assert_equal instead.

WARNING:tensorflow:From /workdir/models/research/object_detection/predictors/convolutional_box_predictor.py:383: The name tf.AUTO_REUSE is deprecated. Please use tf.compat.v1.AUTO_REUSE instead.

W0309 16:49:03.383244 140599375012608 module_wrapper.py:139] From /workdir/models/research/object_detection/predictors/convolutional_box_predictor.py:383: The name tf.AUTO_REUSE is deprecated. Please use tf.compat.v1.AUTO_REUSE instead.

WARNING:tensorflow:From /workdir/models/research/object_detection/exporter.py:231: The name tf.add_to_collection is deprecated. Please use tf.compat.v1.add_to_collection instead.

W0309 16:49:09.004881 140599375012608 module_wrapper.py:139] From /workdir/models/research/object_detection/exporter.py:231: The name tf.add_to_collection is deprecated. Please use tf.compat.v1.add_to_collection instead.

WARNING:tensorflow:From /workdir/models/research/object_detection/model_lib.py:402: The name tf.saved_model.signature_constants.PREDICT_METHOD_NAME is deprecated. Please use tf.saved_model.PREDICT_METHOD_NAME instead.

W0309 16:49:09.005423 140599375012608 module_wrapper.py:139] From /workdir/models/research/object_detection/model_lib.py:402: The name tf.saved_model.signature_constants.PREDICT_METHOD_NAME is deprecated. Please use tf.saved_model.PREDICT_METHOD_NAME instead.

WARNING:tensorflow:From /workdir/models/research/object_detection/model_lib.py:487: The name tf.train.Saver is deprecated. Please use tf.compat.v1.train.Saver instead.

W0309 16:49:09.005853 140599375012608 module_wrapper.py:139] From /workdir/models/research/object_detection/model_lib.py:487: The name tf.train.Saver is deprecated. Please use tf.compat.v1.train.Saver instead.

WARNING:tensorflow:From /workdir/models/research/object_detection/model_lib.py:492: The name tf.train.Scaffold is deprecated. Please use tf.compat.v1.train.Scaffold instead.

W0309 16:49:09.531152 140599375012608 module_wrapper.py:139] From /workdir/models/research/object_detection/model_lib.py:492: The name tf.train.Scaffold is deprecated. Please use tf.compat.v1.train.Scaffold instead.

INFO:tensorflow:Done calling model_fn.
I0309 16:49:09.531984 140599375012608 estimator.py:1150] Done calling model_fn.
INFO:tensorflow:Graph was finalized.
I0309 16:49:10.370733 140599375012608 monitored_session.py:240] Graph was finalized.
2022-03-09 16:49:10.398051: I tensorflow/core/platform/profile_utils/cpu_utils.cc:94] CPU Frequency: 2300010000 Hz
2022-03-09 16:49:10.400271: I tensorflow/compiler/xla/service/service.cc:168] XLA service 0x6c430c0 initialized for platform Host (this does not guarantee that XLA will be used). Devices:
2022-03-09 16:49:10.400328: I tensorflow/compiler/xla/service/service.cc:176]   StreamExecutor device (0): Host, Default Version
2022-03-09 16:49:10.621657: I tensorflow/stream_executor/cuda/cuda_gpu_executor.cc:983] successful NUMA node read from SysFS had negative value (-1), but there must be at least one NUMA node, so returning NUMA node zero
2022-03-09 16:49:10.623366: I tensorflow/compiler/xla/service/service.cc:168] XLA service 0x6c46560 initialized for platform CUDA (this does not guarantee that XLA will be used). Devices:
2022-03-09 16:49:10.623416: I tensorflow/compiler/xla/service/service.cc:176]   StreamExecutor device (0): Tesla V100-SXM2-16GB, Compute Capability 7.0
2022-03-09 16:49:10.623814: I tensorflow/stream_executor/cuda/cuda_gpu_executor.cc:983] successful NUMA node read from SysFS had negative value (-1), but there must be at least one NUMA node, so returning NUMA node zero
2022-03-09 16:49:10.624890: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1639] Found device 0 with properties: 
name: Tesla V100-SXM2-16GB major: 7 minor: 0 memoryClockRate(GHz): 1.53
pciBusID: 0000:00:1e.0
2022-03-09 16:49:10.624981: I tensorflow/stream_executor/platform/default/dso_loader.cc:48] Successfully opened dynamic library libcudart.so.11.0
2022-03-09 16:49:10.625404: I tensorflow/stream_executor/platform/default/dso_loader.cc:48] Successfully opened dynamic library libcublas.so.11
2022-03-09 16:49:10.625457: I tensorflow/stream_executor/platform/default/dso_loader.cc:48] Successfully opened dynamic library libcufft.so.10
2022-03-09 16:49:10.625498: I tensorflow/stream_executor/platform/default/dso_loader.cc:48] Successfully opened dynamic library libcurand.so.10
2022-03-09 16:49:10.625536: I tensorflow/stream_executor/platform/default/dso_loader.cc:48] Successfully opened dynamic library libcusolver.so.10
2022-03-09 16:49:10.625568: I tensorflow/stream_executor/platform/default/dso_loader.cc:48] Successfully opened dynamic library libcusparse.so.11
2022-03-09 16:49:10.625601: I tensorflow/stream_executor/platform/default/dso_loader.cc:48] Successfully opened dynamic library libcudnn.so.8
2022-03-09 16:49:10.625787: I tensorflow/stream_executor/cuda/cuda_gpu_executor.cc:983] successful NUMA node read from SysFS had negative value (-1), but there must be at least one NUMA node, so returning NUMA node zero
2022-03-09 16:49:10.626834: I tensorflow/stream_executor/cuda/cuda_gpu_executor.cc:983] successful NUMA node read from SysFS had negative value (-1), but there must be at least one NUMA node, so returning NUMA node zero
2022-03-09 16:49:10.627905: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1767] Adding visible gpu devices: 0
2022-03-09 16:49:10.627999: I tensorflow/stream_executor/platform/default/dso_loader.cc:48] Successfully opened dynamic library libcudart.so.11.0
2022-03-09 16:49:11.241731: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1180] Device interconnect StreamExecutor with strength 1 edge matrix:
2022-03-09 16:49:11.241931: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1186]      0 
2022-03-09 16:49:11.242021: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1199] 0:   N 
2022-03-09 16:49:11.244622: I tensorflow/stream_executor/cuda/cuda_gpu_executor.cc:983] successful NUMA node read from SysFS had negative value (-1), but there must be at least one NUMA node, so returning NUMA node zero
2022-03-09 16:49:11.246636: I tensorflow/stream_executor/cuda/cuda_gpu_executor.cc:983] successful NUMA node read from SysFS had negative value (-1), but there must be at least one NUMA node, so returning NUMA node zero
2022-03-09 16:49:11.248357: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1325] Created TensorFlow device (/job:localhost/replica:0/task:0/device:GPU:0 with 2044 MB memory) -> physical GPU (device: 0, name: Tesla V100-SXM2-16GB, pci bus id: 0000:00:1e.0, compute capability: 7.0)
2022-03-09 16:49:12.357591: I tensorflow/core/grappler/optimizers/auto_mixed_precision.cc:1987] Running auto_mixed_precision graph optimizer
2022-03-09 16:49:12.365954: I tensorflow/core/grappler/optimizers/auto_mixed_precision.cc:1343] No whitelist ops found, nothing to do
2022-03-09 16:49:14.269841: I tensorflow/core/grappler/optimizers/auto_mixed_precision.cc:1987] Running auto_mixed_precision graph optimizer
2022-03-09 16:49:14.278433: I tensorflow/core/grappler/optimizers/auto_mixed_precision.cc:1343] No whitelist ops found, nothing to do
INFO:tensorflow:Running local_init_op.
I0309 16:49:15.041083 140599375012608 session_manager.py:500] Running local_init_op.
2022-03-09 16:49:15.326246: I tensorflow/core/grappler/optimizers/auto_mixed_precision.cc:1987] Running auto_mixed_precision graph optimizer
2022-03-09 16:49:15.326672: I tensorflow/core/grappler/optimizers/auto_mixed_precision.cc:1343] No whitelist ops found, nothing to do
INFO:tensorflow:Done running local_init_op.
I0309 16:49:15.395331 140599375012608 session_manager.py:502] Done running local_init_op.
2022-03-09 16:49:15.838620: I tensorflow/core/grappler/optimizers/auto_mixed_precision.cc:1987] Running auto_mixed_precision graph optimizer
2022-03-09 16:49:15.846337: I tensorflow/core/grappler/optimizers/auto_mixed_precision.cc:1343] No whitelist ops found, nothing to do
2022-03-09 16:49:16.894443: I tensorflow/core/grappler/optimizers/auto_mixed_precision.cc:1987] Running auto_mixed_precision graph optimizer
2022-03-09 16:49:16.895444: I tensorflow/core/grappler/optimizers/auto_mixed_precision.cc:1343] No whitelist ops found, nothing to do
2022-03-09 16:49:16.944395: I tensorflow/core/grappler/optimizers/auto_mixed_precision.cc:1343] No whitelist ops found, nothing to do
2022-03-09 16:49:16.973237: I tensorflow/core/grappler/optimizers/auto_mixed_precision.cc:1343] No whitelist ops found, nothing to do
2022-03-09 16:49:16.989466: I tensorflow/core/grappler/optimizers/auto_mixed_precision.cc:1343] No whitelist ops found, nothing to do
2022-03-09 16:49:16.992837: I tensorflow/core/grappler/optimizers/auto_mixed_precision.cc:1343] No whitelist ops found, nothing to do
2022-03-09 16:49:16.996120: I tensorflow/core/grappler/optimizers/auto_mixed_precision.cc:1343] No whitelist ops found, nothing to do
2022-03-09 16:49:16.999646: I tensorflow/core/grappler/optimizers/auto_mixed_precision.cc:1343] No whitelist ops found, nothing to do
2022-03-09 16:49:17.002277: I tensorflow/core/grappler/optimizers/auto_mixed_precision.cc:1343] No whitelist ops found, nothing to do
2022-03-09 16:49:17.024605: I tensorflow/core/grappler/optimizers/auto_mixed_precision.cc:1343] No whitelist ops found, nothing to do
2022-03-09 16:49:17.042935: I tensorflow/core/grappler/optimizers/auto_mixed_precision.cc:1343] No whitelist ops found, nothing to do
2022-03-09 16:49:17.257595: I tensorflow/core/grappler/optimizers/auto_mixed_precision.cc:1343] No whitelist ops found, nothing to do
2022-03-09 16:49:17.366647: I tensorflow/core/grappler/optimizers/auto_mixed_precision.cc:1343] No whitelist ops found, nothing to do
2022-03-09 16:49:17.371794: I tensorflow/core/grappler/optimizers/auto_mixed_precision.cc:1343] No whitelist ops found, nothing to do
2022-03-09 16:49:17.376426: I tensorflow/core/grappler/optimizers/auto_mixed_precision.cc:1343] No whitelist ops found, nothing to do
2022-03-09 16:49:17.380911: I tensorflow/core/grappler/optimizers/auto_mixed_precision.cc:1343] No whitelist ops found, nothing to do
2022-03-09 16:49:17.383536: I tensorflow/core/grappler/optimizers/auto_mixed_precision.cc:1343] No whitelist ops found, nothing to do
2022-03-09 16:49:17.388305: I tensorflow/core/grappler/optimizers/auto_mixed_precision.cc:1343] No whitelist ops found, nothing to do
2022-03-09 16:49:17.392066: I tensorflow/core/grappler/optimizers/auto_mixed_precision.cc:1343] No whitelist ops found, nothing to do
2022-03-09 16:49:17.407639: I tensorflow/core/grappler/optimizers/auto_mixed_precision.cc:1343] No whitelist ops found, nothing to do
2022-03-09 16:49:17.419665: I tensorflow/core/grappler/optimizers/auto_mixed_precision.cc:1343] No whitelist ops found, nothing to do
2022-03-09 16:49:17.422733: I tensorflow/core/grappler/optimizers/auto_mixed_precision.cc:1343] No whitelist ops found, nothing to do
2022-03-09 16:49:17.425457: I tensorflow/core/grappler/optimizers/auto_mixed_precision.cc:1343] No whitelist ops found, nothing to do
2022-03-09 16:49:17.428763: I tensorflow/core/grappler/optimizers/auto_mixed_precision.cc:1343] No whitelist ops found, nothing to do
2022-03-09 16:49:17.432107: I tensorflow/core/grappler/optimizers/auto_mixed_precision.cc:1343] No whitelist ops found, nothing to do
2022-03-09 16:49:19.618455: I tensorflow/core/grappler/optimizers/auto_mixed_precision.cc:1987] Running auto_mixed_precision graph optimizer
2022-03-09 16:49:19.662184: I tensorflow/core/grappler/optimizers/auto_mixed_precision.cc:1035] Automatic Mixed Precision Grappler Pass Summary:

Total processable nodes: 3870
Recognized nodes available for conversion: 3198
Total nodes converted: 300
Total FP16 Cast ops used (excluding Const and Variable casts): 1
Whitelisted nodes converted: 110
Blacklisted nodes blocking conversion: 4
Nodes blocked from conversion by blacklisted nodes: 8

For more information regarding mixed precision training, including how to make automatic mixed precision aware of a custom op type, please see the documentation available here:
https://docs.nvidia.com/deeplearning/frameworks/tensorflow-user-guide/index.html#tfamp


2022-03-09 16:49:21.954177: I tensorflow/stream_executor/platform/default/dso_loader.cc:48] Successfully opened dynamic library libcudnn.so.8
2022-03-09 16:49:23.771594: I tensorflow/stream_executor/platform/default/dso_loader.cc:48] Successfully opened dynamic library libcublas.so.11
INFO:tensorflow:Latency 90%: 159.34 ms
I0309 16:50:18.065410 140599375012608 SSD320_inference.py:100] Latency 90%: 159.34 ms
INFO:tensorflow:Latency 95%: 169.71 ms
I0309 16:50:18.066498 140599375012608 SSD320_inference.py:100] Latency 95%: 169.71 ms
INFO:tensorflow:Latency 99%: 191.06 ms
I0309 16:50:18.067317 140599375012608 SSD320_inference.py:100] Latency 99%: 191.06 ms

Benchmark result: 8.164345641871165 img/s
+ count=10
+ echo INFERENCE_LOOP_COUNT=10
+ [[ -n 20 ]]
INFERENCE_LOOP_COUNT=10
+ minutes=16
+ [[ 16 -ge 20 ]]
+ true
+ bash -x examples/SSD320_FP16_inference.sh /tmp/cfg --raport_file=/tmp/summary.json
+ test -f /etc/shinit_v2
+ source /etc/shinit_v2
+++ sed -n 's/^NVRM.*Kernel Module *\([^() ]*\).*$/\1/p' /proc/driver/nvidia/version
+++ sed 's/^$/unknown/'
++ NV_DRIVER_VERS=
++ export _CUDA_COMPAT_PATH=/usr/local/cuda/compat
++ _CUDA_COMPAT_PATH=/usr/local/cuda/compat
+++ hostname
++ _CUDA_COMPAT_CHECKFILE=/usr/local/cuda/compat/..ssd-inference-4-0-0.checked
++ _CUDA_COMPAT_REALLIB=/usr/local/cuda/compat/lib.real
++ _CUDA_COMPAT_SYMLINK=/usr/local/cuda/compat/lib
++ '[' -n '' -a -e /dev/nvidiactl -a '!' -e /usr/local/cuda/compat/..ssd-inference-4-0-0.checked ']'
++ unset _CUDA_COMPAT_CHECKFILE
++ unset _CUDA_COMPAT_REALLIB
++ unset _CUDA_COMPAT_SYMLINK
+ '[' -z '' ']'
+ return
+ PIPELINE_CONFIG_PATH=/tmp/cfg/ssd320_full_1gpus.config
+ export TF_ENABLE_AUTO_MIXED_PRECISION=1
+ TF_ENABLE_AUTO_MIXED_PRECISION=1
++ dirname examples/SSD320_FP16_inference.sh
+ SCRIPT_DIR=examples
++ realpath examples/../object_detection/
+ OBJECT_DETECTION=/workdir/models/research/object_detection
+ PYTHONPATH=/workdir/models/research/:/workdir/models/research/slim/::/workdir/models/research/object_detection
+ python examples/SSD320_inference.py --pipeline_config_path=/tmp/cfg/ssd320_full_1gpus.config --raport_file=/tmp/summary.json
2022-03-09 16:50:20.126967: I tensorflow/stream_executor/platform/default/dso_loader.cc:48] Successfully opened dynamic library libcudart.so.11.0
WARNING:tensorflow:Deprecation warnings have been disabled. Set TF_ENABLE_DEPRECATION_WARNINGS=1 to re-enable them.
WARNING:tensorflow:From /usr/local/lib/python3.6/dist-packages/horovod-0.19.1-py3.6-linux-x86_64.egg/horovod/tensorflow/__init__.py:152: The name tf.global_variables is deprecated. Please use tf.compat.v1.global_variables instead.

WARNING:tensorflow:From /usr/local/lib/python3.6/dist-packages/horovod-0.19.1-py3.6-linux-x86_64.egg/horovod/tensorflow/__init__.py:178: The name tf.get_default_graph is deprecated. Please use tf.compat.v1.get_default_graph instead.

WARNING:tensorflow:
The TensorFlow contrib module will not be included in TensorFlow 2.0.
For more information, please see:
  * https://github.com/tensorflow/community/blob/master/rfcs/20180907-contrib-sunset.md
  * https://github.com/tensorflow/addons
  * https://github.com/tensorflow/io (for I/O related ops)
If you depend on functionality not listed there, please file an issue.

WARNING:tensorflow:From /workdir/models/research/slim/nets/inception_resnet_v2.py:373: The name tf.GraphKeys is deprecated. Please use tf.compat.v1.GraphKeys instead.

WARNING:tensorflow:From /workdir/models/research/slim/nets/mobilenet/mobilenet.py:389: The name tf.nn.avg_pool is deprecated. Please use tf.nn.avg_pool2d instead.

WARNING:tensorflow:From examples/SSD320_inference.py:67: The name tf.train.SessionRunHook is deprecated. Please use tf.estimator.SessionRunHook instead.

WARNING:tensorflow:From examples/SSD320_inference.py:122: The name tf.app.run is deprecated. Please use tf.compat.v1.app.run instead.

WARNING:tensorflow:From examples/SSD320_inference.py:106: The name tf.logging.set_verbosity is deprecated. Please use tf.compat.v1.logging.set_verbosity instead.

W0309 16:50:24.954180 139904782312192 module_wrapper.py:139] From examples/SSD320_inference.py:106: The name tf.logging.set_verbosity is deprecated. Please use tf.compat.v1.logging.set_verbosity instead.

WARNING:tensorflow:From examples/SSD320_inference.py:106: The name tf.logging.INFO is deprecated. Please use tf.compat.v1.logging.INFO instead.

W0309 16:50:24.954544 139904782312192 module_wrapper.py:139] From examples/SSD320_inference.py:106: The name tf.logging.INFO is deprecated. Please use tf.compat.v1.logging.INFO instead.

WARNING:tensorflow:From examples/SSD320_inference.py:48: The name tf.ConfigProto is deprecated. Please use tf.compat.v1.ConfigProto instead.

W0309 16:50:24.954831 139904782312192 module_wrapper.py:139] From examples/SSD320_inference.py:48: The name tf.ConfigProto is deprecated. Please use tf.compat.v1.ConfigProto instead.

WARNING:tensorflow:From /workdir/models/research/object_detection/utils/config_util.py:94: The name tf.gfile.GFile is deprecated. Please use tf.io.gfile.GFile instead.

W0309 16:50:24.955768 139904782312192 module_wrapper.py:139] From /workdir/models/research/object_detection/utils/config_util.py:94: The name tf.gfile.GFile is deprecated. Please use tf.io.gfile.GFile instead.

WARNING:tensorflow:From /workdir/models/research/object_detection/model_lib.py:590: The name tf.logging.warning is deprecated. Please use tf.compat.v1.logging.warning instead.

W0309 16:50:24.963093 139904782312192 module_wrapper.py:139] From /workdir/models/research/object_detection/model_lib.py:590: The name tf.logging.warning is deprecated. Please use tf.compat.v1.logging.warning instead.

WARNING:tensorflow:Forced number of epochs for all eval validations to be 1.
W0309 16:50:24.963273 139904782312192 model_lib.py:591] Forced number of epochs for all eval validations to be 1.
WARNING:tensorflow:From /workdir/models/research/object_detection/utils/config_util.py:480: The name tf.logging.info is deprecated. Please use tf.compat.v1.logging.info instead.

W0309 16:50:24.963497 139904782312192 module_wrapper.py:139] From /workdir/models/research/object_detection/utils/config_util.py:480: The name tf.logging.info is deprecated. Please use tf.compat.v1.logging.info instead.

INFO:tensorflow:Maybe overwriting train_steps: None
I0309 16:50:24.963671 139904782312192 config_util.py:480] Maybe overwriting train_steps: None
INFO:tensorflow:Maybe overwriting sample_1_of_n_eval_examples: 1
I0309 16:50:24.963863 139904782312192 config_util.py:480] Maybe overwriting sample_1_of_n_eval_examples: 1
INFO:tensorflow:Maybe overwriting eval_num_epochs: 1
I0309 16:50:24.964003 139904782312192 config_util.py:480] Maybe overwriting eval_num_epochs: 1
INFO:tensorflow:Maybe overwriting load_pretrained: True
I0309 16:50:24.964137 139904782312192 config_util.py:480] Maybe overwriting load_pretrained: True
INFO:tensorflow:Ignoring config override key: load_pretrained
I0309 16:50:24.964268 139904782312192 config_util.py:490] Ignoring config override key: load_pretrained
WARNING:tensorflow:Expected number of evaluation epochs is 1, but instead encountered `eval_on_train_input_config.num_epochs` = 0. Overwriting `num_epochs` to 1.
W0309 16:50:24.965222 139904782312192 model_lib.py:607] Expected number of evaluation epochs is 1, but instead encountered `eval_on_train_input_config.num_epochs` = 0. Overwriting `num_epochs` to 1.
INFO:tensorflow:create_estimator_and_inputs: use_tpu False, export_to_tpu False
I0309 16:50:24.965502 139904782312192 model_lib.py:640] create_estimator_and_inputs: use_tpu False, export_to_tpu False
WARNING:tensorflow:Using temporary folder as model directory: /tmp/tmpq7svu8bg
W0309 16:50:24.966241 139904782312192 estimator.py:1821] Using temporary folder as model directory: /tmp/tmpq7svu8bg
INFO:tensorflow:Using config: {'_model_dir': '/tmp/tmpq7svu8bg', '_tf_random_seed': None, '_save_summary_steps': 100, '_save_checkpoints_steps': 100000, '_save_checkpoints_secs': None, '_session_config': , '_keep_checkpoint_max': 5, '_keep_checkpoint_every_n_hours': 10000, '_log_step_count_steps': 100, '_train_distribute': None, '_device_fn': None, '_protocol': None, '_eval_distribute': None, '_experimental_distribute': None, '_experimental_max_worker_delay_secs': None, '_session_creation_timeout_secs': 7200, '_service': None, '_cluster_spec': <tensorflow.python.training.server_lib.ClusterSpec object at 0x7f3d7f6927b8>, '_task_type': 'worker', '_task_id': 0, '_global_id_in_cluster': 0, '_master': '', '_evaluation_master': '', '_is_chief': True, '_num_ps_replicas': 0, '_num_worker_replicas': 1}
I0309 16:50:24.966718 139904782312192 estimator.py:212] Using config: {'_model_dir': '/tmp/tmpq7svu8bg', '_tf_random_seed': None, '_save_summary_steps': 100, '_save_checkpoints_steps': 100000, '_save_checkpoints_secs': None, '_session_config': , '_keep_checkpoint_max': 5, '_keep_checkpoint_every_n_hours': 10000, '_log_step_count_steps': 100, '_train_distribute': None, '_device_fn': None, '_protocol': None, '_eval_distribute': None, '_experimental_distribute': None, '_experimental_max_worker_delay_secs': None, '_session_creation_timeout_secs': 7200, '_service': None, '_cluster_spec': <tensorflow.python.training.server_lib.ClusterSpec object at 0x7f3d7f6927b8>, '_task_type': 'worker', '_task_id': 0, '_global_id_in_cluster': 0, '_master': '', '_evaluation_master': '', '_is_chief': True, '_num_ps_replicas': 0, '_num_worker_replicas': 1}
WARNING:tensorflow:Estimator's model_fn (<function create_model_fn.<locals>.model_fn at 0x7f3d7f672d90>) includes params argument, but params are not passed to Estimator.
W0309 16:50:24.967121 139904782312192 model_fn.py:630] Estimator's model_fn (<function create_model_fn.<locals>.model_fn at 0x7f3d7f672d90>) includes params argument, but params are not passed to Estimator.
INFO:tensorflow:Could not find trained model in model_dir: /tmp/tmpq7svu8bg, running initialization to predict.
I0309 16:50:24.969438 139904782312192 estimator.py:615] Could not find trained model in model_dir: /tmp/tmpq7svu8bg, running initialization to predict.
WARNING:tensorflow:From /workdir/models/research/object_detection/data_decoders/tf_example_decoder.py:167: The name tf.FixedLenFeature is deprecated. Please use tf.io.FixedLenFeature instead.

W0309 16:50:24.977396 139904782312192 module_wrapper.py:139] From /workdir/models/research/object_detection/data_decoders/tf_example_decoder.py:167: The name tf.FixedLenFeature is deprecated. Please use tf.io.FixedLenFeature instead.

WARNING:tensorflow:From /workdir/models/research/object_detection/data_decoders/tf_example_decoder.py:182: The name tf.VarLenFeature is deprecated. Please use tf.io.VarLenFeature instead.

W0309 16:50:24.977765 139904782312192 module_wrapper.py:139] From /workdir/models/research/object_detection/data_decoders/tf_example_decoder.py:182: The name tf.VarLenFeature is deprecated. Please use tf.io.VarLenFeature instead.

WARNING:tensorflow:From /workdir/models/research/object_detection/builders/dataset_builder.py:76: The name tf.gfile.Glob is deprecated. Please use tf.io.gfile.glob instead.

W0309 16:50:25.057676 139904782312192 module_wrapper.py:139] From /workdir/models/research/object_detection/builders/dataset_builder.py:76: The name tf.gfile.Glob is deprecated. Please use tf.io.gfile.glob instead.

2022-03-09 16:50:26.175324: I tensorflow/stream_executor/platform/default/dso_loader.cc:48] Successfully opened dynamic library libcuda.so.1
2022-03-09 16:50:26.186726: I tensorflow/stream_executor/cuda/cuda_gpu_executor.cc:983] successful NUMA node read from SysFS had negative value (-1), but there must be at least one NUMA node, so returning NUMA node zero
2022-03-09 16:50:26.190768: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1639] Found device 0 with properties: 
name: Tesla V100-SXM2-16GB major: 7 minor: 0 memoryClockRate(GHz): 1.53
pciBusID: 0000:00:1e.0
2022-03-09 16:50:26.190897: I tensorflow/stream_executor/platform/default/dso_loader.cc:48] Successfully opened dynamic library libcudart.so.11.0
2022-03-09 16:50:26.195340: I tensorflow/stream_executor/platform/default/dso_loader.cc:48] Successfully opened dynamic library libcublas.so.11
2022-03-09 16:50:26.197592: I tensorflow/stream_executor/platform/default/dso_loader.cc:48] Successfully opened dynamic library libcufft.so.10
2022-03-09 16:50:26.198171: I tensorflow/stream_executor/platform/default/dso_loader.cc:48] Successfully opened dynamic library libcurand.so.10
2022-03-09 16:50:26.202949: I tensorflow/stream_executor/platform/default/dso_loader.cc:48] Successfully opened dynamic library libcusolver.so.10
2022-03-09 16:50:26.204225: I tensorflow/stream_executor/platform/default/dso_loader.cc:48] Successfully opened dynamic library libcusparse.so.11
2022-03-09 16:50:26.204590: I tensorflow/stream_executor/platform/default/dso_loader.cc:48] Successfully opened dynamic library libcudnn.so.8
2022-03-09 16:50:26.204903: I tensorflow/stream_executor/cuda/cuda_gpu_executor.cc:983] successful NUMA node read from SysFS had negative value (-1), but there must be at least one NUMA node, so returning NUMA node zero
2022-03-09 16:50:26.206820: I tensorflow/stream_executor/cuda/cuda_gpu_executor.cc:983] successful NUMA node read from SysFS had negative value (-1), but there must be at least one NUMA node, so returning NUMA node zero
2022-03-09 16:50:26.208199: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1767] Adding visible gpu devices: 0
WARNING:tensorflow:The operation `tf.image.convert_image_dtype` will be skipped since the input and output dtypes are identical.
W0309 16:50:26.235475 139904782312192 image_ops_impl.py:1776] The operation `tf.image.convert_image_dtype` will be skipped since the input and output dtypes are identical.
WARNING:tensorflow:The operation `tf.image.convert_image_dtype` will be skipped since the input and output dtypes are identical.
W0309 16:50:26.244267 139904782312192 image_ops_impl.py:1776] The operation `tf.image.convert_image_dtype` will be skipped since the input and output dtypes are identical.
WARNING:tensorflow:The operation `tf.image.convert_image_dtype` will be skipped since the input and output dtypes are identical.
W0309 16:50:26.257256 139904782312192 image_ops_impl.py:1776] The operation `tf.image.convert_image_dtype` will be skipped since the input and output dtypes are identical.
WARNING:tensorflow:The operation `tf.image.convert_image_dtype` will be skipped since the input and output dtypes are identical.
W0309 16:50:26.270745 139904782312192 image_ops_impl.py:1776] The operation `tf.image.convert_image_dtype` will be skipped since the input and output dtypes are identical.
WARNING:tensorflow:From /usr/local/lib/python3.6/dist-packages/tensorflow_core/python/autograph/converters/directives.py:119: The name tf.is_nan is deprecated. Please use tf.math.is_nan instead.

W0309 16:50:39.316033 139904782312192 module_wrapper.py:139] From /usr/local/lib/python3.6/dist-packages/tensorflow_core/python/autograph/converters/directives.py:119: The name tf.is_nan is deprecated. Please use tf.math.is_nan instead.

WARNING:tensorflow:From /usr/local/lib/python3.6/dist-packages/tensorflow_core/python/autograph/converters/directives.py:119: The name tf.image.resize_images is deprecated. Please use tf.image.resize instead.

W0309 16:50:40.313137 139904782312192 module_wrapper.py:139] From /usr/local/lib/python3.6/dist-packages/tensorflow_core/python/autograph/converters/directives.py:119: The name tf.image.resize_images is deprecated. Please use tf.image.resize instead.

WARNING:tensorflow:From /usr/local/lib/python3.6/dist-packages/tensorflow_core/python/autograph/converters/directives.py:119: The name tf.image.resize_nearest_neighbor is deprecated. Please use tf.compat.v1.image.resize_nearest_neighbor instead.

W0309 16:50:40.315137 139904782312192 module_wrapper.py:139] From /usr/local/lib/python3.6/dist-packages/tensorflow_core/python/autograph/converters/directives.py:119: The name tf.image.resize_nearest_neighbor is deprecated. Please use tf.compat.v1.image.resize_nearest_neighbor instead.

WARNING:tensorflow:From /usr/local/lib/python3.6/dist-packages/tensorflow_core/python/autograph/converters/directives.py:119: The name tf.string_to_hash_bucket_fast is deprecated. Please use tf.strings.to_hash_bucket_fast instead.

W0309 16:50:45.149646 139904782312192 module_wrapper.py:139] From /usr/local/lib/python3.6/dist-packages/tensorflow_core/python/autograph/converters/directives.py:119: The name tf.string_to_hash_bucket_fast is deprecated. Please use tf.strings.to_hash_bucket_fast instead.

WARNING:tensorflow:From /usr/local/lib/python3.6/dist-packages/tensorflow_core/python/autograph/converters/directives.py:119: The name tf.random_uniform is deprecated. Please use tf.random.uniform instead.

W0309 16:50:45.404579 139904782312192 module_wrapper.py:139] From /usr/local/lib/python3.6/dist-packages/tensorflow_core/python/autograph/converters/directives.py:119: The name tf.random_uniform is deprecated. Please use tf.random.uniform instead.

INFO:tensorflow:Calling model_fn.
I0309 16:50:46.078982 139904782312192 estimator.py:1148] Calling model_fn.
WARNING:tensorflow:From /workdir/models/research/object_detection/meta_architectures/ssd_meta_arch.py:564: The name tf.variable_scope is deprecated. Please use tf.compat.v1.variable_scope instead.

W0309 16:50:46.081273 139904782312192 module_wrapper.py:139] From /workdir/models/research/object_detection/meta_architectures/ssd_meta_arch.py:564: The name tf.variable_scope is deprecated. Please use tf.compat.v1.variable_scope instead.

WARNING:tensorflow:From /workdir/models/research/object_detection/core/anchor_generator.py:149: The name tf.assert_equal is deprecated. Please use tf.compat.v1.assert_equal instead.

W0309 16:50:48.850291 139904782312192 module_wrapper.py:139] From /workdir/models/research/object_detection/core/anchor_generator.py:149: The name tf.assert_equal is deprecated. Please use tf.compat.v1.assert_equal instead.

WARNING:tensorflow:From /workdir/models/research/object_detection/predictors/convolutional_box_predictor.py:383: The name tf.AUTO_REUSE is deprecated. Please use tf.compat.v1.AUTO_REUSE instead.

W0309 16:50:49.705047 139904782312192 module_wrapper.py:139] From /workdir/models/research/object_detection/predictors/convolutional_box_predictor.py:383: The name tf.AUTO_REUSE is deprecated. Please use tf.compat.v1.AUTO_REUSE instead.

WARNING:tensorflow:From /workdir/models/research/object_detection/exporter.py:231: The name tf.add_to_collection is deprecated. Please use tf.compat.v1.add_to_collection instead.

W0309 16:50:55.203070 139904782312192 module_wrapper.py:139] From /workdir/models/research/object_detection/exporter.py:231: The name tf.add_to_collection is deprecated. Please use tf.compat.v1.add_to_collection instead.

WARNING:tensorflow:From /workdir/models/research/object_detection/model_lib.py:402: The name tf.saved_model.signature_constants.PREDICT_METHOD_NAME is deprecated. Please use tf.saved_model.PREDICT_METHOD_NAME instead.

W0309 16:50:55.203748 139904782312192 module_wrapper.py:139] From /workdir/models/research/object_detection/model_lib.py:402: The name tf.saved_model.signature_constants.PREDICT_METHOD_NAME is deprecated. Please use tf.saved_model.PREDICT_METHOD_NAME instead.

WARNING:tensorflow:From /workdir/models/research/object_detection/model_lib.py:487: The name tf.train.Saver is deprecated. Please use tf.compat.v1.train.Saver instead.

W0309 16:50:55.204154 139904782312192 module_wrapper.py:139] From /workdir/models/research/object_detection/model_lib.py:487: The name tf.train.Saver is deprecated. Please use tf.compat.v1.train.Saver instead.

WARNING:tensorflow:From /workdir/models/research/object_detection/model_lib.py:492: The name tf.train.Scaffold is deprecated. Please use tf.compat.v1.train.Scaffold instead.

W0309 16:50:55.777801 139904782312192 module_wrapper.py:139] From /workdir/models/research/object_detection/model_lib.py:492: The name tf.train.Scaffold is deprecated. Please use tf.compat.v1.train.Scaffold instead.

INFO:tensorflow:Done calling model_fn.
I0309 16:50:55.778398 139904782312192 estimator.py:1150] Done calling model_fn.
INFO:tensorflow:Graph was finalized.
I0309 16:50:56.672612 139904782312192 monitored_session.py:240] Graph was finalized.
2022-03-09 16:50:56.695994: I tensorflow/core/platform/profile_utils/cpu_utils.cc:94] CPU Frequency: 2300010000 Hz
2022-03-09 16:50:56.700814: I tensorflow/compiler/xla/service/service.cc:168] XLA service 0x6345940 initialized for platform Host (this does not guarantee that XLA will be used). Devices:
2022-03-09 16:50:56.701738: I tensorflow/compiler/xla/service/service.cc:176]   StreamExecutor device (0): Host, Default Version
2022-03-09 16:50:56.947781: I tensorflow/stream_executor/cuda/cuda_gpu_executor.cc:983] successful NUMA node read from SysFS had negative value (-1), but there must be at least one NUMA node, so returning NUMA node zero
2022-03-09 16:50:56.949568: I tensorflow/compiler/xla/service/service.cc:168] XLA service 0x6344730 initialized for platform CUDA (this does not guarantee that XLA will be used). Devices:
2022-03-09 16:50:56.949621: I tensorflow/compiler/xla/service/service.cc:176]   StreamExecutor device (0): Tesla V100-SXM2-16GB, Compute Capability 7.0
2022-03-09 16:50:56.949946: I tensorflow/stream_executor/cuda/cuda_gpu_executor.cc:983] successful NUMA node read from SysFS had negative value (-1), but there must be at least one NUMA node, so returning NUMA node zero
2022-03-09 16:50:56.951313: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1639] Found device 0 with properties: 
name: Tesla V100-SXM2-16GB major: 7 minor: 0 memoryClockRate(GHz): 1.53
pciBusID: 0000:00:1e.0
2022-03-09 16:50:56.951458: I tensorflow/stream_executor/platform/default/dso_loader.cc:48] Successfully opened dynamic library libcudart.so.11.0
2022-03-09 16:50:56.951608: I tensorflow/stream_executor/platform/default/dso_loader.cc:48] Successfully opened dynamic library libcublas.so.11
2022-03-09 16:50:56.951738: I tensorflow/stream_executor/platform/default/dso_loader.cc:48] Successfully opened dynamic library libcufft.so.10
2022-03-09 16:50:56.951846: I tensorflow/stream_executor/platform/default/dso_loader.cc:48] Successfully opened dynamic library libcurand.so.10
2022-03-09 16:50:56.951939: I tensorflow/stream_executor/platform/default/dso_loader.cc:48] Successfully opened dynamic library libcusolver.so.10
2022-03-09 16:50:56.952030: I tensorflow/stream_executor/platform/default/dso_loader.cc:48] Successfully opened dynamic library libcusparse.so.11
2022-03-09 16:50:56.952122: I tensorflow/stream_executor/platform/default/dso_loader.cc:48] Successfully opened dynamic library libcudnn.so.8
2022-03-09 16:50:56.952324: I tensorflow/stream_executor/cuda/cuda_gpu_executor.cc:983] successful NUMA node read from SysFS had negative value (-1), but there must be at least one NUMA node, so returning NUMA node zero
2022-03-09 16:50:56.953223: I tensorflow/stream_executor/cuda/cuda_gpu_executor.cc:983] successful NUMA node read from SysFS had negative value (-1), but there must be at least one NUMA node, so returning NUMA node zero
2022-03-09 16:50:56.954195: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1767] Adding visible gpu devices: 0
2022-03-09 16:50:56.954340: I tensorflow/stream_executor/platform/default/dso_loader.cc:48] Successfully opened dynamic library libcudart.so.11.0
2022-03-09 16:50:57.593251: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1180] Device interconnect StreamExecutor with strength 1 edge matrix:
2022-03-09 16:50:57.593322: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1186]      0 
2022-03-09 16:50:57.593344: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1199] 0:   N 
2022-03-09 16:50:57.595246: I tensorflow/stream_executor/cuda/cuda_gpu_executor.cc:983] successful NUMA node read from SysFS had negative value (-1), but there must be at least one NUMA node, so returning NUMA node zero
2022-03-09 16:50:57.596306: I tensorflow/stream_executor/cuda/cuda_gpu_executor.cc:983] successful NUMA node read from SysFS had negative value (-1), but there must be at least one NUMA node, so returning NUMA node zero
2022-03-09 16:50:57.597193: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1325] Created TensorFlow device (/job:localhost/replica:0/task:0/device:GPU:0 with 2044 MB memory) -> physical GPU (device: 0, name: Tesla V100-SXM2-16GB, pci bus id: 0000:00:1e.0, compute capability: 7.0)
2022-03-09 16:50:58.821950: I tensorflow/core/grappler/optimizers/auto_mixed_precision.cc:1987] Running auto_mixed_precision graph optimizer
2022-03-09 16:50:58.835402: I tensorflow/core/grappler/optimizers/auto_mixed_precision.cc:1343] No whitelist ops found, nothing to do
2022-03-09 16:51:01.112367: I tensorflow/core/grappler/optimizers/auto_mixed_precision.cc:1987] Running auto_mixed_precision graph optimizer
2022-03-09 16:51:01.119381: I tensorflow/core/grappler/optimizers/auto_mixed_precision.cc:1343] No whitelist ops found, nothing to do
INFO:tensorflow:Running local_init_op.
I0309 16:51:01.913176 139904782312192 session_manager.py:500] Running local_init_op.
2022-03-09 16:51:02.193402: I tensorflow/core/grappler/optimizers/auto_mixed_precision.cc:1987] Running auto_mixed_precision graph optimizer
2022-03-09 16:51:02.193887: I tensorflow/core/grappler/optimizers/auto_mixed_precision.cc:1343] No whitelist ops found, nothing to do
INFO:tensorflow:Done running local_init_op.
I0309 16:51:02.263437 139904782312192 session_manager.py:502] Done running local_init_op.
2022-03-09 16:51:02.717256: I tensorflow/core/grappler/optimizers/auto_mixed_precision.cc:1987] Running auto_mixed_precision graph optimizer
2022-03-09 16:51:02.726217: I tensorflow/core/grappler/optimizers/auto_mixed_precision.cc:1343] No whitelist ops found, nothing to do
2022-03-09 16:51:03.821226: I tensorflow/core/grappler/optimizers/auto_mixed_precision.cc:1987] Running auto_mixed_precision graph optimizer
2022-03-09 16:51:03.822085: I tensorflow/core/grappler/optimizers/auto_mixed_precision.cc:1343] No whitelist ops found, nothing to do
2022-03-09 16:51:03.872312: I tensorflow/core/grappler/optimizers/auto_mixed_precision.cc:1343] No whitelist ops found, nothing to do
2022-03-09 16:51:03.902591: I tensorflow/core/grappler/optimizers/auto_mixed_precision.cc:1343] No whitelist ops found, nothing to do
2022-03-09 16:51:03.921545: I tensorflow/core/grappler/optimizers/auto_mixed_precision.cc:1343] No whitelist ops found, nothing to do
2022-03-09 16:51:03.924827: I tensorflow/core/grappler/optimizers/auto_mixed_precision.cc:1343] No whitelist ops found, nothing to do
2022-03-09 16:51:03.928092: I tensorflow/core/grappler/optimizers/auto_mixed_precision.cc:1343] No whitelist ops found, nothing to do
2022-03-09 16:51:03.931731: I tensorflow/core/grappler/optimizers/auto_mixed_precision.cc:1343] No whitelist ops found, nothing to do
2022-03-09 16:51:03.934410: I tensorflow/core/grappler/optimizers/auto_mixed_precision.cc:1343] No whitelist ops found, nothing to do
2022-03-09 16:51:03.955933: I tensorflow/core/grappler/optimizers/auto_mixed_precision.cc:1343] No whitelist ops found, nothing to do
2022-03-09 16:51:03.976553: I tensorflow/core/grappler/optimizers/auto_mixed_precision.cc:1343] No whitelist ops found, nothing to do
2022-03-09 16:51:04.201355: I tensorflow/core/grappler/optimizers/auto_mixed_precision.cc:1343] No whitelist ops found, nothing to do
2022-03-09 16:51:04.319274: I tensorflow/core/grappler/optimizers/auto_mixed_precision.cc:1343] No whitelist ops found, nothing to do
2022-03-09 16:51:04.324572: I tensorflow/core/grappler/optimizers/auto_mixed_precision.cc:1343] No whitelist ops found, nothing to do
2022-03-09 16:51:04.329583: I tensorflow/core/grappler/optimizers/auto_mixed_precision.cc:1343] No whitelist ops found, nothing to do
2022-03-09 16:51:04.334271: I tensorflow/core/grappler/optimizers/auto_mixed_precision.cc:1343] No whitelist ops found, nothing to do
2022-03-09 16:51:04.337087: I tensorflow/core/grappler/optimizers/auto_mixed_precision.cc:1343] No whitelist ops found, nothing to do
2022-03-09 16:51:04.341858: I tensorflow/core/grappler/optimizers/auto_mixed_precision.cc:1343] No whitelist ops found, nothing to do
2022-03-09 16:51:04.346038: I tensorflow/core/grappler/optimizers/auto_mixed_precision.cc:1343] No whitelist ops found, nothing to do
2022-03-09 16:51:04.363022: I tensorflow/core/grappler/optimizers/auto_mixed_precision.cc:1343] No whitelist ops found, nothing to do
2022-03-09 16:51:04.375549: I tensorflow/core/grappler/optimizers/auto_mixed_precision.cc:1343] No whitelist ops found, nothing to do
2022-03-09 16:51:04.378643: I tensorflow/core/grappler/optimizers/auto_mixed_precision.cc:1343] No whitelist ops found, nothing to do
2022-03-09 16:51:04.381371: I tensorflow/core/grappler/optimizers/auto_mixed_precision.cc:1343] No whitelist ops found, nothing to do
2022-03-09 16:51:04.384730: I tensorflow/core/grappler/optimizers/auto_mixed_precision.cc:1343] No whitelist ops found, nothing to do
2022-03-09 16:51:04.388334: I tensorflow/core/grappler/optimizers/auto_mixed_precision.cc:1343] No whitelist ops found, nothing to do
2022-03-09 16:51:06.646209: I tensorflow/core/grappler/optimizers/auto_mixed_precision.cc:1987] Running auto_mixed_precision graph optimizer
2022-03-09 16:51:06.690945: I tensorflow/core/grappler/optimizers/auto_mixed_precision.cc:1035] Automatic Mixed Precision Grappler Pass Summary:

Total processable nodes: 3870
Recognized nodes available for conversion: 3198
Total nodes converted: 300
Total FP16 Cast ops used (excluding Const and Variable casts): 1
Whitelisted nodes converted: 110
Blacklisted nodes blocking conversion: 4
Nodes blocked from conversion by blacklisted nodes: 8

For more information regarding mixed precision training, including how to make automatic mixed precision aware of a custom op type, please see the documentation available here:
https://docs.nvidia.com/deeplearning/frameworks/tensorflow-user-guide/index.html#tfamp


2022-03-09 16:51:08.819322: I tensorflow/stream_executor/platform/default/dso_loader.cc:48] Successfully opened dynamic library libcudnn.so.8
2022-03-09 16:51:10.462447: I tensorflow/stream_executor/platform/default/dso_loader.cc:48] Successfully opened dynamic library libcublas.so.11
INFO:tensorflow:Latency 90%: 149.50 ms
I0309 16:52:00.016159 139904782312192 SSD320_inference.py:100] Latency 90%: 149.50 ms
INFO:tensorflow:Latency 95%: 161.25 ms
I0309 16:52:00.016986 139904782312192 SSD320_inference.py:100] Latency 95%: 161.25 ms
INFO:tensorflow:Latency 99%: 186.48 ms
I0309 16:52:00.017735 139904782312192 SSD320_inference.py:100] Latency 99%: 186.48 ms

Benchmark result: 9.323901871673971 img/s
+ count=11
+ echo INFERENCE_LOOP_COUNT=11
INFERENCE_LOOP_COUNT=11
+ [[ -n 20 ]]
+ minutes=18
+ [[ 18 -ge 20 ]]
+ true
+ bash -x examples/SSD320_FP16_inference.sh /tmp/cfg --raport_file=/tmp/summary.json
+ test -f /etc/shinit_v2
+ source /etc/shinit_v2
+++ sed -n 's/^NVRM.*Kernel Module *\([^() ]*\).*$/\1/p' /proc/driver/nvidia/version
+++ sed 's/^$/unknown/'
++ NV_DRIVER_VERS=
++ export _CUDA_COMPAT_PATH=/usr/local/cuda/compat
++ _CUDA_COMPAT_PATH=/usr/local/cuda/compat
+++ hostname
++ _CUDA_COMPAT_CHECKFILE=/usr/local/cuda/compat/..ssd-inference-4-0-0.checked
++ _CUDA_COMPAT_REALLIB=/usr/local/cuda/compat/lib.real
++ _CUDA_COMPAT_SYMLINK=/usr/local/cuda/compat/lib
++ '[' -n '' -a -e /dev/nvidiactl -a '!' -e /usr/local/cuda/compat/..ssd-inference-4-0-0.checked ']'
++ unset _CUDA_COMPAT_CHECKFILE
++ unset _CUDA_COMPAT_REALLIB
++ unset _CUDA_COMPAT_SYMLINK
+ '[' -z '' ']'
+ return
+ PIPELINE_CONFIG_PATH=/tmp/cfg/ssd320_full_1gpus.config
+ export TF_ENABLE_AUTO_MIXED_PRECISION=1
+ TF_ENABLE_AUTO_MIXED_PRECISION=1
++ dirname examples/SSD320_FP16_inference.sh
+ SCRIPT_DIR=examples
++ realpath examples/../object_detection/
+ OBJECT_DETECTION=/workdir/models/research/object_detection
+ PYTHONPATH=/workdir/models/research/:/workdir/models/research/slim/::/workdir/models/research/object_detection
+ python examples/SSD320_inference.py --pipeline_config_path=/tmp/cfg/ssd320_full_1gpus.config --raport_file=/tmp/summary.json
2022-03-09 16:52:02.124662: I tensorflow/stream_executor/platform/default/dso_loader.cc:48] Successfully opened dynamic library libcudart.so.11.0
WARNING:tensorflow:Deprecation warnings have been disabled. Set TF_ENABLE_DEPRECATION_WARNINGS=1 to re-enable them.
WARNING:tensorflow:From /usr/local/lib/python3.6/dist-packages/horovod-0.19.1-py3.6-linux-x86_64.egg/horovod/tensorflow/__init__.py:152: The name tf.global_variables is deprecated. Please use tf.compat.v1.global_variables instead.

WARNING:tensorflow:From /usr/local/lib/python3.6/dist-packages/horovod-0.19.1-py3.6-linux-x86_64.egg/horovod/tensorflow/__init__.py:178: The name tf.get_default_graph is deprecated. Please use tf.compat.v1.get_default_graph instead.

WARNING:tensorflow:
The TensorFlow contrib module will not be included in TensorFlow 2.0.
For more information, please see:
  * https://github.com/tensorflow/community/blob/master/rfcs/20180907-contrib-sunset.md
  * https://github.com/tensorflow/addons
  * https://github.com/tensorflow/io (for I/O related ops)
If you depend on functionality not listed there, please file an issue.

WARNING:tensorflow:From /workdir/models/research/slim/nets/inception_resnet_v2.py:373: The name tf.GraphKeys is deprecated. Please use tf.compat.v1.GraphKeys instead.

WARNING:tensorflow:From /workdir/models/research/slim/nets/mobilenet/mobilenet.py:389: The name tf.nn.avg_pool is deprecated. Please use tf.nn.avg_pool2d instead.

WARNING:tensorflow:From examples/SSD320_inference.py:67: The name tf.train.SessionRunHook is deprecated. Please use tf.estimator.SessionRunHook instead.

WARNING:tensorflow:From examples/SSD320_inference.py:122: The name tf.app.run is deprecated. Please use tf.compat.v1.app.run instead.

WARNING:tensorflow:From examples/SSD320_inference.py:106: The name tf.logging.set_verbosity is deprecated. Please use tf.compat.v1.logging.set_verbosity instead.

W0309 16:52:07.228243 139929489867520 module_wrapper.py:139] From examples/SSD320_inference.py:106: The name tf.logging.set_verbosity is deprecated. Please use tf.compat.v1.logging.set_verbosity instead.

WARNING:tensorflow:From examples/SSD320_inference.py:106: The name tf.logging.INFO is deprecated. Please use tf.compat.v1.logging.INFO instead.

W0309 16:52:07.228533 139929489867520 module_wrapper.py:139] From examples/SSD320_inference.py:106: The name tf.logging.INFO is deprecated. Please use tf.compat.v1.logging.INFO instead.

WARNING:tensorflow:From examples/SSD320_inference.py:48: The name tf.ConfigProto is deprecated. Please use tf.compat.v1.ConfigProto instead.

W0309 16:52:07.228815 139929489867520 module_wrapper.py:139] From examples/SSD320_inference.py:48: The name tf.ConfigProto is deprecated. Please use tf.compat.v1.ConfigProto instead.

WARNING:tensorflow:From /workdir/models/research/object_detection/utils/config_util.py:94: The name tf.gfile.GFile is deprecated. Please use tf.io.gfile.GFile instead.

W0309 16:52:07.229537 139929489867520 module_wrapper.py:139] From /workdir/models/research/object_detection/utils/config_util.py:94: The name tf.gfile.GFile is deprecated. Please use tf.io.gfile.GFile instead.

WARNING:tensorflow:From /workdir/models/research/object_detection/model_lib.py:590: The name tf.logging.warning is deprecated. Please use tf.compat.v1.logging.warning instead.

W0309 16:52:07.237105 139929489867520 module_wrapper.py:139] From /workdir/models/research/object_detection/model_lib.py:590: The name tf.logging.warning is deprecated. Please use tf.compat.v1.logging.warning instead.

WARNING:tensorflow:Forced number of epochs for all eval validations to be 1.
W0309 16:52:07.237300 139929489867520 model_lib.py:591] Forced number of epochs for all eval validations to be 1.
WARNING:tensorflow:From /workdir/models/research/object_detection/utils/config_util.py:480: The name tf.logging.info is deprecated. Please use tf.compat.v1.logging.info instead.

W0309 16:52:07.237533 139929489867520 module_wrapper.py:139] From /workdir/models/research/object_detection/utils/config_util.py:480: The name tf.logging.info is deprecated. Please use tf.compat.v1.logging.info instead.

INFO:tensorflow:Maybe overwriting train_steps: None
I0309 16:52:07.237735 139929489867520 config_util.py:480] Maybe overwriting train_steps: None
INFO:tensorflow:Maybe overwriting sample_1_of_n_eval_examples: 1
I0309 16:52:07.237909 139929489867520 config_util.py:480] Maybe overwriting sample_1_of_n_eval_examples: 1
INFO:tensorflow:Maybe overwriting eval_num_epochs: 1
I0309 16:52:07.238076 139929489867520 config_util.py:480] Maybe overwriting eval_num_epochs: 1
INFO:tensorflow:Maybe overwriting load_pretrained: True
I0309 16:52:07.238222 139929489867520 config_util.py:480] Maybe overwriting load_pretrained: True
INFO:tensorflow:Ignoring config override key: load_pretrained
I0309 16:52:07.238377 139929489867520 config_util.py:490] Ignoring config override key: load_pretrained
WARNING:tensorflow:Expected number of evaluation epochs is 1, but instead encountered `eval_on_train_input_config.num_epochs` = 0. Overwriting `num_epochs` to 1.
W0309 16:52:07.239324 139929489867520 model_lib.py:607] Expected number of evaluation epochs is 1, but instead encountered `eval_on_train_input_config.num_epochs` = 0. Overwriting `num_epochs` to 1.
INFO:tensorflow:create_estimator_and_inputs: use_tpu False, export_to_tpu False
I0309 16:52:07.239515 139929489867520 model_lib.py:640] create_estimator_and_inputs: use_tpu False, export_to_tpu False
WARNING:tensorflow:Using temporary folder as model directory: /tmp/tmp589ymk9r
W0309 16:52:07.240233 139929489867520 estimator.py:1821] Using temporary folder as model directory: /tmp/tmp589ymk9r
INFO:tensorflow:Using config: {'_model_dir': '/tmp/tmp589ymk9r', '_tf_random_seed': None, '_save_summary_steps': 100, '_save_checkpoints_steps': 100000, '_save_checkpoints_secs': None, '_session_config': , '_keep_checkpoint_max': 5, '_keep_checkpoint_every_n_hours': 10000, '_log_step_count_steps': 100, '_train_distribute': None, '_device_fn': None, '_protocol': None, '_eval_distribute': None, '_experimental_distribute': None, '_experimental_max_worker_delay_secs': None, '_session_creation_timeout_secs': 7200, '_service': None, '_cluster_spec': <tensorflow.python.training.server_lib.ClusterSpec object at 0x7f4340157f98>, '_task_type': 'worker', '_task_id': 0, '_global_id_in_cluster': 0, '_master': '', '_evaluation_master': '', '_is_chief': True, '_num_ps_replicas': 0, '_num_worker_replicas': 1}
I0309 16:52:07.240718 139929489867520 estimator.py:212] Using config: {'_model_dir': '/tmp/tmp589ymk9r', '_tf_random_seed': None, '_save_summary_steps': 100, '_save_checkpoints_steps': 100000, '_save_checkpoints_secs': None, '_session_config': , '_keep_checkpoint_max': 5, '_keep_checkpoint_every_n_hours': 10000, '_log_step_count_steps': 100, '_train_distribute': None, '_device_fn': None, '_protocol': None, '_eval_distribute': None, '_experimental_distribute': None, '_experimental_max_worker_delay_secs': None, '_session_creation_timeout_secs': 7200, '_service': None, '_cluster_spec': <tensorflow.python.training.server_lib.ClusterSpec object at 0x7f4340157f98>, '_task_type': 'worker', '_task_id': 0, '_global_id_in_cluster': 0, '_master': '', '_evaluation_master': '', '_is_chief': True, '_num_ps_replicas': 0, '_num_worker_replicas': 1}
WARNING:tensorflow:Estimator's model_fn (<function create_model_fn.<locals>.model_fn at 0x7f434016cd90>) includes params argument, but params are not passed to Estimator.
W0309 16:52:07.241061 139929489867520 model_fn.py:630] Estimator's model_fn (<function create_model_fn.<locals>.model_fn at 0x7f434016cd90>) includes params argument, but params are not passed to Estimator.
INFO:tensorflow:Could not find trained model in model_dir: /tmp/tmp589ymk9r, running initialization to predict.
I0309 16:52:07.243952 139929489867520 estimator.py:615] Could not find trained model in model_dir: /tmp/tmp589ymk9r, running initialization to predict.
WARNING:tensorflow:From /workdir/models/research/object_detection/data_decoders/tf_example_decoder.py:167: The name tf.FixedLenFeature is deprecated. Please use tf.io.FixedLenFeature instead.

W0309 16:52:07.251989 139929489867520 module_wrapper.py:139] From /workdir/models/research/object_detection/data_decoders/tf_example_decoder.py:167: The name tf.FixedLenFeature is deprecated. Please use tf.io.FixedLenFeature instead.

WARNING:tensorflow:From /workdir/models/research/object_detection/data_decoders/tf_example_decoder.py:182: The name tf.VarLenFeature is deprecated. Please use tf.io.VarLenFeature instead.

W0309 16:52:07.252336 139929489867520 module_wrapper.py:139] From /workdir/models/research/object_detection/data_decoders/tf_example_decoder.py:182: The name tf.VarLenFeature is deprecated. Please use tf.io.VarLenFeature instead.

WARNING:tensorflow:From /workdir/models/research/object_detection/builders/dataset_builder.py:76: The name tf.gfile.Glob is deprecated. Please use tf.io.gfile.glob instead.

W0309 16:52:07.337214 139929489867520 module_wrapper.py:139] From /workdir/models/research/object_detection/builders/dataset_builder.py:76: The name tf.gfile.Glob is deprecated. Please use tf.io.gfile.glob instead.

2022-03-09 16:52:08.439727: I tensorflow/stream_executor/platform/default/dso_loader.cc:48] Successfully opened dynamic library libcuda.so.1
2022-03-09 16:52:08.462170: I tensorflow/stream_executor/cuda/cuda_gpu_executor.cc:983] successful NUMA node read from SysFS had negative value (-1), but there must be at least one NUMA node, so returning NUMA node zero
2022-03-09 16:52:08.465930: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1639] Found device 0 with properties: 
name: Tesla V100-SXM2-16GB major: 7 minor: 0 memoryClockRate(GHz): 1.53
pciBusID: 0000:00:1e.0
2022-03-09 16:52:08.466005: I tensorflow/stream_executor/platform/default/dso_loader.cc:48] Successfully opened dynamic library libcudart.so.11.0
2022-03-09 16:52:08.470675: I tensorflow/stream_executor/platform/default/dso_loader.cc:48] Successfully opened dynamic library libcublas.so.11
2022-03-09 16:52:08.472867: I tensorflow/stream_executor/platform/default/dso_loader.cc:48] Successfully opened dynamic library libcufft.so.10
2022-03-09 16:52:08.473380: I tensorflow/stream_executor/platform/default/dso_loader.cc:48] Successfully opened dynamic library libcurand.so.10
2022-03-09 16:52:08.478098: I tensorflow/stream_executor/platform/default/dso_loader.cc:48] Successfully opened dynamic library libcusolver.so.10
2022-03-09 16:52:08.479348: I tensorflow/stream_executor/platform/default/dso_loader.cc:48] Successfully opened dynamic library libcusparse.so.11
2022-03-09 16:52:08.479669: I tensorflow/stream_executor/platform/default/dso_loader.cc:48] Successfully opened dynamic library libcudnn.so.8
2022-03-09 16:52:08.479904: I tensorflow/stream_executor/cuda/cuda_gpu_executor.cc:983] successful NUMA node read from SysFS had negative value (-1), but there must be at least one NUMA node, so returning NUMA node zero
2022-03-09 16:52:08.481290: I tensorflow/stream_executor/cuda/cuda_gpu_executor.cc:983] successful NUMA node read from SysFS had negative value (-1), but there must be at least one NUMA node, so returning NUMA node zero
2022-03-09 16:52:08.482474: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1767] Adding visible gpu devices: 0
WARNING:tensorflow:The operation `tf.image.convert_image_dtype` will be skipped since the input and output dtypes are identical.
W0309 16:52:08.508920 139929489867520 image_ops_impl.py:1776] The operation `tf.image.convert_image_dtype` will be skipped since the input and output dtypes are identical.
WARNING:tensorflow:The operation `tf.image.convert_image_dtype` will be skipped since the input and output dtypes are identical.
W0309 16:52:08.517551 139929489867520 image_ops_impl.py:1776] The operation `tf.image.convert_image_dtype` will be skipped since the input and output dtypes are identical.
WARNING:tensorflow:The operation `tf.image.convert_image_dtype` will be skipped since the input and output dtypes are identical.
W0309 16:52:08.530238 139929489867520 image_ops_impl.py:1776] The operation `tf.image.convert_image_dtype` will be skipped since the input and output dtypes are identical.
WARNING:tensorflow:The operation `tf.image.convert_image_dtype` will be skipped since the input and output dtypes are identical.
W0309 16:52:08.543680 139929489867520 image_ops_impl.py:1776] The operation `tf.image.convert_image_dtype` will be skipped since the input and output dtypes are identical.
WARNING:tensorflow:From /usr/local/lib/python3.6/dist-packages/tensorflow_core/python/autograph/converters/directives.py:119: The name tf.is_nan is deprecated. Please use tf.math.is_nan instead.

W0309 16:52:19.627289 139929489867520 module_wrapper.py:139] From /usr/local/lib/python3.6/dist-packages/tensorflow_core/python/autograph/converters/directives.py:119: The name tf.is_nan is deprecated. Please use tf.math.is_nan instead.

WARNING:tensorflow:From /usr/local/lib/python3.6/dist-packages/tensorflow_core/python/autograph/converters/directives.py:119: The name tf.image.resize_images is deprecated. Please use tf.image.resize instead.

W0309 16:52:20.548745 139929489867520 module_wrapper.py:139] From /usr/local/lib/python3.6/dist-packages/tensorflow_core/python/autograph/converters/directives.py:119: The name tf.image.resize_images is deprecated. Please use tf.image.resize instead.

WARNING:tensorflow:From /usr/local/lib/python3.6/dist-packages/tensorflow_core/python/autograph/converters/directives.py:119: The name tf.image.resize_nearest_neighbor is deprecated. Please use tf.compat.v1.image.resize_nearest_neighbor instead.

W0309 16:52:20.549955 139929489867520 module_wrapper.py:139] From /usr/local/lib/python3.6/dist-packages/tensorflow_core/python/autograph/converters/directives.py:119: The name tf.image.resize_nearest_neighbor is deprecated. Please use tf.compat.v1.image.resize_nearest_neighbor instead.

WARNING:tensorflow:From /usr/local/lib/python3.6/dist-packages/tensorflow_core/python/autograph/converters/directives.py:119: The name tf.string_to_hash_bucket_fast is deprecated. Please use tf.strings.to_hash_bucket_fast instead.

W0309 16:52:25.108204 139929489867520 module_wrapper.py:139] From /usr/local/lib/python3.6/dist-packages/tensorflow_core/python/autograph/converters/directives.py:119: The name tf.string_to_hash_bucket_fast is deprecated. Please use tf.strings.to_hash_bucket_fast instead.

WARNING:tensorflow:From /usr/local/lib/python3.6/dist-packages/tensorflow_core/python/autograph/converters/directives.py:119: The name tf.random_uniform is deprecated. Please use tf.random.uniform instead.

W0309 16:52:25.370890 139929489867520 module_wrapper.py:139] From /usr/local/lib/python3.6/dist-packages/tensorflow_core/python/autograph/converters/directives.py:119: The name tf.random_uniform is deprecated. Please use tf.random.uniform instead.

INFO:tensorflow:Calling model_fn.
I0309 16:52:26.056052 139929489867520 estimator.py:1148] Calling model_fn.
WARNING:tensorflow:From /workdir/models/research/object_detection/meta_architectures/ssd_meta_arch.py:564: The name tf.variable_scope is deprecated. Please use tf.compat.v1.variable_scope instead.

W0309 16:52:26.057434 139929489867520 module_wrapper.py:139] From /workdir/models/research/object_detection/meta_architectures/ssd_meta_arch.py:564: The name tf.variable_scope is deprecated. Please use tf.compat.v1.variable_scope instead.

WARNING:tensorflow:From /workdir/models/research/object_detection/core/anchor_generator.py:149: The name tf.assert_equal is deprecated. Please use tf.compat.v1.assert_equal instead.

W0309 16:52:28.604651 139929489867520 module_wrapper.py:139] From /workdir/models/research/object_detection/core/anchor_generator.py:149: The name tf.assert_equal is deprecated. Please use tf.compat.v1.assert_equal instead.

WARNING:tensorflow:From /workdir/models/research/object_detection/predictors/convolutional_box_predictor.py:383: The name tf.AUTO_REUSE is deprecated. Please use tf.compat.v1.AUTO_REUSE instead.

W0309 16:52:29.471650 139929489867520 module_wrapper.py:139] From /workdir/models/research/object_detection/predictors/convolutional_box_predictor.py:383: The name tf.AUTO_REUSE is deprecated. Please use tf.compat.v1.AUTO_REUSE instead.

WARNING:tensorflow:From /workdir/models/research/object_detection/exporter.py:231: The name tf.add_to_collection is deprecated. Please use tf.compat.v1.add_to_collection instead.

W0309 16:52:34.892084 139929489867520 module_wrapper.py:139] From /workdir/models/research/object_detection/exporter.py:231: The name tf.add_to_collection is deprecated. Please use tf.compat.v1.add_to_collection instead.

WARNING:tensorflow:From /workdir/models/research/object_detection/model_lib.py:402: The name tf.saved_model.signature_constants.PREDICT_METHOD_NAME is deprecated. Please use tf.saved_model.PREDICT_METHOD_NAME instead.

W0309 16:52:34.892520 139929489867520 module_wrapper.py:139] From /workdir/models/research/object_detection/model_lib.py:402: The name tf.saved_model.signature_constants.PREDICT_METHOD_NAME is deprecated. Please use tf.saved_model.PREDICT_METHOD_NAME instead.

WARNING:tensorflow:From /workdir/models/research/object_detection/model_lib.py:487: The name tf.train.Saver is deprecated. Please use tf.compat.v1.train.Saver instead.

W0309 16:52:34.893006 139929489867520 module_wrapper.py:139] From /workdir/models/research/object_detection/model_lib.py:487: The name tf.train.Saver is deprecated. Please use tf.compat.v1.train.Saver instead.

WARNING:tensorflow:From /workdir/models/research/object_detection/model_lib.py:492: The name tf.train.Scaffold is deprecated. Please use tf.compat.v1.train.Scaffold instead.

W0309 16:52:35.464739 139929489867520 module_wrapper.py:139] From /workdir/models/research/object_detection/model_lib.py:492: The name tf.train.Scaffold is deprecated. Please use tf.compat.v1.train.Scaffold instead.

INFO:tensorflow:Done calling model_fn.
I0309 16:52:35.465381 139929489867520 estimator.py:1150] Done calling model_fn.
INFO:tensorflow:Graph was finalized.
I0309 16:52:36.367777 139929489867520 monitored_session.py:240] Graph was finalized.
2022-03-09 16:52:36.382379: I tensorflow/core/platform/profile_utils/cpu_utils.cc:94] CPU Frequency: 2300010000 Hz
2022-03-09 16:52:36.383137: I tensorflow/compiler/xla/service/service.cc:168] XLA service 0x6ba4460 initialized for platform Host (this does not guarantee that XLA will be used). Devices:
2022-03-09 16:52:36.383222: I tensorflow/compiler/xla/service/service.cc:176]   StreamExecutor device (0): Host, Default Version
2022-03-09 16:52:36.609230: I tensorflow/stream_executor/cuda/cuda_gpu_executor.cc:983] successful NUMA node read from SysFS had negative value (-1), but there must be at least one NUMA node, so returning NUMA node zero
2022-03-09 16:52:36.610612: I tensorflow/compiler/xla/service/service.cc:168] XLA service 0x6b7b200 initialized for platform CUDA (this does not guarantee that XLA will be used). Devices:
2022-03-09 16:52:36.610653: I tensorflow/compiler/xla/service/service.cc:176]   StreamExecutor device (0): Tesla V100-SXM2-16GB, Compute Capability 7.0
2022-03-09 16:52:36.610929: I tensorflow/stream_executor/cuda/cuda_gpu_executor.cc:983] successful NUMA node read from SysFS had negative value (-1), but there must be at least one NUMA node, so returning NUMA node zero
2022-03-09 16:52:36.611597: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1639] Found device 0 with properties: 
name: Tesla V100-SXM2-16GB major: 7 minor: 0 memoryClockRate(GHz): 1.53
pciBusID: 0000:00:1e.0
2022-03-09 16:52:36.611653: I tensorflow/stream_executor/platform/default/dso_loader.cc:48] Successfully opened dynamic library libcudart.so.11.0
2022-03-09 16:52:36.611758: I tensorflow/stream_executor/platform/default/dso_loader.cc:48] Successfully opened dynamic library libcublas.so.11
2022-03-09 16:52:36.611801: I tensorflow/stream_executor/platform/default/dso_loader.cc:48] Successfully opened dynamic library libcufft.so.10
2022-03-09 16:52:36.611823: I tensorflow/stream_executor/platform/default/dso_loader.cc:48] Successfully opened dynamic library libcurand.so.10
2022-03-09 16:52:36.611858: I tensorflow/stream_executor/platform/default/dso_loader.cc:48] Successfully opened dynamic library libcusolver.so.10
2022-03-09 16:52:36.611902: I tensorflow/stream_executor/platform/default/dso_loader.cc:48] Successfully opened dynamic library libcusparse.so.11
2022-03-09 16:52:36.611926: I tensorflow/stream_executor/platform/default/dso_loader.cc:48] Successfully opened dynamic library libcudnn.so.8
2022-03-09 16:52:36.612050: I tensorflow/stream_executor/cuda/cuda_gpu_executor.cc:983] successful NUMA node read from SysFS had negative value (-1), but there must be at least one NUMA node, so returning NUMA node zero
2022-03-09 16:52:36.613658: I tensorflow/stream_executor/cuda/cuda_gpu_executor.cc:983] successful NUMA node read from SysFS had negative value (-1), but there must be at least one NUMA node, so returning NUMA node zero
2022-03-09 16:52:36.615153: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1767] Adding visible gpu devices: 0
2022-03-09 16:52:36.615216: I tensorflow/stream_executor/platform/default/dso_loader.cc:48] Successfully opened dynamic library libcudart.so.11.0
2022-03-09 16:52:37.279858: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1180] Device interconnect StreamExecutor with strength 1 edge matrix:
2022-03-09 16:52:37.280015: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1186]      0 
2022-03-09 16:52:37.280068: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1199] 0:   N 
2022-03-09 16:52:37.281747: I tensorflow/stream_executor/cuda/cuda_gpu_executor.cc:983] successful NUMA node read from SysFS had negative value (-1), but there must be at least one NUMA node, so returning NUMA node zero
2022-03-09 16:52:37.283041: I tensorflow/stream_executor/cuda/cuda_gpu_executor.cc:983] successful NUMA node read from SysFS had negative value (-1), but there must be at least one NUMA node, so returning NUMA node zero
2022-03-09 16:52:37.283886: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1325] Created TensorFlow device (/job:localhost/replica:0/task:0/device:GPU:0 with 2044 MB memory) -> physical GPU (device: 0, name: Tesla V100-SXM2-16GB, pci bus id: 0000:00:1e.0, compute capability: 7.0)
2022-03-09 16:52:38.528272: I tensorflow/core/grappler/optimizers/auto_mixed_precision.cc:1987] Running auto_mixed_precision graph optimizer
2022-03-09 16:52:38.541742: I tensorflow/core/grappler/optimizers/auto_mixed_precision.cc:1343] No whitelist ops found, nothing to do
2022-03-09 16:52:40.773737: I tensorflow/core/grappler/optimizers/auto_mixed_precision.cc:1987] Running auto_mixed_precision graph optimizer
2022-03-09 16:52:40.781844: I tensorflow/core/grappler/optimizers/auto_mixed_precision.cc:1343] No whitelist ops found, nothing to do
INFO:tensorflow:Running local_init_op.
I0309 16:52:41.586459 139929489867520 session_manager.py:500] Running local_init_op.
2022-03-09 16:52:41.873474: I tensorflow/core/grappler/optimizers/auto_mixed_precision.cc:1987] Running auto_mixed_precision graph optimizer
2022-03-09 16:52:41.874030: I tensorflow/core/grappler/optimizers/auto_mixed_precision.cc:1343] No whitelist ops found, nothing to do
INFO:tensorflow:Done running local_init_op.
I0309 16:52:41.937167 139929489867520 session_manager.py:502] Done running local_init_op.
2022-03-09 16:52:42.382511: I tensorflow/core/grappler/optimizers/auto_mixed_precision.cc:1987] Running auto_mixed_precision graph optimizer
2022-03-09 16:52:42.389297: I tensorflow/core/grappler/optimizers/auto_mixed_precision.cc:1343] No whitelist ops found, nothing to do
2022-03-09 16:52:43.470560: I tensorflow/core/grappler/optimizers/auto_mixed_precision.cc:1987] Running auto_mixed_precision graph optimizer
2022-03-09 16:52:43.471438: I tensorflow/core/grappler/optimizers/auto_mixed_precision.cc:1343] No whitelist ops found, nothing to do
2022-03-09 16:52:43.520343: I tensorflow/core/grappler/optimizers/auto_mixed_precision.cc:1343] No whitelist ops found, nothing to do
2022-03-09 16:52:43.549059: I tensorflow/core/grappler/optimizers/auto_mixed_precision.cc:1343] No whitelist ops found, nothing to do
2022-03-09 16:52:43.566190: I tensorflow/core/grappler/optimizers/auto_mixed_precision.cc:1343] No whitelist ops found, nothing to do
2022-03-09 16:52:43.569299: I tensorflow/core/grappler/optimizers/auto_mixed_precision.cc:1343] No whitelist ops found, nothing to do
2022-03-09 16:52:43.572268: I tensorflow/core/grappler/optimizers/auto_mixed_precision.cc:1343] No whitelist ops found, nothing to do
2022-03-09 16:52:43.576047: I tensorflow/core/grappler/optimizers/auto_mixed_precision.cc:1343] No whitelist ops found, nothing to do
2022-03-09 16:52:43.578515: I tensorflow/core/grappler/optimizers/auto_mixed_precision.cc:1343] No whitelist ops found, nothing to do
2022-03-09 16:52:43.600247: I tensorflow/core/grappler/optimizers/auto_mixed_precision.cc:1343] No whitelist ops found, nothing to do
2022-03-09 16:52:43.620234: I tensorflow/core/grappler/optimizers/auto_mixed_precision.cc:1343] No whitelist ops found, nothing to do
2022-03-09 16:52:43.838415: I tensorflow/core/grappler/optimizers/auto_mixed_precision.cc:1343] No whitelist ops found, nothing to do
2022-03-09 16:52:43.956509: I tensorflow/core/grappler/optimizers/auto_mixed_precision.cc:1343] No whitelist ops found, nothing to do
2022-03-09 16:52:43.961549: I tensorflow/core/grappler/optimizers/auto_mixed_precision.cc:1343] No whitelist ops found, nothing to do
2022-03-09 16:52:43.966342: I tensorflow/core/grappler/optimizers/auto_mixed_precision.cc:1343] No whitelist ops found, nothing to do
2022-03-09 16:52:43.971053: I tensorflow/core/grappler/optimizers/auto_mixed_precision.cc:1343] No whitelist ops found, nothing to do
2022-03-09 16:52:43.973965: I tensorflow/core/grappler/optimizers/auto_mixed_precision.cc:1343] No whitelist ops found, nothing to do
2022-03-09 16:52:43.979583: I tensorflow/core/grappler/optimizers/auto_mixed_precision.cc:1343] No whitelist ops found, nothing to do
2022-03-09 16:52:43.983943: I tensorflow/core/grappler/optimizers/auto_mixed_precision.cc:1343] No whitelist ops found, nothing to do
2022-03-09 16:52:44.001134: I tensorflow/core/grappler/optimizers/auto_mixed_precision.cc:1343] No whitelist ops found, nothing to do
2022-03-09 16:52:44.014050: I tensorflow/core/grappler/optimizers/auto_mixed_precision.cc:1343] No whitelist ops found, nothing to do
2022-03-09 16:52:44.016924: I tensorflow/core/grappler/optimizers/auto_mixed_precision.cc:1343] No whitelist ops found, nothing to do
2022-03-09 16:52:44.019533: I tensorflow/core/grappler/optimizers/auto_mixed_precision.cc:1343] No whitelist ops found, nothing to do
2022-03-09 16:52:44.022542: I tensorflow/core/grappler/optimizers/auto_mixed_precision.cc:1343] No whitelist ops found, nothing to do
2022-03-09 16:52:44.025961: I tensorflow/core/grappler/optimizers/auto_mixed_precision.cc:1343] No whitelist ops found, nothing to do
2022-03-09 16:52:46.382620: I tensorflow/core/grappler/optimizers/auto_mixed_precision.cc:1987] Running auto_mixed_precision graph optimizer
2022-03-09 16:52:46.429497: I tensorflow/core/grappler/optimizers/auto_mixed_precision.cc:1035] Automatic Mixed Precision Grappler Pass Summary:

Total processable nodes: 3870
Recognized nodes available for conversion: 3198
Total nodes converted: 300
Total FP16 Cast ops used (excluding Const and Variable casts): 1
Whitelisted nodes converted: 110
Blacklisted nodes blocking conversion: 4
Nodes blocked from conversion by blacklisted nodes: 8

For more information regarding mixed precision training, including how to make automatic mixed precision aware of a custom op type, please see the documentation available here:
https://docs.nvidia.com/deeplearning/frameworks/tensorflow-user-guide/index.html#tfamp


2022-03-09 16:52:48.723683: I tensorflow/stream_executor/platform/default/dso_loader.cc:48] Successfully opened dynamic library libcudnn.so.8
2022-03-09 16:52:50.351235: I tensorflow/stream_executor/platform/default/dso_loader.cc:48] Successfully opened dynamic library libcublas.so.11
INFO:tensorflow:Latency 90%: 146.09 ms
I0309 16:53:38.027441 139929489867520 SSD320_inference.py:100] Latency 90%: 146.09 ms
INFO:tensorflow:Latency 95%: 151.11 ms
I0309 16:53:38.028135 139929489867520 SSD320_inference.py:100] Latency 95%: 151.11 ms
INFO:tensorflow:Latency 99%: 165.95 ms
I0309 16:53:38.028550 139929489867520 SSD320_inference.py:100] Latency 99%: 165.95 ms

Benchmark result: 10.135793679909161 img/s
+ count=12
+ echo INFERENCE_LOOP_COUNT=12
INFERENCE_LOOP_COUNT=12
Inference ran for 20, bailing out.
+ [[ -n 20 ]]
+ minutes=20
+ [[ 20 -ge 20 ]]
+ echo 'Inference ran for 20, bailing out.'
+ break
